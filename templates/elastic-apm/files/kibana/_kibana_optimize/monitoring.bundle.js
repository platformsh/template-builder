/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements.
 * Licensed under the Elastic License; you may not use this file except in compliance with the Elastic License. */
var __kbnBundles__=typeof __kbnBundles__==="object"?__kbnBundles__:{};__kbnBundles__["monitoring"]=function(modules){function webpackJsonpCallback(data){var chunkIds=data[0];var moreModules=data[1];var executeModules=data[2];var moduleId,chunkId,i=0,resolves=[];for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(installedChunks[chunkId]){resolves.push(installedChunks[chunkId][0])}installedChunks[chunkId]=0}for(moduleId in moreModules){if(Object.prototype.hasOwnProperty.call(moreModules,moduleId)){modules[moduleId]=moreModules[moduleId]}}if(parentJsonpFunction)parentJsonpFunction(data);while(resolves.length){resolves.shift()()}deferredModules.push.apply(deferredModules,executeModules||[]);return checkDeferredModules()}function checkDeferredModules(){var result;for(var i=0;i<deferredModules.length;i++){var deferredModule=deferredModules[i];var fulfilled=true;for(var j=1;j<deferredModule.length;j++){var depId=deferredModule[j];if(installedChunks[depId]!==0)fulfilled=false}if(fulfilled){deferredModules.splice(i--,1);result=__webpack_require__(__webpack_require__.s=deferredModule[0])}}return result}var installedModules={};var installedChunks={15:0};var deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="__REPLACE_WITH_PUBLIC_PATH__";var jsonpArray=window["webpackJsonp"]=window["webpackJsonp"]||[];var oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback;jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([2475,0]);return checkDeferredModules()}({1312:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.extractIp=extractIp;function extractIp(transport){if(typeof transport!=="string"){return null}var matches=transport.match(/inet\[[^\/]*\/([^\/\]]+)\]/);if(matches){return matches[1]}return transport}},1313:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTimeseriesContainer=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _get_title=__webpack_require__(1314);var _get_units=__webpack_require__(1315);var _monitoring_timeseries=__webpack_require__(1316);var _info_tooltip=__webpack_require__(1321);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function MonitoringTimeseriesContainerUI(_ref){var series=_ref.series,onBrush=_ref.onBrush,intl=_ref.intl;if(series===undefined){return null}var title=(0,_get_title.getTitle)(series);var titleForAriaIds=title.replace(/\s+/,"--");var units=(0,_get_units.getUnits)(series);var bucketSize=(0,_lodash.get)((0,_lodash.first)(series),"bucket_size");var seriesScreenReaderTextList=[intl.formatMessage({id:"xpack.monitoring.chart.seriesScreenReaderListDescription",defaultMessage:"Interval: {bucketSize}"},{bucketSize:bucketSize})].concat(series.map(function(item){return"".concat(item.metric.label,": ").concat(item.metric.description)}));return _react.default.createElement(_eui.EuiFlexGroup,{direction:"column",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s",tabIndex:"0"},_react.default.createElement("h2",null,(0,_get_title.getTitle)(series),units?" (".concat(units,")"):"",_react.default.createElement(_eui.EuiScreenReaderOnly,null,_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.chart.screenReaderUnaccessibleTitle",defaultMessage:"This chart is not screen reader accessible"})))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiIconTip,{anchorClassName:"eui-textRight eui-alignMiddle monChart__tooltipTrigger",type:"iInCircle",position:"right",content:_react.default.createElement(_info_tooltip.InfoTooltip,{series:series,bucketSize:bucketSize})}),_react.default.createElement(_eui.EuiScreenReaderOnly,null,_react.default.createElement("span",{id:"monitoringChart".concat(titleForAriaIds)},seriesScreenReaderTextList.join(". "))))))),_react.default.createElement(_eui.EuiFlexItem,{style:{minHeight:"200px"}},_react.default.createElement(_monitoring_timeseries.MonitoringTimeseries,{series:series,onBrush:onBrush})))}var MonitoringTimeseriesContainer=(0,_react2.injectI18n)(MonitoringTimeseriesContainerUI);exports.MonitoringTimeseriesContainer=MonitoringTimeseriesContainer},1314:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getTitle=getTitle;var _lodash=__webpack_require__(3);function getTitle(){var series=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];return(0,_lodash.chain)(series.map(function(s){return s.metric.title||s.metric.label})).first().value()}},1315:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getUnits=getUnits;var _lodash=__webpack_require__(3);var _numeral=_interopRequireDefault(__webpack_require__(217));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getUnits(series){var units=(0,_lodash.get)(series,"[0].metric.units");if(units==="B"){var maxLastBytes=0;(0,_lodash.forEach)(series,function(s){var lastDataPoint=(0,_lodash.last)(s.data)||[null,0];maxLastBytes=Math.max(maxLastBytes,lastDataPoint[1])});units=(0,_numeral.default)(maxLastBytes).byteUnits()}return units}},1316:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTimeseries=MonitoringTimeseries;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _numeral=_interopRequireDefault(__webpack_require__(217));var _get_color=__webpack_require__(2491);var _timeseries_visualization=__webpack_require__(2492);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatTicksFor(series){var format=(0,_lodash.get)(series,".metric.format","0,0.0");var units=(0,_lodash.get)(series,".metric.units","");return function formatTicks(val){var formatted=(0,_numeral.default)(val).format(format);if(units!=="B"&&units!==""){formatted+=" "+units}return formatted}}function MonitoringTimeseries(_ref){var series=_ref.series,onBrush=_ref.onBrush;var dataset=series.map(function(s,index){return{color:(0,_get_color.getColor)(s.metric.app,index),data:s.data,label:s.metric.label}});var firstSeries=(0,_lodash.first)(series);var timeRange=(0,_lodash.get)(firstSeries,"timeRange");var formatTicks=formatTicksFor(firstSeries);return _react.default.createElement(_timeseries_visualization.TimeseriesVisualization,{series:dataset,timeRange:timeRange,tickFormatter:formatTicks,onBrush:onBrush})}},1321:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.InfoTooltip=InfoTooltip;var _react=_interopRequireDefault(__webpack_require__(0));var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function InfoTooltip(_ref){var series=_ref.series,bucketSize=_ref.bucketSize;var tableRows=series.map(function(item,index){return _react.default.createElement("tr",{key:"chart-tooltip-".concat(index),"data-debug-metric-agg":item.metric.metricAgg,"data-debug-metric-field":item.metric.field,"data-debug-metric-is-derivative":item.metric.isDerivative,"data-debug-metric-has-calculation":item.metric.hasCalculation},_react.default.createElement("td",{className:"monChart__tooltipLabel"},item.metric.label),_react.default.createElement("td",{className:"monChart__tooltipValue"},item.metric.description))});return _react.default.createElement("table",null,_react.default.createElement("tbody",null,_react.default.createElement("tr",null,_react.default.createElement("td",{className:"monChart__tooltipLabel"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.chart.infoTooltip.intervalLabel",defaultMessage:"Interval"})),_react.default.createElement("td",{className:"monChart__tooltipValue"},bucketSize)),tableRows))}},1322:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NodeStatusIcon",{enumerable:true,get:function get(){return _status_icon.NodeStatusIcon}});var _status_icon=__webpack_require__(2507)},1323:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailStatus=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(292);var _status_icon=__webpack_require__(673);var _format_number=__webpack_require__(45);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DetailStatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var transportAddress=stats.transport_address,osFreeMemory=stats.os_memory_free,version=stats.version,uptime=stats.uptime,status=stats.status;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.kibana.detailStatus.transportAddressLabel",defaultMessage:"Transport Address"}),value:transportAddress,"data-test-subj":"transportAddress"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.detailStatus.osFreeMemoryLabel",defaultMessage:"OS Free Memory"}),value:(0,_format_number.formatMetric)(osFreeMemory,"byte"),"data-test-subj":"osFreeMemory"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.detailStatus.versionLabel",defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.detailStatus.uptimeLabel",defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(uptime,"time_since"),"data-test-subj":"uptime"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_status_icon.KibanaStatusIcon,{status:status})};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"kibanaDetailStatus"})}var DetailStatus=(0,_react2.injectI18n)(DetailStatusUI);exports.DetailStatus=DetailStatus},1324:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Stats",{enumerable:true,get:function get(){return _stats.Stats}});var _stats=__webpack_require__(2525)},1325:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SettingsChecker=void 0;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var SettingsChecker=function(){function SettingsChecker($http){_classCallCheck(this,SettingsChecker);this.$http=$http;this.message=null;this.api=null;this.next=null}_createClass(SettingsChecker,[{key:"setApi",value:function setApi(api){this.api=api}},{key:"setMessage",value:function setMessage(message){this.message=message}},{key:"getApi",value:function getApi(){return this.api}},{key:"getMessage",value:function getMessage(){return this.message}},{key:"hasNext",value:function hasNext(){return this.next!==null}},{key:"setNext",value:function setNext(checker){this.next=checker}},{key:"getNext",value:function getNext(){return this.next}},{key:"executeCheck",value:function(){var _executeCheck=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var _ref,data,found,reason,_data;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return this.$http.get(this.getApi());case 3:_ref=_context.sent;data=_ref.data;found=data.found,reason=data.reason;return _context.abrupt("return",{found:found,reason:reason});case 9:_context.prev=9;_context.t0=_context["catch"](0);_data=_context.t0.data;return _context.abrupt("return",{error:true,found:false,errorReason:_data});case 13:case"end":return _context.stop()}}},_callee,this,[[0,9]])}));function executeCheck(){return _executeCheck.apply(this,arguments)}return executeCheck}()}]);return SettingsChecker}();exports.SettingsChecker=SettingsChecker},1326:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Logs=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _chrome=_interopRequireDefault(__webpack_require__(9));var _eui=__webpack_require__(1);var _formatting=__webpack_require__(359);var _i18n=__webpack_require__(4);var _react2=__webpack_require__(5);var _reason=__webpack_require__(1327);var _capabilities=__webpack_require__(44);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var columnTimestampTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.timestampTitle",{defaultMessage:"Timestamp"});var columnLevelTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.levelTitle",{defaultMessage:"Level"});var columnTypeTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.typeTitle",{defaultMessage:"Type"});var columnMessageTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.messageTitle",{defaultMessage:"Message"});var columnComponentTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.componentTitle",{defaultMessage:"Component"});var columnNodeTitle=_i18n.i18n.translate("xpack.monitoring.logs.listing.nodeTitle",{defaultMessage:"Node"});var columns=[{field:"timestamp",name:columnTimestampTitle,width:"12%",render:function render(timestamp){return(0,_formatting.formatDateTimeLocal)(timestamp)}},{field:"level",name:columnLevelTitle,width:"5%"},{field:"type",name:columnTypeTitle,width:"10%",render:function render(type){return(0,_lodash.capitalize)(type)}},{field:"message",name:columnMessageTitle,width:"55%"},{field:"component",name:columnComponentTitle,width:"18%"}];var clusterColumns=[{field:"timestamp",name:columnTimestampTitle,width:"12%",render:function render(timestamp){return(0,_formatting.formatDateTimeLocal)(timestamp)}},{field:"level",name:columnLevelTitle,width:"5%"},{field:"type",name:columnTypeTitle,width:"10%",render:function render(type){return(0,_lodash.capitalize)(type)}},{field:"message",name:columnMessageTitle,width:"45%"},{field:"component",name:columnComponentTitle,width:"15%"},{field:"node",name:columnNodeTitle,width:"13%"}];function getLogsUiLink(clusterUuid,nodeId,indexUuid){var base="".concat(_chrome.default.getBasePath(),"/app/infra#/link-to/logs");var params=[];if(clusterUuid){params.push("elasticsearch.cluster.uuid:".concat(clusterUuid))}if(nodeId){params.push("elasticsearch.node.id:".concat(nodeId))}if(indexUuid){params.push("elasticsearch.index.name:".concat(indexUuid))}if(params.length===0){return base}return"".concat(base,"?filter=").concat(params.join(" and "))}var Logs=function(_PureComponent){_inherits(Logs,_PureComponent);function Logs(){_classCallCheck(this,Logs);return _possibleConstructorReturn(this,_getPrototypeOf(Logs).apply(this,arguments))}_createClass(Logs,[{key:"renderLogs",value:function renderLogs(){var _this$props=this.props,_this$props$logs=_this$props.logs,enabled=_this$props$logs.enabled,logs=_this$props$logs.logs,nodeId=_this$props.nodeId,indexUuid=_this$props.indexUuid;if(!enabled){return null}return _react.default.createElement(_eui.EuiBasicTable,{items:logs||[],columns:nodeId||indexUuid?columns:clusterColumns})}},{key:"renderNoLogs",value:function renderNoLogs(){var _this$props$logs2=this.props.logs,enabled=_this$props$logs2.enabled,reason=_this$props$logs2.reason;if(enabled){return null}return _react.default.createElement(_reason.Reason,{reason:reason})}},{key:"renderCallout",value:function renderCallout(){var uiCapabilities=_capabilities.capabilities.get();var show=uiCapabilities.logs&&uiCapabilities.logs.show;var _this$props2=this.props,enabled=_this$props2.logs.enabled,nodeId=_this$props2.nodeId,clusterUuid=_this$props2.clusterUuid,indexUuid=_this$props2.indexUuid;if(!enabled||!show){return null}return _react.default.createElement(_eui.EuiCallOut,{size:"m",title:_i18n.i18n.translate("xpack.monitoring.logs.listing.calloutTitle",{defaultMessage:"Want to see more log entries?"}),iconType:"loggingApp"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.listing.linkText",defaultMessage:"Visit {link} to dive deeper.",values:{link:_react.default.createElement(_eui.EuiLink,{href:getLogsUiLink(clusterUuid,nodeId,indexUuid)},_i18n.i18n.translate("xpack.monitoring.logs.listing.calloutLinkText",{defaultMessage:"Logs"}))}})))}},{key:"render",value:function render(){var _this$props3=this.props,nodeId=_this$props3.nodeId,indexUuid=_this$props3.indexUuid,limit=_this$props3.logs.limit;var description;if(nodeId){description=_i18n.i18n.translate("xpack.monitoring.logs.listing.nodePageDescription",{defaultMessage:"Showing the most recent log entries for this node, up to {limit} total log entries.",values:{limit:limit}})}else if(indexUuid){description=_i18n.i18n.translate("xpack.monitoring.logs.listing.indexPageDescription",{defaultMessage:"Showing the most recent log entries for this index, up to {limit} total log entries.",values:{limit:limit}})}else{description=_i18n.i18n.translate("xpack.monitoring.logs.listing.clusterPageDescription",{defaultMessage:"Showing the most recent log entries for this cluster, up to {limit} total log entries.",values:{limit:limit}})}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h1",null,_i18n.i18n.translate("xpack.monitoring.logs.listing.pageTitle",{defaultMessage:"Recent Log Entries"}))),_react.default.createElement(_eui.EuiText,{size:"s"},_react.default.createElement("p",null,description)),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderLogs(),this.renderNoLogs(),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),this.renderCallout())}}]);return Logs}(_react.PureComponent);exports.Logs=Logs},1327:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Reason=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _i18n=__webpack_require__(4);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Reason=function Reason(_ref){var reason=_ref.reason;var title;var message;if(false===reason.indexPatternExists){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noIndexPatternTitle",{defaultMessage:"No log data found"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noIndexPatternMessage",defaultMessage:"Set up {link}, then configure your Elasticsearch output to your monitoring cluster.",values:{link:_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-installation.html"},_i18n.i18n.translate("xpack.monitoring.logs.reason.noIndexPatternLink",{defaultMessage:"Filebeat"}))}})}else if(false===reason.indexPatternInTimeRangeExists||false===reason.typeExists&&reason.typeExistsAtAnyTime){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noIndexPatternInTimePeriodTitle",{defaultMessage:"No logs for the selected time"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noIndexPatternInTimePeriodMessage",defaultMessage:"Use the time filter to adjust your timeframe."})}else if(false===reason.typeExists){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noTypeTitle",{defaultMessage:"No logs for Elasticsearch"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noTypeMessage",defaultMessage:"Follow {link} to set up Elasticsearch.",values:{link:_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-module-elasticsearch.html"},_i18n.i18n.translate("xpack.monitoring.logs.reason.noTypeLink",{defaultMessage:"these directions"}))}})}else if(false===reason.clusterExists){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noClusterTitle",{defaultMessage:"No logs for this cluster"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noClusterMessage",defaultMessage:"Check that your {link} is correct.",values:{link:_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-installation.html"},_i18n.i18n.translate("xpack.monitoring.logs.reason.noClusterLink",{defaultMessage:"setup"}))}})}else if(false===reason.nodeExists){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noNodeTitle",{defaultMessage:"No logs for this Elasticsearch node"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noNodeMessage",defaultMessage:"Check that your {link} is correct.",values:{link:_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-installation.html"},_i18n.i18n.translate("xpack.monitoring.logs.reason.noNodeLink",{defaultMessage:"setup"}))}})}else if(false===reason.indexExists){title=_i18n.i18n.translate("xpack.monitoring.logs.reason.noIndexTitle",{defaultMessage:"No logs for this index"});message=_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logs.reason.noIndexMessage",defaultMessage:"We found logs, but none for this index. If this problem continues, check that your {link} is correct.",values:{link:_react.default.createElement(_eui.EuiLink,{href:"https://www.elastic.co/guide/en/beats/filebeat/current/filebeat-installation.html"},_i18n.i18n.translate("xpack.monitoring.logs.reason.noNodeLink",{defaultMessage:"setup"}))}})}return _react.default.createElement(_eui.EuiCallOut,{title:title,color:"warning",iconType:"help"},_react.default.createElement("p",null,message))};exports.Reason=Reason},1328:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FormattedAlert=FormattedAlert;var _momentTimezone=_interopRequireDefault(__webpack_require__(224));__webpack_require__(672);var _react=_interopRequireDefault(__webpack_require__(0));var _format_timestamp_to_duration=__webpack_require__(674);var _constants=__webpack_require__(81);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FormattedAlert(_ref){var prefix=_ref.prefix,suffix=_ref.suffix,message=_ref.message,metadata=_ref.metadata,changeUrl=_ref.changeUrl;var formattedAlert=function(){if(metadata&&metadata.link){if(metadata.link.startsWith("https")){return _react.default.createElement(_eui.EuiLink,{href:metadata.link,target:"_blank","data-test-subj":"alertAction"},message)}var goToLink=function goToLink(){return changeUrl("/".concat(metadata.link))};return _react.default.createElement(_eui.EuiLink,{onClick:goToLink,"data-test-subj":"alertAction"},message)}return message}();if(metadata&&metadata.time){prefix=prefix.replace(/{{#relativeTime}}metadata\.([\w\.]+){{\/relativeTime}}/,function(_match,field){return(0,_format_timestamp_to_duration.formatTimestampToDuration)(metadata[field],_constants.CALCULATE_DURATION_UNTIL)});prefix=prefix.replace(/{{#absoluteTime}}metadata\.([\w\.]+){{\/absoluteTime}}/,function(_match,field){return _momentTimezone.default.tz(metadata[field],_momentTimezone.default.tz.guess()).format("LLL z")})}var formattedPrefix=prefix?"".concat(prefix," "):null;var formattedSuffix=suffix?" ".concat(suffix):null;return _react.default.createElement("span",{"data-test-subj":"alertText"},formattedPrefix,formattedAlert,formattedSuffix)}},1329:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringViewBaseEuiTableController=void 0;var _=__webpack_require__(243);var _table=__webpack_require__(267);var _constants=__webpack_require__(81);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var MonitoringViewBaseEuiTableController=function(_MonitoringViewBaseCo){_inherits(MonitoringViewBaseEuiTableController,_MonitoringViewBaseCo);function MonitoringViewBaseEuiTableController(args){var _this;_classCallCheck(this,MonitoringViewBaseEuiTableController);_this=_possibleConstructorReturn(this,_getPrototypeOf(MonitoringViewBaseEuiTableController).call(this,args));var storageKey=args.storageKey,$injector=args.$injector;var storage=$injector.get("localStorage");var getLocalStorageData=(0,_table.euiTableStorageGetter)(storageKey);var setLocalStorageData=(0,_table.euiTableStorageSetter)(storageKey);var _getLocalStorageData=getLocalStorageData(storage),page=_getLocalStorageData.page,sort=_getLocalStorageData.sort;_this.pagination=page||{initialPageSize:20,pageSizeOptions:[5,10,20,50]};_this.sorting=sort||{sort:{field:"name",direction:_constants.EUI_SORT_ASCENDING}};_this.onTableChange=function(_ref){var page=_ref.page,sort=_ref.sort;setLocalStorageData(storage,{page:page,sort:{sort:sort}})};return _this}return MonitoringViewBaseEuiTableController}(_.MonitoringViewBaseController);exports.MonitoringViewBaseEuiTableController=MonitoringViewBaseEuiTableController},1330:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.labels=void 0;var _i18n=__webpack_require__(4);var labels={index:[{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.nodesLabel",{defaultMessage:"Nodes"})}],indexWithUnassigned:[{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.unassignedLabel",{defaultMessage:"Unassigned"})},{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.unassignedNodesLabel",{defaultMessage:"Nodes"})}],node:[{content:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.labels.indicesLabel",{defaultMessage:"Indices"}),showToggleSystemIndicesComponent:true}]};exports.labels=labels},1331:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.decorateShards=decorateShards;var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(4);function decorateShards(shards,nodes){function getTooltipMessage(shard){var isRelocating=function isRelocating(node){return(0,_lodash.includes)(node.node_ids,shard.relocating_node)};var nodeName=(0,_lodash.get)((0,_lodash.find)(nodes,function(n){return isRelocating(n)}),"name");if(nodeName){if(shard.state==="INITIALIZING"){return _i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.decorateShards.relocatingFromTextMessage",{defaultMessage:"Relocating from {nodeName}",values:{nodeName:nodeName}})}if(shard.state==="RELOCATING"){return _i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.decorateShards.relocatingToTextMessage",{defaultMessage:"Relocating to {nodeName}",values:{nodeName:nodeName}})}}return(0,_lodash.capitalize)(shard.state.toLowerCase())}return shards.map(function(shard){var node=nodes[shard.node];shard.nodeName=node&&node.name||null;shard.type="shard";shard.tooltip_message=getTooltipMessage(shard);return shard})}},1332:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShardAllocation=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);var _i18n=__webpack_require__(4);var _cluster_view=__webpack_require__(2608);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ShardAllocation=function ShardAllocation(_ref){var scope=_ref.scope,kbnUrl=_ref.kbnUrl,type=_ref.type,shardStats=_ref.shardStats;var types=[{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.primaryLabel",{defaultMessage:"Primary"}),color:"primary"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.replicaLabel",{defaultMessage:"Replica"}),color:"secondary"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.relocatingLabel",{defaultMessage:"Relocating"}),color:"accent"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.initializingLabel",{defaultMessage:"Initializing"}),color:"default"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedPrimaryLabel",{defaultMessage:"Unassigned Primary"}),color:"danger"},{label:_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedReplicaLabel",{defaultMessage:"Unassigned Replica"}),color:"warning"}];return _react.default.createElement("div",{className:"monCluster"},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h1",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardAllocation.shardLegendTitle",defaultMessage:"Shard Legend"}))),_react.default.createElement(_eui.EuiSpacer,{size:"xs"}),_react.default.createElement(_eui.EuiFlexGroup,{wrap:true,responsive:false,gutterSize:"xs"},types.map(function(type){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:type.label},_react.default.createElement(_eui.EuiBadge,{color:type.color},type.label))})),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_cluster_view.ClusterView,{scope:scope,shardStats:shardStats,kbnUrl:kbnUrl,showSystemIndices:scope.showSystemIndices,toggleShowSystemIndices:scope.toggleShowSystemIndices,type:type}))};exports.ShardAllocation=ShardAllocation},1333:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Shard=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _calculate_class=__webpack_require__(1334);var _vents=__webpack_require__(2612);var _i18n=__webpack_require__(4);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getColor(classes){var classList=classes.split(" ");if(classList.includes("emergency")){return"danger"}if(classList.includes("unassigned")){if(classList.includes("replica")){return"warning"}return"danger"}if(classList.includes("relocating")){return"accent"}if(classList.includes("initializing")){return"default"}if(classList.includes("primary")){return"primary"}if(classList.includes("replica")){return"secondary"}}var Shard=function(_React$Component){_inherits(Shard,_React$Component);function Shard(){var _getPrototypeOf2;var _this;_classCallCheck(this,Shard);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Shard)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"state",{tooltipVisible:false});_defineProperty(_assertThisInitialized(_this),"generateKey",function(relocating){var shard=_this.props.shard;var shardType=shard.primary?"primary":"replica";var additionId=shard.state==="UNASSIGNED"?Math.random():"";var node=relocating?shard.relocating_node:shard.node;return shard.index+"."+node+"."+shardType+"."+shard.shard+additionId});_defineProperty(_assertThisInitialized(_this),"toggle",function(event){if(_this.props.shard.tooltip_message){var action=event.type==="mouseenter"?"show":"hide";var key=_this.generateKey(true);_this.setState({tooltipVisible:action==="show"});_vents.vents.trigger(key,action)}});return _this}_createClass(Shard,[{key:"componentDidMount",value:function componentDidMount(){var key;var shard=this.props.shard;var self=this;if(shard.tooltip_message){key=this.generateKey();_vents.vents.on(key,function(action){self.setState({tooltipVisible:action==="show"})})}}},{key:"componentWillUnmount",value:function componentWillUnmount(){var key;var shard=this.props.shard;if(shard.tooltip_message){key=this.generateKey();_vents.vents.clear(key)}}},{key:"render",value:function render(){var shard=this.props.shard;var classes=(0,_calculate_class.calculateClass)(shard);var color=getColor(classes);var classification=classes+" "+shard.shard;var shardUi=_react.default.createElement(_eui.EuiBadge,{color:color},shard.shard);if(this.state.tooltipVisible){shardUi=_react.default.createElement(_eui.EuiToolTip,{content:this.props.shard.tooltip_message,position:"bottom","data-test-subj":"shardTooltip"},_react.default.createElement("p",null,shardUi))}return _react.default.createElement("div",{onMouseEnter:this.toggle,onMouseLeave:this.toggle,className:classes,"data-shard-tooltip":this.props.shard.tooltip_message,"data-shard-classification":classification,"data-test-subj":"shardIcon"},shardUi)}}]);return Shard}(_react.default.Component);exports.Shard=Shard;_defineProperty(Shard,"displayName",_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.shardDisplayName",{defaultMessage:"Shard"}))},1334:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.calculateClass=calculateClass;function calculateClass(item,initial){var classes=[item.type];if(initial){classes.push(initial)}if(item.type==="shard"){classes.push(item.primary&&"primary"||"replica");classes.push(item.state.toLowerCase());if(item.state==="UNASSIGNED"&&item.primary){classes.push("emergency")}}if(item.master){classes.push("master")}return classes.join(" ")}},1335:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Logs",{enumerable:true,get:function get(){return _logs.Logs}});var _logs=__webpack_require__(1326)},1336:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isPipelineMonitoringSupportedInVersion=isPipelineMonitoringSupportedInVersion;var _semver=_interopRequireDefault(__webpack_require__(675));var _constants=__webpack_require__(81);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isPipelineMonitoringSupportedInVersion(logstashVersion){var major=_semver.default.major(logstashVersion);return major>=_constants.LOGSTASH.MAJOR_VER_REQD_FOR_PIPELINES}},1337:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineListing=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(16));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(1);var _format_number=__webpack_require__(45);var _cluster_status=__webpack_require__(873);var _sparkline=__webpack_require__(867);var _table=__webpack_require__(267);var _react2=__webpack_require__(5);var _i18n=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var PipelineListingUI=function(_Component){_inherits(PipelineListingUI,_Component);function PipelineListingUI(){_classCallCheck(this,PipelineListingUI);return _possibleConstructorReturn(this,_getPrototypeOf(PipelineListingUI).apply(this,arguments))}_createClass(PipelineListingUI,[{key:"tooltipXValueFormatter",value:function tooltipXValueFormatter(xValue,dateFormat){return(0,_moment.default)(xValue).format(dateFormat)}},{key:"tooltipYValueFormatter",value:function tooltipYValueFormatter(yValue,format,units){return(0,_format_number.formatMetric)(yValue,format,units)}},{key:"getColumns",value:function getColumns(){var _this=this;var _this$props=this.props,onBrush=_this$props.onBrush,dateFormat=_this$props.dateFormat;var _this$props$angular=this.props.angular,kbnUrl=_this$props$angular.kbnUrl,scope=_this$props$angular.scope;return[{name:_i18n.i18n.translate("xpack.monitoring.logstash.pipelines.idTitle",{defaultMessage:"ID"}),field:"id",sortable:true,render:function render(id){return _react.default.createElement(_eui.EuiLink,{"data-test-subj":"id",onClick:function onClick(){scope.$evalAsync(function(){kbnUrl.changePath("/logstash/pipelines/".concat(id))})}},id)}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.pipelines.eventsEmittedRateTitle",{defaultMessage:"Events Emitted Rate"}),field:"latestThroughput",sortable:true,render:function render(value,pipeline){var throughput=pipeline.metrics.throughput;return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_sparkline.Sparkline,{series:throughput.data,onBrush:onBrush,tooltip:{xValueFormatter:function xValueFormatter(value){return _this.tooltipXValueFormatter(value,dateFormat)},yValueFormatter:(0,_lodash.partialRight)(_this.tooltipYValueFormatter,throughput.metric.format,throughput.metric.units)},options:{xaxis:throughput.timeRange}})),_react.default.createElement(_eui.EuiFlexItem,{className:"monTableCell__number","data-test-subj":"eventsEmittedRate"},(0,_format_number.formatMetric)(value,"0.[0]a",throughput.metric.units)))}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.pipelines.numberOfNodesTitle",{defaultMessage:"Number of Nodes"}),field:"latestNodesCount",sortable:true,render:function render(value,pipeline){var nodesCount=pipeline.metrics.nodesCount;return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_sparkline.Sparkline,{series:nodesCount.data,onBrush:onBrush,tooltip:{xValueFormatter:function xValueFormatter(value){return _this.tooltipXValueFormatter(value,dateFormat)},yValueFormatter:(0,_lodash.partialRight)(_this.tooltipYValueFormatter,nodesCount.metric.format,nodesCount.metric.units)},options:{xaxis:nodesCount.timeRange}})),_react.default.createElement(_eui.EuiFlexItem,{className:"monTableCell__number","data-test-subj":"nodeCount"},(0,_format_number.formatMetric)(value,"0a")))}}]}},{key:"renderStats",value:function renderStats(){if(this.props.statusComponent){var _Component2=this.props.statusComponent;return _react.default.createElement(_Component2,{stats:this.props.stats})}return _react.default.createElement(_cluster_status.ClusterStatus,{stats:this.props.stats})}},{key:"render",value:function render(){var _this$props2=this.props,data=_this$props2.data,sorting=_this$props2.sorting,pagination=_this$props2.pagination,onTableChange=_this$props2.onTableChange,upgradeMessage=_this$props2.upgradeMessage,className=_this$props2.className,intl=_this$props2.intl;var columns=this.getColumns();return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,this.renderStats()),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_table.EuiMonitoringTable,{className:className||"logstashNodesTable",rows:data,columns:columns,sorting:_objectSpread({},sorting,{sort:_objectSpread({},sorting.sort,{field:"id"})}),message:upgradeMessage,pagination:pagination,search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.logstash.filterPipelinesPlaceholder",defaultMessage:"Filter Pipelines"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["id"]}}))))}}]);return PipelineListingUI}(_react.Component);var PipelineListing=(0,_react2.injectI18n)(PipelineListingUI);exports.PipelineListing=PipelineListing},1338:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.vertexFactory=vertexFactory;var _plugin_vertex=__webpack_require__(1339);var _if_vertex=__webpack_require__(2676);var _queue_vertex=__webpack_require__(876);function vertexFactory(graph,vertexJson){var type=vertexJson.type;switch(type){case"plugin":return new _plugin_vertex.PluginVertex(graph,vertexJson);case"if":return new _if_vertex.IfVertex(graph,vertexJson);case"queue":return new _queue_vertex.QueueVertex(graph,vertexJson);default:throw new Error("Unknown vertex type ".concat(type,"! This shouldn't happen!"))}}},1339:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginVertex=exports.SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=exports.TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=void 0;var _lodash=__webpack_require__(3);var _vertex=__webpack_require__(875);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=2;exports.TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT=TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT;var SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=2;exports.SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN=SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN;var PluginVertex=function(_Vertex){_inherits(PluginVertex,_Vertex);function PluginVertex(){_classCallCheck(this,PluginVertex);return _possibleConstructorReturn(this,_getPrototypeOf(PluginVertex).apply(this,arguments))}_createClass(PluginVertex,[{key:"isTimeConsuming",value:function isTimeConsuming(){var expectedPercentOfTotalProcessorTime=1/this.graph.processorVertices.length;var threshold=TIME_CONSUMING_PROCESSOR_THRESHOLD_COEFFICIENT*expectedPercentOfTotalProcessorTime;return this.percentOfTotalProcessorTime>threshold}},{key:"isSlow",value:function isSlow(){var totalProcessorVertices=this.graph.processorVertices.length;if(totalProcessorVertices===0){return 0}var meanmillisPerEvent=this.graph.processorVertices.reduce(function(acc,v){return acc+v.latestMillisPerEvent||0},0)/totalProcessorVertices;var variance=this.graph.processorVertices.reduce(function(acc,v){var difference=(v.latestMillisPerEvent||0)-meanmillisPerEvent;var square=difference*difference;return acc+square},0)/totalProcessorVertices;var stdDeviation=Math.sqrt(variance);var slowness=(this.latestMillisPerEvent-meanmillisPerEvent)/stdDeviation;return slowness>SLOWNESS_STANDARD_DEVIATIONS_ABOVE_THE_MEAN}},{key:"typeString",get:function get(){return"plugin"}},{key:"name",get:function get(){return this.json.config_name}},{key:"title",get:function get(){return this.name}},{key:"pluginType",get:function get(){return this.json.plugin_type}},{key:"isInput",get:function get(){return this.pluginType==="input"}},{key:"isFilter",get:function get(){return this.pluginType==="filter"}},{key:"isOutput",get:function get(){return this.pluginType==="output"}},{key:"isProcessor",get:function get(){return this.isFilter||this.isOutput}},{key:"latestMillisPerEvent",get:function get(){return(0,_lodash.get)(this.stats,"millis_per_event")}},{key:"percentOfTotalProcessorTime",get:function get(){return(0,_lodash.get)(this.stats,"percent_of_total_processor_duration")}},{key:"eventsPerMillisecond",get:function get(){return this.isInput?this.stats.events_out_per_millisecond:this.stats.events_in_per_millisecond}},{key:"eventsPerSecond",get:function get(){if(!this.eventsPerMillisecond.hasOwnProperty("data")){return this.eventsPerMillisecond*1e3}var eps=_objectSpread({},this.eventsPerMillisecond);eps.data=this.eventsPerMillisecond.data.map(function(_ref){var _ref2=_slicedToArray(_ref,2),timestamp=_ref2[0],value=_ref2[1];return[timestamp,value*1e3]});return eps}},{key:"latestEventsPerSecond",get:function get(){if(!this.eventsPerSecond.hasOwnProperty("data")){return this.eventsPerSecond}var numTimeseriesBuckets=this.eventsPerSecond.data.length;return this.eventsPerSecond.data[numTimeseriesBuckets-1][1]}},{key:"iconType",get:function get(){switch(this.pluginType){case"input":return"logstashInput";case"filter":return"logstashFilter";case"output":return"logstashOutput";default:throw new Error("Unknown plugin type ".concat(this.pluginType,"! This shouldn't happen!"))}}},{key:"next",get:function get(){var firstOutgoingEdge=this.outgoingEdges[0]||{};return firstOutgoingEdge.to}}]);return PluginVertex}(_vertex.Vertex);exports.PluginVertex=PluginVertex},1340:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Edge=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Edge=function(){function Edge(graph,json){_classCallCheck(this,Edge);this.graph=graph;this.update(json)}_createClass(Edge,[{key:"update",value:function update(json){this.json=json}},{key:"id",get:function get(){return this.json.id}},{key:"from",get:function get(){return this.graph.verticesById[this.fromId]}},{key:"fromId",get:function get(){return this.json.from}},{key:"to",get:function get(){return this.graph.verticesById[this.toId]}},{key:"toId",get:function get(){return this.json.to}}]);return Edge}();exports.Edge=Edge},1341:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatementListHeading=StatementListHeading;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StatementListHeading(_ref){var iconType=_ref.iconType,title=_ref.title;return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",responsive:false,alignItems:"baseline"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:iconType})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h4",null,title))))}StatementListHeading.propTypes={iconType:_propTypes.default.string.isRequired,title:_propTypes.default.string.isRequired}},1342:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginStatement=void 0;var _statement=__webpack_require__(877);var _plugin_element=__webpack_require__(2687);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var PluginStatement=function(_Statement){_inherits(PluginStatement,_Statement);function PluginStatement(vertex){var _this;_classCallCheck(this,PluginStatement);_this=_possibleConstructorReturn(this,_getPrototypeOf(PluginStatement).call(this,vertex));var pluginType=vertex.pluginType,name=vertex.name;_this.pluginType=pluginType;_this.name=name;return _this}_createClass(PluginStatement,[{key:"toList",value:function toList(depth,parentId){return[new _plugin_element.PluginElement(this,depth,parentId)]}}],[{key:"fromPipelineGraphVertex",value:function fromPipelineGraphVertex(pluginVertex){return new PluginStatement(pluginVertex)}}]);return PluginStatement}(_statement.Statement);exports.PluginStatement=PluginStatement},1343:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IfElement=void 0;var _element=__webpack_require__(878);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var IfElement=function(_Element){_inherits(IfElement,_Element);function IfElement(statement,depth,parentId){_classCallCheck(this,IfElement);var id=statement.id;return _possibleConstructorReturn(this,_getPrototypeOf(IfElement).call(this,id,statement,depth,parentId))}return IfElement}(_element.Element);exports.IfElement=IfElement},1344:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.makeStatement=makeStatement;var _plugin_statement=__webpack_require__(1342);var _if_statement=__webpack_require__(2693);var _queue=__webpack_require__(2695);function makeStatement(pipelineGraphVertex,pipelineStage){var klass=pipelineGraphVertex.constructor.name;switch(klass){case"PluginVertex":return _plugin_statement.PluginStatement.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);case"IfVertex":return _if_statement.IfStatement.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);case"QueueVertex":return _queue.Queue.fromPipelineGraphVertex(pipelineGraphVertex,pipelineStage);default:throw new Error("Unknown vertex class: ".concat(klass))}}},1345:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.isVertexPipelineStage=isVertexPipelineStage;function isVertexPipelineStage(vertex,pipelineStage){return vertex&&vertex.pipelineStage===pipelineStage}},1346:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Status=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(16));var _summary_status=__webpack_require__(292);var _status_icon=__webpack_require__(1347);var _format_number=__webpack_require__(45);var _common=__webpack_require__(570);var _constants=__webpack_require__(81);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function StatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var total=stats.apms.total,totalEvents=stats.totalEvents,timeOfLastEvent=stats.timeOfLastEvent;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.apm.instances.status.serversLabel",defaultMessage:"Servers"}),value:total,"data-test-subj":"total"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instances.status.totalEventsLabel",defaultMessage:"Total Events"}),value:(0,_format_number.formatMetric)(totalEvents,"0.[0]a"),"data-test-subj":"totalEvents"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instances.status.lastEventLabel",defaultMessage:"Last Event"}),value:intl.formatMessage({id:"xpack.monitoring.apm.instances.status.lastEventDescription",defaultMessage:"{timeOfLastEvent} ago"},{timeOfLastEvent:(0,_common.formatTimestampToDuration)(+(0,_moment.default)(timeOfLastEvent),_constants.CALCULATE_DURATION_SINCE)}),"data-test-subj":"timeOfLastEvent"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.apm.instances.statusDescription",defaultMessage:"Status: {apmStatusIcon}",values:{apmStatusIcon:_react.default.createElement(_status_icon.ApmStatusIcon,{status:status})}}))};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,IconComponent:IconComponent,"data-test-subj":"apmDetailStatus"})}var Status=(0,_react2.injectI18n)(StatusUI);exports.Status=Status},1347:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmStatusIcon=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _status_icon=__webpack_require__(493);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ApmStatusIconUI(_ref){var status=_ref.status,_ref$availability=_ref.availability,availability=_ref$availability===void 0?true:_ref$availability,intl=_ref.intl;var type=function(){if(!availability){return _status_icon.StatusIcon.TYPES.GRAY}var statusKey=status.toUpperCase();return _status_icon.StatusIcon.TYPES[statusKey]||_status_icon.StatusIcon.TYPES.YELLOW}();return _react.default.createElement(_status_icon.StatusIcon,{type:type,label:intl.formatMessage({id:"xpack.monitoring.apm.healthStatusLabel",defaultMessage:"Health: {status}"},{status:status})})}var ApmStatusIcon=(0,_react2.injectI18n)(ApmStatusIconUI);exports.ApmStatusIcon=ApmStatusIcon},243:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"MonitoringViewBaseController",{enumerable:true,get:function get(){return _base_controller.MonitoringViewBaseController}});Object.defineProperty(exports,"MonitoringViewBaseTableController",{enumerable:true,get:function get(){return _base_table_controller.MonitoringViewBaseTableController}});Object.defineProperty(exports,"MonitoringViewBaseEuiTableController",{enumerable:true,get:function get(){return _base_eui_table_controller.MonitoringViewBaseEuiTableController}});var _base_controller=__webpack_require__(257);var _base_table_controller=__webpack_require__(2580);var _base_eui_table_controller=__webpack_require__(1329)},2475:function(module,exports,__webpack_require__){"use strict";__webpack_require__(86);__webpack_require__(87);__webpack_require__(88);__webpack_require__(89);__webpack_require__(90);__webpack_require__(91);__webpack_require__(92);__webpack_require__(93);__webpack_require__(94);__webpack_require__(95);__webpack_require__(96);__webpack_require__(97);__webpack_require__(98);__webpack_require__(99);__webpack_require__(100);__webpack_require__(101);__webpack_require__(102);__webpack_require__(103);__webpack_require__(104);__webpack_require__(105);__webpack_require__(106);__webpack_require__(107);__webpack_require__(108);__webpack_require__(109);__webpack_require__(110);__webpack_require__(111);__webpack_require__(112);__webpack_require__(113);__webpack_require__(114);__webpack_require__(115);__webpack_require__(116);__webpack_require__(117);__webpack_require__(118);__webpack_require__(119);__webpack_require__(120);__webpack_require__(121);__webpack_require__(122);__webpack_require__(123);__webpack_require__(124);__webpack_require__(125);__webpack_require__(126);__webpack_require__(127);__webpack_require__(128);__webpack_require__(129);__webpack_require__(130);__webpack_require__(131);__webpack_require__(132);__webpack_require__(133);__webpack_require__(134);__webpack_require__(135);__webpack_require__(136);__webpack_require__(137);__webpack_require__(138);__webpack_require__(139);__webpack_require__(140);__webpack_require__(141);__webpack_require__(142);__webpack_require__(143);__webpack_require__(144);__webpack_require__(145);__webpack_require__(146);__webpack_require__(147);__webpack_require__(148);__webpack_require__(149);__webpack_require__(150);__webpack_require__(151);__webpack_require__(152);__webpack_require__(153);__webpack_require__(154);__webpack_require__(155);__webpack_require__(156);__webpack_require__(157);__webpack_require__(158);__webpack_require__(159);__webpack_require__(160);__webpack_require__(161);__webpack_require__(162);__webpack_require__(163);__webpack_require__(164);__webpack_require__(165);__webpack_require__(166);__webpack_require__(167);__webpack_require__(168);__webpack_require__(169);__webpack_require__(170);__webpack_require__(171);__webpack_require__(172);__webpack_require__(173);__webpack_require__(174);__webpack_require__(175);__webpack_require__(176);__webpack_require__(177);__webpack_require__(178);__webpack_require__(179);__webpack_require__(180);__webpack_require__(181);__webpack_require__(182);__webpack_require__(183);__webpack_require__(184);__webpack_require__(185);__webpack_require__(186);__webpack_require__(187);__webpack_require__(188);__webpack_require__(189);__webpack_require__(190);__webpack_require__(191);__webpack_require__(192);__webpack_require__(193);__webpack_require__(194);__webpack_require__(195);__webpack_require__(196);__webpack_require__(197);__webpack_require__(198);__webpack_require__(199);__webpack_require__(200);__webpack_require__(201);__webpack_require__(202);__webpack_require__(203);__webpack_require__(204);__webpack_require__(205);__webpack_require__(206);__webpack_require__(207);__webpack_require__(208);__webpack_require__(209);__webpack_require__(210);__webpack_require__(211);__webpack_require__(212);__webpack_require__(213);__webpack_require__(214);__webpack_require__(215);__webpack_require__(216);var _i18n=__webpack_require__(4);var _kibanaCore__=__webpack_require__(73);__webpack_require__.nc=window.__kbnNonce__;var injectedMetadata=JSON.parse(document.querySelector("kbn-injected-metadata").getAttribute("data"));_i18n.i18n.load(injectedMetadata.i18n.translationsUrl).catch(function(e){return e}).then(function(i18nError){var coreSystem=new _kibanaCore__.CoreSystem({injectedMetadata:injectedMetadata,rootDomElement:document.body,browserSupportsCsp:!window.__kbnCspNotEnforced__,requireLegacyFiles:function requireLegacyFiles(){__webpack_require__(2476)}});coreSystem.setup().then(function(coreSetup){if(i18nError){coreSetup.fatalErrors.add(i18nError)}return coreSystem.start()})})},2476:function(module,exports,__webpack_require__){"use strict";var _routes=_interopRequireDefault(__webpack_require__(19));var _chrome=_interopRequireDefault(__webpack_require__(9));__webpack_require__(431);__webpack_require__(255);__webpack_require__(2477);__webpack_require__(2478);__webpack_require__(2479);__webpack_require__(2480);__webpack_require__(2482);__webpack_require__(2483);__webpack_require__(2485);__webpack_require__(2487);__webpack_require__(2529);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiSettings=_chrome.default.getUiSettingsClient();uiSettings.overrideLocalDefault("timepicker:timeDefaults",JSON.stringify({from:"now-1h",to:"now",mode:"quick"}));uiSettings.overrideLocalDefault("timepicker:refreshIntervalDefaults",JSON.stringify({display:"10 seconds",pause:false,value:1e4}));_routes.default.enable()},2477:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _modules=__webpack_require__(8);var _format_number=__webpack_require__(45);var _extract_ip=__webpack_require__(1312);var uiModule=_modules.uiModules.get("monitoring/filters",[]);uiModule.filter("capitalize",function(){return function(input){return(0,_lodash.capitalize)(input.toLowerCase())}});uiModule.filter("formatNumber",function(){return _format_number.formatNumber});uiModule.filter("formatMetric",function(){return _format_number.formatMetric});uiModule.filter("extractIp",function(){return _extract_ip.extractIp})},2478:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(8);var _ajax_error_handler=__webpack_require__(68);var _timefilter=__webpack_require__(22);var _constants=__webpack_require__(81);function formatClusters(clusters){return clusters.map(formatCluster)}function formatCluster(cluster){if(cluster.cluster_uuid===_constants.STANDALONE_CLUSTER_CLUSTER_UUID){cluster.cluster_name="Standalone Cluster"}return cluster}var uiModule=_modules.uiModules.get("monitoring/clusters");uiModule.service("monitoringClusters",function($injector){return function(clusterUuid,ccs){var _timefilter$getBounds=_timefilter.timefilter.getBounds(),min=_timefilter$getBounds.min,max=_timefilter$getBounds.max;var url="../api/monitoring/v1/clusters";if(clusterUuid){url+="/".concat(clusterUuid)}var $http=$injector.get("$http");return $http.post(url,{ccs:ccs,timeRange:{min:min.toISOString(),max:max.toISOString()}}).then(function(response){return response.data}).then(function(data){if(clusterUuid){return formatCluster(data[0])}return formatClusters(data)}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}})},2479:function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(3));var _modules=__webpack_require__(8);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/features",[]);uiModule.service("features",function($window){function getData(){var returnData={};var monitoringData=$window.localStorage.getItem("xpack.monitoring.data");try{returnData=monitoringData&&JSON.parse(monitoringData)||{}}catch(e){console.error("Monitoring UI: error parsing locally stored monitoring data",e)}return returnData}function update(featureName,value){var monitoringDataObj=getData();monitoringDataObj[featureName]=value;$window.localStorage.setItem("xpack.monitoring.data",JSON.stringify(monitoringDataObj))}function isEnabled(featureName,defaultSetting){var monitoringDataObj=getData();if(_lodash.default.has(monitoringDataObj,featureName)){return monitoringDataObj[featureName]}if(_lodash.default.isUndefined(defaultSetting)){return false}return defaultSetting}return{isEnabled:isEnabled,update:update}})},2480:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(8);var _executor_provider=__webpack_require__(2481);var uiModule=_modules.uiModules.get("monitoring/executor",[]);uiModule.service("$executor",_executor_provider.executorProvider)},2481:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.executorProvider=executorProvider;var _timefilter=__webpack_require__(22);function executorProvider(Promise,$timeout){var queue=[];var executionTimer;var ignorePaused=false;function reset(){cancel();_start()}function killTimer(){if(executionTimer){$timeout.cancel(executionTimer)}}function cancel(){killTimer()}function register(service){queue.push(service)}function destroy(){cancel();ignorePaused=false;queue.splice(0,queue.length)}function run(){var noop=function noop(){return Promise.resolve()};return Promise.all(queue.map(function(service){return service.execute().then(service.handleResponse||noop).catch(service.handleError||noop)})).finally(reset)}function reFetch(_changes){cancel();run()}function killIfPaused(){if(_timefilter.timefilter.getRefreshInterval().pause){killTimer()}}function _start(){if((ignorePaused||_timefilter.timefilter.getRefreshInterval().pause===false)&&_timefilter.timefilter.getRefreshInterval().value>0){executionTimer=$timeout(run,_timefilter.timefilter.getRefreshInterval().value)}}return{register:register,start:function start($scope){$scope.$listenAndDigestAsync(_timefilter.timefilter,"fetch",reFetch);$scope.$listenAndDigestAsync(_timefilter.timefilter,"refreshIntervalUpdate",killIfPaused);_start()},run:run,destroy:destroy,reset:reset,cancel:cancel}}},2482:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _modules=__webpack_require__(8);var _constants=__webpack_require__(81);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var uiModule=_modules.uiModules.get("monitoring/license",[]);uiModule.service("license",function(){return new(function(){function LicenseService(){_classCallCheck(this,LicenseService);this.license={type:null,expiry_date_in_millis:-Infinity}}_createClass(LicenseService,[{key:"setLicense",value:function setLicense(license){this.license=license}},{key:"isBasic",value:function isBasic(){return this.license.type==="basic"}},{key:"mlIsSupported",value:function mlIsSupported(){return(0,_lodash.contains)(_constants.ML_SUPPORTED_LICENSES,this.license.type)}},{key:"doesExpire",value:function doesExpire(){var expiryDateInMillis=this.license.expiry_date_in_millis;return expiryDateInMillis!==undefined}},{key:"isActive",value:function isActive(){var expiryDateInMillis=this.license.expiry_date_in_millis;return(new Date).getTime()<expiryDateInMillis}},{key:"isExpired",value:function isExpired(){if(this.doesExpire()){var expiryDateInMillis=this.license.expiry_date_in_millis;return(new Date).getTime()>=expiryDateInMillis}return false}}]);return LicenseService}())})},2483:function(module,exports,__webpack_require__){"use strict";var _lodash=_interopRequireDefault(__webpack_require__(3));var _i18n=__webpack_require__(4);var _modules=__webpack_require__(8);var _doc_title=__webpack_require__(336);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/title",[]);uiModule.service("title",function(Private){var docTitle=Private(_doc_title.DocTitleProvider);return function changeTitle(cluster,suffix){var clusterName=_lodash.default.get(cluster,"cluster_name");clusterName=clusterName?"- ".concat(clusterName):"";suffix=suffix?"- ".concat(suffix):"";docTitle.change(_i18n.i18n.translate("xpack.monitoring.stackMonitoringDocTitle",{defaultMessage:"Stack Monitoring {clusterName} {suffix}",values:{clusterName:clusterName,suffix:suffix}}),true)}})},2485:function(module,exports,__webpack_require__){"use strict";var _modules=__webpack_require__(8);var _breadcrumbs_provider=__webpack_require__(2486);var uiModule=_modules.uiModules.get("monitoring/breadcrumbs",[]);uiModule.service("breadcrumbs",_breadcrumbs_provider.breadcrumbsProvider)},2486:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.breadcrumbsProvider=breadcrumbsProvider;var _chrome=_interopRequireDefault(__webpack_require__(9));var _i18n=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var createCrumb=function createCrumb(url,label,testSubj){var crumb={url:url,label:label};if(testSubj){crumb.testSubj=testSubj}return crumb};function getElasticsearchBreadcrumbs(mainInstance){var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/elasticsearch","Elasticsearch"));if(mainInstance.name==="indices"){breadcrumbs.push(createCrumb("#/elasticsearch/indices",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.indicesLabel",{defaultMessage:"Indices"}),"breadcrumbEsIndices"))}else if(mainInstance.name==="nodes"){breadcrumbs.push(createCrumb("#/elasticsearch/nodes",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.nodesLabel",{defaultMessage:"Nodes"}),"breadcrumbEsNodes"))}else if(mainInstance.name==="ml"){breadcrumbs.push(createCrumb("#/elasticsearch/ml_jobs",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.jobsLabel",{defaultMessage:"Jobs"})))}else if(mainInstance.name==="ccr_shard"){breadcrumbs.push(createCrumb("#/elasticsearch/ccr",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.es.ccrLabel",{defaultMessage:"CCR"})))}breadcrumbs.push(createCrumb(null,mainInstance.instance))}else{breadcrumbs.push(createCrumb(null,"Elasticsearch"))}return breadcrumbs}function getKibanaBreadcrumbs(mainInstance){var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/kibana","Kibana"));breadcrumbs.push(createCrumb("#/kibana/instances",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.kibana.instancesLabel",{defaultMessage:"Instances"})))}else{breadcrumbs.push(createCrumb(null,"Kibana"))}return breadcrumbs}function getLogstashBreadcrumbs(mainInstance){var logstashLabel=_i18n.i18n.translate("xpack.monitoring.breadcrumbs.logstashLabel",{defaultMessage:"Logstash"});var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/logstash",logstashLabel));if(mainInstance.name==="nodes"){breadcrumbs.push(createCrumb("#/logstash/nodes",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.logstash.nodesLabel",{defaultMessage:"Nodes"})))}breadcrumbs.push(createCrumb(null,mainInstance.instance))}else if(mainInstance.page==="pipeline"){breadcrumbs.push(createCrumb("#/logstash",logstashLabel));breadcrumbs.push(createCrumb("#/logstash/pipelines",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.logstash.pipelinesLabel",{defaultMessage:"Pipelines"})))}else{breadcrumbs.push(createCrumb(null,logstashLabel))}return breadcrumbs}function getBeatsBreadcrumbs(mainInstance){var beatsLabel=_i18n.i18n.translate("xpack.monitoring.breadcrumbs.beatsLabel",{defaultMessage:"Beats"});var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/beats",beatsLabel));breadcrumbs.push(createCrumb("#/beats/beats",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.beats.instancesLabel",{defaultMessage:"Instances"})));breadcrumbs.push(createCrumb(null,mainInstance.instance))}else{breadcrumbs.push(createCrumb(null,beatsLabel))}return breadcrumbs}function getApmBreadcrumbs(mainInstance){var apmLabel=_i18n.i18n.translate("xpack.monitoring.breadcrumbs.apmLabel",{defaultMessage:"APM"});var breadcrumbs=[];if(mainInstance.instance){breadcrumbs.push(createCrumb("#/apm",apmLabel));breadcrumbs.push(createCrumb("#/apm/instances",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.apm.instancesLabel",{defaultMessage:"Instances"})))}else{breadcrumbs.push(createCrumb(null,apmLabel))}return breadcrumbs}function breadcrumbsProvider(){return function createBreadcrumbs(clusterName,mainInstance){var breadcrumbs=[createCrumb("#/home",_i18n.i18n.translate("xpack.monitoring.breadcrumbs.clustersLabel",{defaultMessage:"Clusters"}),"breadcrumbClusters")];if(!mainInstance.inOverview&&clusterName){breadcrumbs.push(createCrumb("#/overview",clusterName))}if(mainInstance.inElasticsearch){breadcrumbs=breadcrumbs.concat(getElasticsearchBreadcrumbs(mainInstance))}if(mainInstance.inKibana){breadcrumbs=breadcrumbs.concat(getKibanaBreadcrumbs(mainInstance))}if(mainInstance.inLogstash){breadcrumbs=breadcrumbs.concat(getLogstashBreadcrumbs(mainInstance))}if(mainInstance.inBeats){breadcrumbs=breadcrumbs.concat(getBeatsBreadcrumbs(mainInstance))}if(mainInstance.inApm){breadcrumbs=breadcrumbs.concat(getApmBreadcrumbs(mainInstance))}_chrome.default.breadcrumbs.set(breadcrumbs.map(function(b){return{text:b.label,href:b.url,"data-test-subj":b.testSubj}}));return breadcrumbs}}},2487:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2488);__webpack_require__(2490);__webpack_require__(2501);__webpack_require__(2503);__webpack_require__(2505);__webpack_require__(2506);__webpack_require__(2508);__webpack_require__(2516);__webpack_require__(2517);__webpack_require__(2518);__webpack_require__(2519);__webpack_require__(2526)},2488:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringMainController=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _eui=__webpack_require__(1);var _i18n=__webpack_require__(4);var _lodash=__webpack_require__(3);var _modules=__webpack_require__(8);var _index=_interopRequireDefault(__webpack_require__(2489));var _formatting=__webpack_require__(359);__webpack_require__(567);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var setOptions=function setOptions(controller){if(!controller.pipelineVersions||!controller.pipelineVersions.length||!controller.pipelineDropdownElement){return}(0,_reactDom.render)(_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{style:{maxWidth:400,lineHeight:"40px",overflow:"hidden",whiteSpace:"nowrap"}},_react.default.createElement("h2",null,controller.pipelineId))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiSelect,{value:controller.pipelineHash,options:controller.pipelineVersions.map(function(option){return{text:_i18n.i18n.translate("xpack.monitoring.logstashNavigation.pipelineVersionDescription",{defaultMessage:"Version active {relativeLastSeen} and first seen {relativeFirstSeen}",values:{relativeLastSeen:option.relativeLastSeen,relativeFirstSeen:option.relativeFirstSeen}}),value:option.hash}}),onChange:controller.onChangePipelineHash}))),controller.pipelineDropdownElement)};var MonitoringMainController=function(){function MonitoringMainController(){_classCallCheck(this,MonitoringMainController);this.inListing=false;this.inAlerts=false;this.inOverview=false;this.inElasticsearch=false;this.inKibana=false;this.inLogstash=false;this.inBeats=false;this.inApm=false}_createClass(MonitoringMainController,[{key:"dropdownLoadedHandler",value:function dropdownLoadedHandler(){this.pipelineDropdownElement=document.querySelector("#dropdown-elm");setOptions(this)}},{key:"setup",value:function setup(options){var _this=this;this._licenseService=options.licenseService;this._breadcrumbsService=options.breadcrumbsService;this._kbnUrlService=options.kbnUrlService;Object.assign(this,options.attributes);if(this.product){this.inElasticsearch=this.product==="elasticsearch";this.inKibana=this.product==="kibana";this.inLogstash=this.product==="logstash";this.inBeats=this.product==="beats";this.inApm=this.product==="apm"}else{this.inOverview=this.name==="overview";this.inAlerts=this.name==="alerts";this.inListing=this.name==="listing"||this.name==="no-data"}if(!this.inListing){this.breadcrumbs=this._breadcrumbsService(options.clusterName,this)}if(this.pipelineHash){this.pipelineHashShort=(0,_formatting.shortenPipelineHash)(this.pipelineHash);this.onChangePipelineHash=function(){return _this._kbnUrlService.changePath("/logstash/pipelines/".concat(_this.pipelineId,"/").concat(_this.pipelineHash))}}}},{key:"isActiveTab",value:function isActiveTab(testPath){return this.name===testPath}},{key:"isMlSupported",value:function isMlSupported(){return this._licenseService.mlIsSupported()}}]);return MonitoringMainController}();exports.MonitoringMainController=MonitoringMainController;var uiModule=_modules.uiModules.get("plugins/monitoring/directives",[]);uiModule.directive("monitoringMain",function(breadcrumbs,license,kbnUrl,$injector){return{restrict:"E",transclude:true,template:_index.default,controller:MonitoringMainController,controllerAs:"monitoringMain",bindToController:true,link:function link(scope,_element,attributes,controller){if(!scope.cluster){var $route=$injector.get("$route");var globalState=$injector.get("globalState");scope.cluster=($route.current.locals.clusters||[]).find(function(cluster){return cluster.cluster_uuid===globalState.cluster_uuid})}function getSetupObj(){return{licenseService:license,breadcrumbsService:breadcrumbs,kbnUrlService:kbnUrl,attributes:{name:attributes.name,product:attributes.product,instance:attributes.instance,resolver:attributes.resolver,page:attributes.page,tabIconClass:attributes.tabIconClass,tabIconLabel:attributes.tabIconLabel,pipelineId:attributes.pipelineId,pipelineHash:attributes.pipelineHash,pipelineVersions:(0,_lodash.get)(scope,"pageData.versions"),isCcrEnabled:attributes.isCcrEnabled},clusterName:(0,_lodash.get)(scope,"cluster.cluster_name")}}var setupObj=getSetupObj();controller.setup(setupObj);Object.keys(setupObj.attributes).forEach(function(key){attributes.$observe(key,function(){return controller.setup(getSetupObj())})});scope.$on("$destroy",function(){return controller.pipelineDropdownElement&&(0,_reactDom.unmountComponentAtNode)(controller.pipelineDropdownElement)});scope.$watch("pageData.versions",function(versions){controller.pipelineVersions=versions;setOptions(controller)})}}})},2489:function(module,exports){module.exports='<div class="app-container">\n  <kbn-top-nav name="{{ monitoringMain.name }}-nav">\n    \x3c!-- Transcluded elements. --\x3e\n    <div data-transclude-slots>\n      \x3c!-- Tabs --\x3e\n      <div data-transclude-slot="bottomRow">\n        <div ng-if="monitoringMain.inElasticsearch" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/elasticsearch"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n            i18n-id="xpack.monitoring.esNavigation.overviewLinkText"\n            i18n-default-message="Overview"\n          ></a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/elasticsearch/nodes"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'nodes\')}"\n            i18n-id="xpack.monitoring.esNavigation.nodesLinkText"\n            i18n-default-message="Nodes"\n          ></a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/elasticsearch/indices"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'indices\')}"\n            i18n-id="xpack.monitoring.esNavigation.indicesLinkText"\n            i18n-default-message="Indices"\n          ></a>\n          <a\n            ng-if="!monitoringMain.instance && monitoringMain.isMlSupported()"\n            kbn-href="#/elasticsearch/ml_jobs"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'ml\')}"\n            i18n-id="xpack.monitoring.esNavigation.jobsLinkText"\n            i18n-default-message="Jobs"\n          ></a>\n          <a\n            ng-if="(monitoringMain.isCcrEnabled || monitoringMain.isActiveTab(\'ccr\')) && !monitoringMain.instance"\n            kbn-href="#/elasticsearch/ccr"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'ccr\')}"\n            i18n-id="xpack.monitoring.esNavigation.ccrLinkText"\n            i18n-default-message="CCR"\n          ></a>\n          <a\n            ng-if="monitoringMain.instance && (monitoringMain.name === \'nodes\' || monitoringMain.name === \'indices\')"\n            kbn-href="#/elasticsearch/{{ monitoringMain.name }}/{{ monitoringMain.resolver }}"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'overview\'}"\n          >\n            <span ng-if="monitoringMain.tabIconClass" class="fa {{ monitoringMain.tabIconClass }}" title="{{ monitoringMain.tabIconLabel }}"></span>\n            <span\n              i18n-id="xpack.monitoring.esNavigation.instance.overviewLinkText"\n              i18n-default-message="Overview"\n            ></span>\n          </a>\n          <a\n            ng-if="monitoringMain.instance && (monitoringMain.name === \'nodes\' || monitoringMain.name === \'indices\')"\n            kbn-href="#/elasticsearch/{{ monitoringMain.name }}/{{ monitoringMain.resolver }}/advanced"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'advanced\'}"\n            i18n-id="xpack.monitoring.esNavigation.instance.advancedLinkText"\n            i18n-default-message="Advanced"\n          >\n          </a>\n            \x3c!-- ML Instance (for use later) --\x3e\n          <a\n            ng-if="monitoringMain.instance && monitoringMain.name !== \'nodes\' && monitoringMain.name !== \'indices\'"\n            class="kuiLocalTab">{{ monitoringMain.instance }}</a>\n        </div>\n\n        <div ng-if="monitoringMain.inKibana" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/kibana"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n            i18n-id="xpack.monitoring.kibanaNavigation.overviewLinkText"\n            i18n-default-message="Overview"\n          ></a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/kibana/instances"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'kibanas\')}"\n            i18n-id="xpack.monitoring.kibanaNavigation.instancesLinkText"\n            i18n-default-message="Instances"\n          ></a>\n          <a ng-if="monitoringMain.instance" class="kuiLocalTab">{{ monitoringMain.instance }}</a>\n        </div>\n\n        <div ng-if="monitoringMain.inApm" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/apm"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n            i18n-id="xpack.monitoring.apmNavigation.overviewLinkText"\n            i18n-default-message="Overview"\n          ></a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/apm/instances"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'apms\')}"\n            i18n-id="xpack.monitoring.apmNavigation.instancesLinkText"\n            i18n-default-message="Instances"\n          ></a>\n          <a ng-if="monitoringMain.instance" class="kuiLocalTab">{{ monitoringMain.instance }}</a>\n        </div>\n\n        <div ng-if="monitoringMain.inBeats" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/beats"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\':\n            monitoringMain.isActiveTab(\'overview\')}"\n            i18n-id="xpack.monitoring.beatsNavigation.overviewLinkText"\n            i18n-default-message="Overview"\n          >\n          </a>\n          <a\n            ng-if="!monitoringMain.instance"\n            kbn-href="#/beats/beats"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'beats\')}"\n            i18n-id="xpack.monitoring.beatsNavigation.instancesLinkText"\n            i18n-default-message="Instances"\n          >\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/beats/beat/{{ monitoringMain.resolver }}"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'overview\'}"\n            i18n-id="xpack.monitoring.beatsNavigation.instance.overviewLinkText"\n            i18n-default-message="Overview"\n          >\n          </a>\n        </div>\n\n        <div ng-if="monitoringMain.inLogstash" class="kuiLocalTabs" role="navigation">\n          <a\n            ng-if="!monitoringMain.instance && !monitoringMain.pipelineId"\n            kbn-href="#/logstash"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'overview\')}"\n            i18n-id="xpack.monitoring.logstashNavigation.overviewLinkText"\n            i18n-default-message="Overview"\n          >\n          </a>\n          <a\n            ng-if="!monitoringMain.instance && !monitoringMain.pipelineId"\n            kbn-href="#/logstash/nodes"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'nodes\')}"\n            i18n-id="xpack.monitoring.logstashNavigation.nodesLinkText"\n            i18n-default-message="Nodes"\n          >\n          </a>\n          <a\n            ng-if="!monitoringMain.instance && !monitoringMain.pipelineId"\n            kbn-href="#/logstash/pipelines"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.isActiveTab(\'pipelines\')}"\n          >\n            <span\n              i18n-id="xpack.monitoring.logstashNavigation.pipelinesLinkText"\n              i18n-default-message="Pipelines"\n            ></span>\n            <span class="kuiIcon fa-flask monTabs--icon" tooltip="Beta feature" />\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/logstash/node/{{ monitoringMain.resolver }}"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'overview\'}"\n            i18n-id="xpack.monitoring.logstashNavigation.instance.overviewLinkText"\n            i18n-default-message="Overview"\n          >\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/logstash/node/{{ monitoringMain.resolver }}/pipelines"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'pipelines\'}"\n          >\n            <span\n              i18n-id="xpack.monitoring.logstashNavigation.instance.pipelinesLinkText"\n              i18n-default-message="Pipelines"\n            ></span>\n            <span class="kuiIcon fa-flask fa-sm monTabs--icon" tooltip="Beta feature" />\n          </a>\n          <a\n            ng-if="monitoringMain.instance"\n            kbn-href="#/logstash/node/{{ monitoringMain.resolver }}/advanced"\n            class="kuiLocalTab"\n            ng-class="{\'kuiLocalTab-isSelected\': monitoringMain.page === \'advanced\'}"\n            i18n-id="xpack.monitoring.logstashNavigation.instance.advancedLinkText"\n            i18n-default-message="Advanced"\n          >\n          </a>\n          <div \n            class="kuiLocalTab" \n            ng-if="monitoringMain.pipelineVersions.length" \n            id="dropdown-elm" \n            ng-init="monitoringMain.dropdownLoadedHandler()">\n          </div>\n        </div>\n\n        <div ng-if="monitoringMain.inOverview" class="kuiLocalTabs" role="navigation">\n          <a class="kuiLocalTab" data-test-subj="clusterName">{{ pageData.cluster_name }}</a>\n        </div>\n\n        <div ng-if="monitoringMain.inAlerts" class="kuiLocalTabs" role="navigation">\n          <a\n            class="kuiLocalTab"\n            data-test-subj="clusterAlertsListingPage"\n            i18n-id="xpack.monitoring.clusterAlertsNavigation.clusterAlertsLinkText"\n            i18n-default-message="Cluster Alerts"\n          ></a>\n        </div>\n\n        <div ng-if="monitoringMain.inListing" class="kuiLocalTabs" role="navigation">\n         <a\n          class="kuiLocalTab"\n          i18n-id="xpack.monitoring.clustersNavigation.clustersLinkText"\n          i18n-default-message="Clusters"\n        ></a>\n       </div>\n      </div>\n    </div>\n  </kbn-top-nav>\n  <div ng-transclude></div>\n</div>\n'},2490:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireWildcard(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _moment=_interopRequireDefault(__webpack_require__(16));var _modules=__webpack_require__(8);var _timefilter=__webpack_require__(22);var _monitoring_timeseries_container=__webpack_require__(1313);var _eui=__webpack_require__(1);var _i18n=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var uiModule=_modules.uiModules.get("plugins/monitoring/directives",[]);uiModule.directive("monitoringChart",function(){return{restrict:"E",scope:{series:"="},link:function link(scope,$elem){scope.$on("$destroy",function(){return $elem&&$elem[0]&&(0,_reactDom.unmountComponentAtNode)($elem[0])});function onBrush(_ref){var xaxis=_ref.xaxis;_timefilter.timefilter.setTime({from:(0,_moment.default)(xaxis.from),to:(0,_moment.default)(xaxis.to),mode:"absolute"})}scope.$watch("series",function(series){(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_react.Fragment,null,_react.default.createElement(_monitoring_timeseries_container.MonitoringTimeseriesContainer,{series:series,onBrush:onBrush}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}))),$elem[0])})}}})},2491:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getColor=getColor;function getColor(app,index){var seriesColors;if(app==="elasticsearch"){seriesColors=["#3ebeb0","#3b73ac","#f08656","#6c478f"]}else{seriesColors=["#e8488b","#3b73ac","#3cab63","#6c478f"]}if(seriesColors[index]){return seriesColors[index]}return"#000"}},2492:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeseriesVisualization=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _get_last_value=__webpack_require__(2493);var _timeseries_container=__webpack_require__(2494);var _horizontal_legend=__webpack_require__(2499);var _get_values_for_legend=__webpack_require__(2500);var _constants=__webpack_require__(81);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var TimeseriesVisualization=function(_React$Component){_inherits(TimeseriesVisualization,_React$Component);function TimeseriesVisualization(props){var _this;_classCallCheck(this,TimeseriesVisualization);_this=_possibleConstructorReturn(this,_getPrototypeOf(TimeseriesVisualization).call(this,props));_this.debouncedUpdateLegend=_lodash.default.debounce(_this.updateLegend,_constants.DEBOUNCE_SLOW_MS);_this.debouncedUpdateLegend=_this.debouncedUpdateLegend.bind(_assertThisInitialized(_this));_this.toggleFilter=_this.toggleFilter.bind(_assertThisInitialized(_this));var values=_this.getLastValues(props);_this.state={values:{},seriesToShow:_lodash.default.keys(values),ignoreVisibilityUpdates:false};return _this}_createClass(TimeseriesVisualization,[{key:"filterLegend",value:function filterLegend(id){if(!_lodash.default.has(this.state.values,id)){return[]}var notAllShown=_lodash.default.keys(this.state.values).length!==this.state.seriesToShow.length;var isCurrentlyShown=_lodash.default.includes(this.state.seriesToShow,id);var seriesToShow=[];if(notAllShown&&isCurrentlyShown){this.setState({ignoreVisibilityUpdates:false,seriesToShow:Object.keys(this.state.values)})}else{seriesToShow.push(id);this.setState({ignoreVisibilityUpdates:true,seriesToShow:[id]})}return seriesToShow}},{key:"toggleFilter",value:function toggleFilter(_event,id){var seriesToShow=this.filterLegend(id);if(_lodash.default.isFunction(this.props.onFilter)){this.props.onFilter(seriesToShow)}}},{key:"getLastValues",value:function getLastValues(props){props=props||this.props;var values={};props.series.forEach(function(row){if(!row.id){row.id=row.label}values[row.id]=(0,_get_last_value.getLastValue)(row.data)});return values}},{key:"updateLegend",value:function updateLegend(pos,item){var values={};if(pos){var setValueCallback=function setValueCallback(seriesId,value){values[seriesId]=value};if(item){(0,_get_values_for_legend.getValuesForSeriesIndex)(this.props.series,item.dataIndex,setValueCallback)}else{(0,_get_values_for_legend.getValuesByX)(this.props.series,pos.x,setValueCallback)}}else{_lodash.default.assign(values,this.getLastValues())}this.setState({values:values})}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(props){var values=this.getLastValues(props);var currentKeys=_lodash.default.keys(this.state.values);var keys=_lodash.default.keys(values);var diff=_lodash.default.difference(keys,currentKeys);var nextState={values:values};if(diff.length&&!this.state.ignoreVisibilityUpdates){nextState.seriesToShow=keys}this.setState(nextState)}},{key:"render",value:function render(){var className="monRhythmChart";var style={flexDirection:"column"};var legend=this.props.hasLegend?_react.default.createElement(_horizontal_legend.HorizontalLegend,_extends({seriesFilter:this.state.seriesToShow,seriesValues:this.state.values,onToggle:this.toggleFilter},this.props)):null;return _react.default.createElement("div",{className:className},_react.default.createElement("div",{style:style,className:"monRhythmChart__content"},_react.default.createElement("div",{className:"monRhythmChart__visualization"},_react.default.createElement(_timeseries_container.TimeseriesContainer,_extends({seriesToShow:this.state.seriesToShow,updateLegend:this.debouncedUpdateLegend},this.props))),legend))}}]);return TimeseriesVisualization}(_react.default.Component);exports.TimeseriesVisualization=TimeseriesVisualization;TimeseriesVisualization.defaultProps={hasLegend:true}},2493:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getLastValue=getLastValue;var _lodash=__webpack_require__(3);function getLastValue(data){if((0,_lodash.isNumber)(data)){return data}if(!Array.isArray(data)){return null}var lastValue=(0,_lodash.get)((0,_lodash.last)(data),"[1]");if((0,_lodash.isNumber)(lastValue)){return lastValue}return null}},2494:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TimeseriesContainer=TimeseriesContainer;var _react=_interopRequireDefault(__webpack_require__(0));var _chart_target=__webpack_require__(2495);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TimeseriesContainer(props){var container={display:"flex",rowDirection:"column",flex:"1 0 auto",position:"relative"};return _react.default.createElement("div",{style:container},_react.default.createElement(_chart_target.ChartTarget,props))}},2495:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ChartTarget=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _jquery_flot=_interopRequireDefault(__webpack_require__(866));var _event_bus=__webpack_require__(2497);var _get_chart_options=__webpack_require__(2498);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ChartTarget=function(_React$Component){_inherits(ChartTarget,_React$Component);function ChartTarget(){_classCallCheck(this,ChartTarget);return _possibleConstructorReturn(this,_getPrototypeOf(ChartTarget).apply(this,arguments))}_createClass(ChartTarget,[{key:"shouldComponentUpdate",value:function shouldComponentUpdate(){return!this.plot}},{key:"shutdownChart",value:function shutdownChart(){if(!this.plot){return}var target=this.refs.target;(0,_jquery_flot.default)(target).off("plothover");(0,_jquery_flot.default)(target).off("mouseleave");(0,_jquery_flot.default)(target).off("plotselected");(0,_jquery_flot.default)(target).off("plotselecting");this.plot.shutdown();_event_bus.eventBus.off("thorPlotHover");_event_bus.eventBus.off("thorPlotLeave");_event_bus.eventBus.off("thorPlotSelecting");_event_bus.eventBus.off("thorPlotBrush")}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.shutdownChart();window.removeEventListener("resize",this._handleResize)}},{key:"filterByShow",value:function filterByShow(seriesToShow){if(seriesToShow){return function(metric){return seriesToShow.some(function(id){return _lodash.default.startsWith(id,metric.id)})}}return function(_metric){return true}}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(newProps){if(this.plot&&!_lodash.default.isEqual(newProps,this.props)){var series=newProps.series,timeRange=newProps.timeRange;var xaxisOptions=this.plot.getAxes().xaxis.options;xaxisOptions.min=_lodash.default.get(timeRange,"min");xaxisOptions.max=_lodash.default.get(timeRange,"max");this.plot.setData(this.filterData(series,newProps.seriesToShow));this.plot.setupGrid();this.plot.draw()}}},{key:"componentDidMount",value:function componentDidMount(){this.renderChart();window.addEventListener("resize",this._handleResize,false)}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.shutdownChart();this.renderChart()}},{key:"filterData",value:function filterData(data,seriesToShow){return(0,_lodash.default)(data).filter(this.filterByShow(seriesToShow)).value()}},{key:"getOptions",value:function getOptions(){var opts=(0,_get_chart_options.getChartOptions)({yaxis:{tickFormatter:this.props.tickFormatter},xaxis:this.props.timeRange});return _objectSpread({},opts,this.props.options)}},{key:"renderChart",value:function renderChart(){var _this=this;var target=this.refs.target;var series=this.props.series;var data=this.filterData(series,this.props.seriesToShow);this.plot=_jquery_flot.default.plot(target,data,this.getOptions());this._handleResize=function(){if(!_this.plot){return}try{_this.plot.resize();_this.plot.setupGrid();_this.plot.draw()}catch(e){}};this.handleMouseLeave=function(){_event_bus.eventBus.trigger("thorPlotLeave",[])};this.handlePlotHover=function(_event,pos,item){_event_bus.eventBus.trigger("thorPlotHover",[pos,item,_this.plot])};this.handleThorPlotHover=function(_event,pos,item,originalPlot){if(_this.plot!==originalPlot){_this.plot.setCrosshair({x:_lodash.default.get(pos,"x")})}_this.props.updateLegend(pos,item)};this.handleThorPlotLeave=function(){_this.plot.clearCrosshair();_this.props.updateLegend()};this.handleThorPlotSelecting=function(_event,xaxis,originalPlot){if(_this.plot!==originalPlot){var preventEvent=true;_this.plot.setSelection({xaxis:xaxis},preventEvent)}};this.handleThorPlotBrush=function(){_this.plot.clearSelection()};this.selectingChart=function(_event,ranges){if(ranges){var xaxis=ranges.xaxis;_event_bus.eventBus.trigger("thorPlotSelecting",[xaxis,_this.plot])}};this.brushChart=function(_event,ranges){_this.props.onBrush(ranges);_event_bus.eventBus.trigger("thorPlotBrush")};(0,_jquery_flot.default)(target).on("plothover",this.handlePlotHover);(0,_jquery_flot.default)(target).on("mouseleave",this.handleMouseLeave);(0,_jquery_flot.default)(target).on("plotselected",this.brushChart);(0,_jquery_flot.default)(target).on("plotselecting",this.selectingChart);_event_bus.eventBus.on("thorPlotHover",this.handleThorPlotHover);_event_bus.eventBus.on("thorPlotLeave",this.handleThorPlotLeave);_event_bus.eventBus.on("thorPlotSelecting",this.handleThorPlotSelecting);_event_bus.eventBus.on("thorPlotBrush",this.handleThorPlotBrush)}},{key:"render",value:function render(){var style={position:"relative",display:"flex",rowDirection:"column",flex:"1 0 auto"};return _react.default.createElement("div",{ref:"target",style:style})}}]);return ChartTarget}(_react.default.Component);exports.ChartTarget=ChartTarget},2497:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.eventBus=void 0;var _jquery=_interopRequireDefault(__webpack_require__(21));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var eventBus=(0,_jquery.default)({});exports.eventBus=eventBus},2498:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getChartOptions=getChartOptions;var _lodash=__webpack_require__(3);var _constants=__webpack_require__(81);function getChartOptions(axisOptions){var opts={legend:{show:false},xaxis:{color:_constants.CHART_LINE_COLOR,timezone:"browser",mode:"time",font:{color:_constants.CHART_TEXT_COLOR}},yaxis:{color:_constants.CHART_LINE_COLOR,font:{color:_constants.CHART_TEXT_COLOR}},series:{points:{show:true,radius:1},lines:{show:true,lineWidth:2},shadowSize:0},grid:{margin:0,borderWidth:1,borderColor:_constants.CHART_LINE_COLOR,hoverable:true},crosshair:{mode:"x",color:"#c66",lineWidth:2},selection:{mode:"x",color:_constants.CHART_TEXT_COLOR}};return(0,_lodash.merge)(opts,axisOptions)}},2499:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HorizontalLegend=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var HorizontalLegendUI=function(_React$Component){_inherits(HorizontalLegendUI,_React$Component);function HorizontalLegendUI(){var _this;_classCallCheck(this,HorizontalLegendUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(HorizontalLegendUI).call(this));_this.formatter=_this.formatter.bind(_assertThisInitialized(_this));_this.createSeries=_this.createSeries.bind(_assertThisInitialized(_this));return _this}_createClass(HorizontalLegendUI,[{key:"displayValue",value:function displayValue(value){return _react.default.createElement("span",{className:"monRhythmChart__legendValue"},value)}},{key:"validValue",value:function validValue(value){return value!==null&&value!==undefined&&(typeof value==="string"||!isNaN(value))}},{key:"formatter",value:function formatter(value,row){if(!this.validValue(value)){return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.chart.horizontalLegend.notAvailableLabel",defaultMessage:"N/A"})}if(row&&row.tickFormatter){return this.displayValue(row.tickFormatter(value))}if((0,_lodash.isFunction)(this.props.tickFormatter)){return this.displayValue(this.props.tickFormatter(value))}return this.displayValue(value)}},{key:"createSeries",value:function createSeries(row,rowIdx){var _this2=this;var intl=this.props.intl;var classes=["col-md-4 col-xs-6 monRhythmChart__legendItem"];if(!(0,_lodash.includes)(this.props.seriesFilter,row.id)){classes.push("monRhythmChart__legendItem-isDisabled")}if(!row.label||row.legend===false){return _react.default.createElement("div",{key:rowIdx,style:{display:"none"}})}return _react.default.createElement(_eui.EuiKeyboardAccessible,{key:rowIdx},_react.default.createElement("div",{className:classes.join(" "),onClick:function onClick(event){return _this2.props.onToggle(event,row.id)}},_react.default.createElement("span",{className:"monRhythmChart__legendLabel"},_react.default.createElement("span",{className:"fa fa-circle monRhythmChart__legendIndicator",style:{color:row.color},"aria-label":intl.formatMessage({id:"xpack.monitoring.chart.horizontalLegend.toggleButtonAriaLabel",defaultMessage:"toggle button"})})," "+row.label+" "),this.formatter(this.props.seriesValues[row.id],row)))}},{key:"render",value:function render(){var rows=this.props.series.map(this.createSeries);return _react.default.createElement("div",{className:"monRhythmChart__legendHorizontal"},_react.default.createElement("div",{className:"row monRhythmChart__legend-series"},rows))}}]);return HorizontalLegendUI}(_react.default.Component);var HorizontalLegend=(0,_react2.injectI18n)(HorizontalLegendUI);exports.HorizontalLegend=HorizontalLegend},2500:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getValuesForSeriesIndex=getValuesForSeriesIndex;exports.getValuesByX=getValuesByX;exports.findIndexByX=findIndexByX;function getValuesForSeriesIndex(datasets,index,callback){for(var i=0;i<datasets.length;i++){var series=datasets[i];var data=series.data;var y=null;if(data.length>index&&data[index]){y=data[index][1]}callback(series.id,y)}}function getValuesByX(datasets,x,callback){for(var i=0;i<datasets.length;i++){var index=findIndexByX(datasets[i].data,x);if(index!==-1){getValuesForSeriesIndex(datasets,index,callback);break}}}function findIndexByX(data,x){var length=data.length;if(length===1){return 0}else if(length!==0){var prev=null;if(data[0]){prev=0}for(var j=1;j<length;++j){if(data[j]){if(data[j][0]>x){var currentDistance=data[j][0]-x;if(prev!==null&&currentDistance>Math.abs(x-data[prev][0])){return prev}return j}prev=j}}}return length-1}},2501:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=_interopRequireDefault(__webpack_require__(17));var _modules=__webpack_require__(8);var _sparkline=__webpack_require__(867);var _moment=_interopRequireDefault(__webpack_require__(16));var _format_number=__webpack_require__(45);var _timefilter=__webpack_require__(22);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("plugins/monitoring/directives",[]);uiModule.directive("sparkline",function($injector){var config=$injector.get("config");var dateFormat=config.get("dateFormat");return{restrict:"E",scope:{series:"="},link:function link(scope,$elem){function onBrush(xaxis){_timefilter.timefilter.setTime({from:(0,_moment.default)(xaxis.from),to:(0,_moment.default)(xaxis.to),mode:"absolute"})}function tooltipXValueFormatter(xValue){return(0,_moment.default)(xValue).format(dateFormat)}function tooltipYValueFormatter(yValue){return(0,_format_number.formatMetric)(yValue,scope.series.metric.format,scope.series.metric.units)}scope.$watch("series",function(series){var options={xaxis:series.timeRange};_reactDom.default.render(_react.default.createElement(_sparkline.Sparkline,{series:series.data,onBrush:onBrush,options:options,tooltip:{xValueFormatter:tooltipXValueFormatter,yValueFormatter:tooltipYValueFormatter}}),$elem[0])},true);scope.$on("$destroy",function(){return _reactDom.default.unmountComponentAtNode($elem[0])})}}})},2502:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SparklineFlotChart=void 0;var _lodash=__webpack_require__(3);var _jquery_flot=_interopRequireDefault(__webpack_require__(866));var _constants=__webpack_require__(81);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var flotOptions={grid:{show:false,margin:4,hoverable:true},colors:["#3b73ac"],series:{shadowSize:0,lines:{lineWidth:2},highlightColor:"#3b73ac",points:{radius:2}}};function makeData(){var series=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var data=[];data.push(series);data.push({data:[(0,_lodash.last)(series)],points:{show:true,radius:2,fill:1,fillColor:false}});return data}var SparklineFlotChart=function(){function SparklineFlotChart(containerElem,initialSeries,_onBrush,_onHover,overrideOptions){var _this=this;_classCallCheck(this,SparklineFlotChart);_defineProperty(this,"render",function(){_this.flotChart=_jquery_flot.default.plot(_this.containerElem,_this.data,_this.options)});_defineProperty(this,"setupBrushHandling",function(onBrush){_this.options.selection={mode:"x",color:"#9c9c9c"};(0,_jquery_flot.default)(_this.containerElem).off("plotselected");(0,_jquery_flot.default)(_this.containerElem).on("plotselected",function(_event,range){onBrush(range);_this.flotChart.clearSelection()})});_defineProperty(this,"setupHoverHandling",function(onHover){var container=(0,_jquery_flot.default)(_this.containerElem);var debouncedOnHover=(0,_lodash.debounce)(function(_event,_range,item){if(item===null){return onHover()}onHover({xValue:item.datapoint[0],yValue:item.datapoint[1],xPosition:item.pageX-window.pageXOffset,yPosition:item.pageY-window.pageYOffset,plotTop:container.offset().top,plotLeft:container.offset().left,plotHeight:container.height(),plotWidth:container.width()})},_constants.DEBOUNCE_FAST_MS,{leading:true});container.off("plothover");container.on("plothover",debouncedOnHover)});this.containerElem=containerElem;this.data=makeData(initialSeries);this.options=_objectSpread({},flotOptions,overrideOptions);if((0,_lodash.isFunction)(_onBrush)){this.setupBrushHandling(_onBrush)}if((0,_lodash.isFunction)(_onHover)){this.setupHoverHandling(_onHover)}this.render();window.addEventListener("resize",this.render)}_createClass(SparklineFlotChart,[{key:"update",value:function update(series){this.flotChart.setData(makeData(series));this.flotChart.setupGrid();this.flotChart.draw()}},{key:"shutdown",value:function shutdown(){this.flotChart.shutdown();var container=(0,_jquery_flot.default)(this.containerElem);container.off("plotselected");container.off("plothover");window.removeEventListener("resize",this.render)}}]);return SparklineFlotChart}();exports.SparklineFlotChart=SparklineFlotChart},2503:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _modules=__webpack_require__(8);var _cluster_status=__webpack_require__(568);var _i18n=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringClusterStatusElasticsearch",function(){return{restrict:"E",scope:{status:"="},link:function link(scope,$el){scope.$on("$destroy",function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])});scope.$watch("status",function(status){(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:status})),$el[0])})}}})},2504:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SummaryStatus=SummaryStatus;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(1);var _index=__webpack_require__(493);var _i18n=__webpack_require__(4);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var wrapChild=function wrapChild(_ref,index){var label=_ref.label,value=_ref.value,props=_objectWithoutProperties(_ref,["label","value"]);return _react.default.createElement(_eui.EuiFlexItem,_extends({key:"summary-status-item-".concat(index),grow:false},props),_react.default.createElement(_eui.EuiStat,{title:value,titleSize:"s",textAlign:"left",description:label?"".concat(label):""}))};var DefaultIconComponent=function DefaultIconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.summaryStatus.statusIconTitle",defaultMessage:"Status: {statusIcon}",values:{statusIcon:_react.default.createElement(_index.StatusIcon,{type:status.toUpperCase(),label:_i18n.i18n.translate("xpack.monitoring.summaryStatus.statusIconLabel",{defaultMessage:"Status: {status}",values:{status:status}})})}}))};var StatusIndicator=function StatusIndicator(_ref3){var status=_ref3.status,isOnline=_ref3.isOnline,IconComponent=_ref3.IconComponent;if((0,_lodash.isEmpty)(status)){return null}return _react.default.createElement(_eui.EuiFlexItem,{key:"summary-status-item-status",grow:false},_react.default.createElement(_eui.EuiStat,{title:_react.default.createElement(_react.Fragment,null,_react.default.createElement(IconComponent,{status:status,isOnline:isOnline}),"",(0,_lodash.capitalize)(status)),titleSize:"s",textAlign:"left",description:_i18n.i18n.translate("xpack.monitoring.summaryStatus.statusDescription",{defaultMessage:"Status"})}))};function SummaryStatus(_ref4){var metrics=_ref4.metrics,status=_ref4.status,isOnline=_ref4.isOnline,_ref4$IconComponent=_ref4.IconComponent,IconComponent=_ref4$IconComponent===void 0?DefaultIconComponent:_ref4$IconComponent,props=_objectWithoutProperties(_ref4,["metrics","status","isOnline","IconComponent"]);return _react.default.createElement("div",props,_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(StatusIndicator,{status:status,IconComponent:IconComponent,isOnline:isOnline}),metrics.map(wrapChild)))}SummaryStatus.propTypes={metrics:_propTypes.default.array.isRequired}},2505:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _modules=__webpack_require__(8);var _index_detail_status=__webpack_require__(869);var _i18n=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringIndexSummary",function(){return{restrict:"E",scope:{summary:"="},link:function link(scope,$el){scope.$on("$destroy",function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])});scope.$watch("summary",function(summary){(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_index_detail_status.IndexDetailStatus,{stats:summary})),$el[0])})}}})},2506:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _modules=__webpack_require__(8);var _node_detail_status=__webpack_require__(870);var _i18n=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringNodeSummary",function(){return{restrict:"E",scope:{node:"="},link:function link(scope,$el){scope.$on("$destroy",function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])});scope.$watch("node",function(node){(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_node_detail_status.NodeDetailStatus,{stats:node})),$el[0])})}}})},2507:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeStatusIconUI=NodeStatusIconUI;exports.NodeStatusIcon=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _status_icon=__webpack_require__(493);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NodeStatusIconUI(_ref){var isOnline=_ref.isOnline,status=_ref.status,intl=_ref.intl;var type=isOnline?_status_icon.StatusIcon.TYPES.GREEN:_status_icon.StatusIcon.TYPES.GRAY;return _react.default.createElement(_status_icon.StatusIcon,{type:type,label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.node.statusIconLabel",defaultMessage:"Status: {status}"},{status:status})})}var NodeStatusIcon=(0,_react2.injectI18n)(NodeStatusIconUI);exports.NodeStatusIcon=NodeStatusIcon},2508:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _numeral=_interopRequireDefault(__webpack_require__(217));var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _i18n=__webpack_require__(15);var _modules=__webpack_require__(8);var _table=__webpack_require__(267);var _status_icon=__webpack_require__(2515);var _formatting=__webpack_require__(359);var _eui=__webpack_require__(1);var _cluster_status=__webpack_require__(568);var _i18n2=__webpack_require__(4);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var getColumns=function getColumns(kbnUrl,scope){return[{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.jobIdTitle",{defaultMessage:"Job ID"}),field:"job_id",sortable:true},{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.stateTitle",{defaultMessage:"State"}),field:"state",sortable:true,render:function render(state){return _react.default.createElement("div",null,_react.default.createElement(_status_icon.MachineLearningJobStatusIcon,{status:state}),"",(0,_lodash.capitalize)(state))}},{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.processedRecordsTitle",{defaultMessage:"Processed Records"}),field:"data_counts.processed_record_count",sortable:true,render:function render(value){return _react.default.createElement("span",null,(0,_numeral.default)(value).format(_formatting.LARGE_ABBREVIATED))}},{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.modelSizeTitle",{defaultMessage:"Model Size"}),field:"model_size_stats.model_bytes",sortable:true,render:function render(value){return _react.default.createElement("span",null,(0,_numeral.default)(value).format(_formatting.LARGE_BYTES))}},{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.forecastsTitle",{defaultMessage:"Forecasts"}),field:"forecasts_stats.total",sortable:true,render:function render(value){return _react.default.createElement("span",null,(0,_numeral.default)(value).format(_formatting.LARGE_ABBREVIATED))}},{name:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.nodeTitle",{defaultMessage:"Node"}),field:"node.name",sortable:true,render:function render(name,node){if(node){return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){scope.$evalAsync(function(){return kbnUrl.changePath("/elasticsearch/nodes/".concat(node.id))})}},name)}return _react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.mlJobListing.noDataLabel",defaultMessage:"N/A"})}}]};var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringMlListing",function(kbnUrl){return{restrict:"E",scope:{jobs:"=",paginationSettings:"=",sorting:"=",onTableChange:"=",status:"="},link:function link(scope,$el){scope.$on("$destroy",function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])});var columns=getColumns(kbnUrl,scope);var filterJobsPlaceholder=_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.filterJobsPlaceholder",{defaultMessage:"Filter Jobs"});scope.$watch("jobs",function(){var jobs=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var mlTable=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:scope.status})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_table.EuiMonitoringTable,{className:"mlJobsTable",rows:jobs,columns:columns,sorting:_objectSpread({},scope.sorting,{sort:_objectSpread({},scope.sorting.sort,{field:"job_id"})}),pagination:scope.paginationSettings,message:_i18n2.i18n.translate("xpack.monitoring.elasticsearch.mlJobListing.noJobsDescription",{defaultMessage:"There are no Machine Learning Jobs that match your query. Try changing the time range selection."}),search:{box:{incremental:true,placeholder:filterJobsPlaceholder}},onTableChange:scope.onTableChange,executeQueryOptions:{defaultFields:["job_id"]}})))));(0,_reactDom.render)(mlTable,$el[0])})}}})},2509:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTable=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _constants=__webpack_require__(81);var _components=__webpack_require__(425);var _toolbar=__webpack_require__(2510);var _no_data=__webpack_require__(2511);var _footer=__webpack_require__(2512);var _classnames=_interopRequireDefault(__webpack_require__(54));var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var MonitoringTableUI=function(_React$Component){_inherits(MonitoringTableUI,_React$Component);function MonitoringTableUI(props){var _this;_classCallCheck(this,MonitoringTableUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(MonitoringTableUI).call(this,props));var sortKey=props.sortKey;var sortOrder=props.sortOrder;if(props.sortKey===undefined||props.sortOrder===undefined){var defaultSortColumn=props.columns.find(function(c){return c.hasOwnProperty("sortOrder")});sortKey=defaultSortColumn?defaultSortColumn.sortKey:null;sortOrder=defaultSortColumn?defaultSortColumn.sortOrder:null}var secondarySortColumn=props.columns.find(function(c){return c.hasOwnProperty("secondarySortOrder")});var secondarySortKey=secondarySortColumn?secondarySortColumn.sortKey:null;var secondarySortOrder=secondarySortColumn?secondarySortColumn.secondarySortOrder:null;_this.state={rows:props.rows,sortKey:sortKey,sortOrder:sortOrder,secondarySortKey:secondarySortKey,secondarySortOrder:secondarySortOrder,filterText:props.filterText||"",pageIndex:props.pageIndex||1};_this.paginationOnPrevious=_this.paginationOnPrevious.bind(_assertThisInitialized(_this));_this.paginationOnNext=_this.paginationOnNext.bind(_assertThisInitialized(_this));_this.onFilterChange=_this.onFilterChange.bind(_assertThisInitialized(_this));_this.dispatchTableAction=_this.dispatchTableAction.bind(_assertThisInitialized(_this));return _this}_createClass(MonitoringTableUI,[{key:"setFilter",value:function setFilter(filterText){var _this2=this;this.setState(function(prevState){var newState=_objectSpread({},prevState,{pageIndex:1,filterText:filterText});_this2.onNewState(newState);return newState})}},{key:"resetPaging",value:function resetPaging(){var _this3=this;this.setState(function(prevState){var newState=_objectSpread({},prevState,{pageIndex:1});_this3.onNewState(newState);return newState})}},{key:"dispatchTableAction",value:function dispatchTableAction(action,value){switch(action){case _constants.TABLE_ACTION_UPDATE_FILTER:this.setFilter(value);break;case _constants.TABLE_ACTION_RESET_PAGING:this.resetPaging();break;default:throw new Error(this.props.intl.formatMessage({id:"xpack.monitoring.table.unknownTableActionTypeErrorMessage",defaultMessage:"Unknown table action type {action}! This shouldn't happen!"},{action:action}))}}},{key:"onNewState",value:function onNewState(newState){if(this.props.onNewState){this.props.onNewState(newState)}}},{key:"shouldComponentUpdate",value:function shouldComponentUpdate(nextProps,nextState){var diffRows=!(0,_lodash.isEqual)(nextProps.rows,this.props.rows);var diffState=!(0,_lodash.isEqual)(nextState,this.state);if(diffRows||diffState){return true}return false}},{key:"componentWillReceiveProps",value:function componentWillReceiveProps(_ref){var rows=_ref.rows;this.setState({rows:rows})}},{key:"checkRowFilterMatch",value:function checkRowFilterMatch(row){var values=this.props.filterFields.map(function(field){return(0,_lodash.get)(row,field)});return(0,_lodash.includes)(values.join(" ").toLowerCase(),this.state.filterText.toLowerCase())}},{key:"getFilteredRows",value:function getFilteredRows(){var _this4=this;var rows=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(!this.state.filterText){return rows}return rows.filter(function(row){return _this4.checkRowFilterMatch(row)})}},{key:"onFilterChange",value:function onFilterChange(filterText){this.setFilter(filterText)}},{key:"paginationHasPrevious",value:function paginationHasPrevious(){return this.state.pageIndex>1}},{key:"paginationOnPrevious",value:function paginationOnPrevious(){var _this5=this;this.setState(function(prevState){var newState=_objectSpread({},prevState,{pageIndex:prevState.pageIndex-1});_this5.onNewState(newState);return newState})}},{key:"paginationHasNext",value:function paginationHasNext(numAvailableRows){var pageIndex=this.state.pageIndex;var numPages=Math.ceil(numAvailableRows/this.props.rowsPerPage);return pageIndex<numPages}},{key:"paginationOnNext",value:function paginationOnNext(){var _this6=this;this.setState(function(prevState){var newState=_objectSpread({},prevState,{pageIndex:prevState.pageIndex+1});_this6.onNewState(newState);return newState})}},{key:"getPaginationControls",value:function getPaginationControls(numAvailableRows,alwaysShowPageControls){var shouldShow=false;if(this.isPaginationRequired(numAvailableRows)||alwaysShowPageControls){shouldShow=true}if(!shouldShow){return null}var hasPrevious=this.paginationHasPrevious();var hasNext=this.paginationHasNext(numAvailableRows);return _react.default.createElement(_components.KuiPagerButtonGroup,{hasNext:hasNext,hasPrevious:hasPrevious,onPrevious:this.paginationOnPrevious,onNext:this.paginationOnNext})}},{key:"calculateFirstRow",value:function calculateFirstRow(){return this.state.pageIndex*this.props.rowsPerPage-this.props.rowsPerPage}},{key:"getToolBar",value:function getToolBar(numVisibleRows,numAvailableRows){var firstRow=this.calculateFirstRow();return _react.default.createElement(_toolbar.MonitoringTableToolBar,_extends({showSearchBox:this.isSearchBoxShown(),pageIndexFirstRow:numVisibleRows?firstRow+1:0,pageIndexLastRow:numVisibleRows?numVisibleRows+firstRow:0,rowsFiltered:numAvailableRows,totalRows:this.state.rows.length,filterText:this.state.filterText,paginationControls:this.getPaginationControls(numAvailableRows,this.props.alwaysShowPageControls),onFilterChange:this.onFilterChange,dispatchTableAction:this.dispatchTableAction},this.props))}},{key:"setSortColumn",value:function setSortColumn(_ref2){var _this7=this;var sortKey=_ref2.sortKey;this.setState(function(prevState){var newSortOrder;if(sortKey===_this7.state.sortKey){newSortOrder=prevState.sortOrder*-1}else{newSortOrder=1}var newState=_objectSpread({},prevState,{sortOrder:newSortOrder,sortKey:sortKey});_this7.onNewState(newState);return newState})}},{key:"getTableHeader",value:function getTableHeader(){var _this8=this;return this.props.columns.map(function(col){var headerCellProps={};if(col.headerCellProps){Object.assign(headerCellProps,col.headerCellProps)}var colKey=(0,_lodash.camelCase)(col.title);return _react.default.createElement(_components.KuiTableHeaderCell,_extends({key:"kuiTableHeaderCell-".concat(colKey),onSort:col.sortKey!==null?_this8.setSortColumn.bind(_this8,col):null,isSorted:_this8.state.sortKey===col.sortKey,isSortAscending:_this8.state.sortKey===col.sortKey?_this8.state.sortOrder>0:true,"data-test-subj":"tableHeaderCell-".concat(colKey)},headerCellProps),col.title)})}},{key:"getFooter",value:function getFooter(numVisibleRows,numAvailableRows,alwaysShowPageControls){if(!this.isPaginationRequired(numAvailableRows)){return null}var firstRow=this.calculateFirstRow();return _react.default.createElement(_footer.MonitoringTableFooter,{pageIndexFirstRow:numVisibleRows?firstRow+1:0,pageIndexLastRow:numVisibleRows?numVisibleRows+firstRow:0,rowsFiltered:numAvailableRows,paginationControls:this.getPaginationControls(numAvailableRows,alwaysShowPageControls)})}},{key:"sortRows",value:function sortRows(){var rows=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(!this.state.sortKey){return rows}var _sortOrder=this.state.sortOrder>0?"asc":"desc";var _secondarySortOrder;if(this.state.secondarySortOrder){_secondarySortOrder=this.state.secondarySortOrder>0?"asc":"desc"}return(0,_lodash.sortByOrder)(rows,[this.state.sortKey,this.state.secondarySortKey],[_sortOrder,_secondarySortOrder])}},{key:"getVisibleRows",value:function getVisibleRows(rows){var filteredRows=this.getFilteredRows(rows);var numAvailableRows=filteredRows.length;var sortedRows=this.sortRows(filteredRows);var firstRow=this.calculateFirstRow();var visibleRows=sortedRows.slice(firstRow,firstRow+this.props.rowsPerPage)||[];return{numAvailableRows:numAvailableRows,visibleRows:visibleRows}}},{key:"isPaginationRequired",value:function isPaginationRequired(numAvailableRows){var hasPrevious=this.paginationHasPrevious();var hasNext=this.paginationHasNext(numAvailableRows);return hasPrevious||hasNext}},{key:"isSearchBoxShown",value:function isSearchBoxShown(){return Boolean(this.props.filterFields)&&this.props.filterFields.length>0}},{key:"render",value:function render(){var _this9=this;var classes=(0,_classnames.default)(this.props.className,"monTable");var table;var _this$getVisibleRows=this.getVisibleRows(this.state.rows||[]),visibleRows=_this$getVisibleRows.visibleRows,numAvailableRows=_this$getVisibleRows.numAvailableRows;var numVisibleRows=visibleRows.length;if(this.state.rows===null){table=_react.default.createElement(_no_data.MonitoringTableNoData,{message:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.table.loadingTitle",defaultMessage:"Loading"})})}else if(numVisibleRows>0){var RowComponent=this.props.rowComponent;var tBody=visibleRows.map(function(rowData,rowIndex){return _react.default.createElement(RowComponent,_extends({},rowData,{key:"rowData-".concat(rowIndex),dispatchTableAction:_this9.dispatchTableAction}))});table=_react.default.createElement(_components.KuiTable,{shrinkToContent:true},_react.default.createElement("thead",null,_react.default.createElement("tr",null,this.getTableHeader())),_react.default.createElement("tbody",{"data-test-subj":"".concat(this.props.className,"Body")},tBody))}else{table=_react.default.createElement(_no_data.MonitoringTableNoData,{message:this.props.getNoDataMessage(this.state.filterText)})}return _react.default.createElement(_components.KuiControlledTable,{className:classes,"data-test-subj":"".concat(this.props.className,"Container"),style:{margin:10}},this.getToolBar(numVisibleRows,numAvailableRows),table,this.getFooter(numVisibleRows,numAvailableRows,this.props.alwaysShowPageControls))}}]);return MonitoringTableUI}(_react.default.Component);var defaultGetNoDataMessage=function defaultGetNoDataMessage(filterText){if(filterText){return _constants.DEFAULT_NO_DATA_MESSAGE_WITH_FILTER.replace("{{FILTER}}",filterText.trim())}return _constants.DEFAULT_NO_DATA_MESSAGE};MonitoringTableUI.defaultProps={rows:[],filterFields:[],getNoDataMessage:defaultGetNoDataMessage,alwaysShowPageControls:false,rowsPerPage:20};var MonitoringTable=(0,_react2.injectI18n)(MonitoringTableUI);exports.MonitoringTable=MonitoringTable},2510:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTableToolBar=MonitoringTableToolBar;var _lodash=__webpack_require__(3);var _react=_interopRequireDefault(__webpack_require__(0));var _components=__webpack_require__(425);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MonitoringTableToolBar(props){var searchBox=props.showSearchBox?_react.default.createElement(_components.KuiToolBarSearchBox,{defaultValue:props.filterText,onFilter:props.onFilterChange,placeholder:props.placeholder,"data-test-subj":"monitoringTableToolBar"}):null;var paginationSection=Boolean(props.paginationControls)?_react.default.createElement(_components.KuiToolBarSection,null,_react.default.createElement(_components.KuiToolBarText,null,props.pageIndexFirstRow,"  ",props.pageIndexLastRow," of ",props.rowsFiltered),props.paginationControls):null;var totalRows=Boolean(props.showTotalRows)?_react.default.createElement("p",{tabIndex:"0",className:"monitoringTableToolbarTotalRows"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.table.toolbar.totalRowsDescription",defaultMessage:"{totalRows} in total",values:{totalRows:props.totalRows}})):null;return _react.default.createElement(_components.KuiToolBar,null,searchBox,totalRows,props.renderToolBarSections(props),paginationSection)}MonitoringTableToolBar.defaultProps={renderToolBarSections:_lodash.noop,showSearchBox:true,showTotalRows:true}},2511:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTableNoData=MonitoringTableNoData;var _react=_interopRequireDefault(__webpack_require__(0));var _components=__webpack_require__(425);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MonitoringTableNoData(_ref){var message=_ref.message;return _react.default.createElement(_components.KuiEmptyTablePromptPanel,{"data-test-subj":"monitoringTableNoData"},_react.default.createElement(_components.KuiTableInfo,null,message))}},2512:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringTableFooter=MonitoringTableFooter;var _react=_interopRequireDefault(__webpack_require__(0));var _components=__webpack_require__(425);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MonitoringTableFooter(_ref){var pageIndexFirstRow=_ref.pageIndexFirstRow,pageIndexLastRow=_ref.pageIndexLastRow,rowsFiltered=_ref.rowsFiltered,paginationControls=_ref.paginationControls;return _react.default.createElement(_components.KuiToolBarFooter,null,_react.default.createElement(_components.KuiToolBarFooterSection,null,_react.default.createElement(_components.KuiToolBarText,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.table.footer.pageRowsDescription",defaultMessage:"{pageIndexFirstRow}  {pageIndexLastRow} of {rowsFiltered}",values:{pageIndexFirstRow:pageIndexFirstRow,pageIndexLastRow:pageIndexLastRow,rowsFiltered:rowsFiltered}})),paginationControls))}},2513:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.EuiMonitoringTable=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var EuiMonitoringTable=function(_React$PureComponent){_inherits(EuiMonitoringTable,_React$PureComponent);function EuiMonitoringTable(){_classCallCheck(this,EuiMonitoringTable);return _possibleConstructorReturn(this,_getPrototypeOf(EuiMonitoringTable).apply(this,arguments))}_createClass(EuiMonitoringTable,[{key:"render",value:function render(){var _this$props=this.props,items=_this$props.rows,_this$props$search=_this$props.search,search=_this$props$search===void 0?{}:_this$props$search,_columns=_this$props.columns,props=_objectWithoutProperties(_this$props,["rows","search","columns"]);if(search.box&&!search.box["data-test-subj"]){search.box["data-test-subj"]="monitoringTableToolBar"}if(search.box&&!search.box.schema){search.box.schema=true}var columns=_columns.map(function(column){if(!column["data-test-subj"]){column["data-test-subj"]="monitoringTableHasData"}if(!("sortable"in column)){column.sortable=true}return column});return _react.default.createElement("div",{"data-test-subj":"".concat(this.props.className,"Container")},_react.default.createElement(_eui.EuiInMemoryTable,_extends({items:items,search:search,columns:columns},props)))}}]);return EuiMonitoringTable}(_react.default.PureComponent);exports.EuiMonitoringTable=EuiMonitoringTable},2514:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.euiTableStorageSetter=exports.euiTableStorageGetter=exports.tableStorageSetter=exports.tableStorageGetter=void 0;var _lodash=__webpack_require__(3);var _constants=__webpack_require__(81);var tableStorageGetter=function tableStorageGetter(keyPrefix){return function(storage){var localStorageData=storage.get(_constants.STORAGE_KEY)||{};var filterText=(0,_lodash.get)(localStorageData,[keyPrefix,"filterText"]);var pageIndex=(0,_lodash.get)(localStorageData,[keyPrefix,"pageIndex"]);var sortKey=(0,_lodash.get)(localStorageData,[keyPrefix,"sortKey"]);var sortOrder=(0,_lodash.get)(localStorageData,[keyPrefix,"sortOrder"]);return{pageIndex:pageIndex,filterText:filterText,sortKey:sortKey,sortOrder:sortOrder}}};exports.tableStorageGetter=tableStorageGetter;var tableStorageSetter=function tableStorageSetter(keyPrefix){return function(storage,_ref){var filterText=_ref.filterText,pageIndex=_ref.pageIndex,sortKey=_ref.sortKey,sortOrder=_ref.sortOrder;var localStorageData=storage.get(_constants.STORAGE_KEY)||{};(0,_lodash.set)(localStorageData,[keyPrefix,"filterText"],filterText||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"pageIndex"],pageIndex||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"sortKey"],sortKey||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"sortOrder"],sortOrder||undefined);storage.set(_constants.STORAGE_KEY,localStorageData);return localStorageData}};exports.tableStorageSetter=tableStorageSetter;var euiTableStorageGetter=function euiTableStorageGetter(keyPrefix){return function(storage){var localStorageData=storage.get(_constants.STORAGE_KEY)||{};var sort=(0,_lodash.get)(localStorageData,[keyPrefix,"sort"]);var page=(0,_lodash.get)(localStorageData,[keyPrefix,"page"]);return{page:page,sort:sort}}};exports.euiTableStorageGetter=euiTableStorageGetter;var euiTableStorageSetter=function euiTableStorageSetter(keyPrefix){return function(storage,_ref2){var sort=_ref2.sort,page=_ref2.page;var localStorageData=storage.get(_constants.STORAGE_KEY)||{};(0,_lodash.set)(localStorageData,[keyPrefix,"sort"],sort||undefined);(0,_lodash.set)(localStorageData,[keyPrefix,"page"],page||undefined);storage.set(_constants.STORAGE_KEY,localStorageData);return localStorageData}};exports.euiTableStorageSetter=euiTableStorageSetter},2515:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MachineLearningJobStatusIconUI=MachineLearningJobStatusIconUI;exports.MachineLearningJobStatusIcon=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _status_icon=__webpack_require__(493);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MachineLearningJobStatusIconUI(_ref){var status=_ref.status,intl=_ref.intl;var type=function(){var statusKey=status.toUpperCase();if(statusKey==="OPENED"){return _status_icon.StatusIcon.TYPES.GREEN}else if(statusKey==="CLOSED"){return _status_icon.StatusIcon.TYPES.GRAY}else if(statusKey==="FAILED"){return _status_icon.StatusIcon.TYPES.RED}return _status_icon.StatusIcon.TYPES.YELLOW}();return _react.default.createElement(_status_icon.StatusIcon,{type:type,label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.mlJobListing.statusIconLabel",defaultMessage:"Job Status: {status}"},{status:status})})}var MachineLearningJobStatusIcon=(0,_react2.injectI18n)(MachineLearningJobStatusIconUI);exports.MachineLearningJobStatusIcon=MachineLearningJobStatusIcon},2516:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _modules=__webpack_require__(8);var _cluster_status=__webpack_require__(871);var _i18n=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringClusterStatusKibana",function(){return{restrict:"E",scope:{status:"="},link:function link(scope,$el){scope.$on("$destroy",function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])});scope.$watch("status",function(status){(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:status})),$el[0])})}}})},2517:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _modules=__webpack_require__(8);var _components=__webpack_require__(425);var _status_icon=__webpack_require__(673);var _table=__webpack_require__(267);var _constants=__webpack_require__(81);var _format_number=__webpack_require__(45);var _eui=__webpack_require__(1);var _i18n=__webpack_require__(4);var _react2=__webpack_require__(5);var _i18n2=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var filterFields=["kibana.name","kibana.host","kibana.status","kibana.transport_address"];var columns=[{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.nameColumnTitle",{defaultMessage:"Name"}),sortKey:"kibana.name",sortOrder:_constants.SORT_ASCENDING},{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.statusColumnTitle",{defaultMessage:"Status"}),sortKey:"kibana.status"},{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.loadAverageColumnTitle",{defaultMessage:"Load Average"}),sortKey:"os.load.1m"},{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.memorySizeColumnTitle",{defaultMessage:"Memory Size"}),sortKey:"process.memory.resident_set_size_in_bytes"},{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.requestsColumnTitle",{defaultMessage:"Requests"}),sortKey:"requests.total"},{title:_i18n.i18n.translate("xpack.monitoring.kibana.listing.responseTimeColumnTitle",{defaultMessage:"Response Times"}),sortKey:"response_times.average"}];var instanceRowFactory=function instanceRowFactory(scope,kbnUrl){var goToInstance=function goToInstance(uuid){scope.$evalAsync(function(){kbnUrl.changePath("/kibana/instances/".concat(uuid))})};return(0,_react2.injectI18n)(function KibanaRow(props){return _react.default.createElement(_components.KuiTableRow,null,_react.default.createElement(_components.KuiTableRowCell,null,_react.default.createElement("div",{className:"monTableCell__name"},_react.default.createElement(_eui.EuiLink,{onClick:goToInstance.bind(null,(0,_lodash.get)(props,"kibana.uuid")),"data-test-subj":"kibanaLink-".concat(props.kibana.name)},props.kibana.name)),_react.default.createElement("div",{className:"monTableCell__transportAddress"},(0,_lodash.get)(props,"kibana.transport_address"))),_react.default.createElement(_components.KuiTableRowCell,null,_react.default.createElement("div",{className:"monTableCell__status",title:props.intl.formatMessage({id:"xpack.monitoring.kibana.listing.instanceStatusTitle",defaultMessage:"Instance status: {kibanaStatus}"},{kibanaStatus:props.kibana.status})},_react.default.createElement(_status_icon.KibanaStatusIcon,{status:props.kibana.status,availability:props.availability}),"",!props.availability?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.kibana.listing.instanceStatus.offlineLabel",defaultMessage:"Offline"}):(0,_lodash.capitalize)(props.kibana.status))),_react.default.createElement(_components.KuiTableRowCell,null,_react.default.createElement("div",{className:"monTableCell__number"},(0,_format_number.formatMetric)((0,_lodash.get)(props,'os.load["1m"]'),"0.00"))),_react.default.createElement(_components.KuiTableRowCell,null,_react.default.createElement("div",{className:"monTableCell__number"},(0,_format_number.formatNumber)(props.process.memory.resident_set_size_in_bytes,"byte"))),_react.default.createElement(_components.KuiTableRowCell,null,_react.default.createElement("div",{className:"monTableCell__number"},(0,_format_number.formatNumber)(props.requests.total,"int_commas"))),_react.default.createElement(_components.KuiTableRowCell,null,_react.default.createElement("div",{className:"monTableCell__splitNumber"},props.response_times.average&&(0,_format_number.formatNumber)(props.response_times.average,"int_commas")+" ms avg"),_react.default.createElement("div",{className:"monTableCell__splitNumber"},(0,_format_number.formatNumber)(props.response_times.max,"int_commas")," ms max")))})};var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringKibanaListing",function(kbnUrl){return{restrict:"E",scope:{instances:"=",pageIndex:"=",filterText:"=",sortKey:"=",sortOrder:"=",onNewState:"="},link:function link(scope,$el){scope.$on("$destroy",function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])});var filterInstancesPlaceholder=_i18n.i18n.translate("xpack.monitoring.kibana.listing.filterInstancesPlaceholder",{defaultMessage:"Filter Instances"});scope.$watch("instances",function(){var instances=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var kibanasTable=_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_table.MonitoringTable,{className:"kibanaInstancesTable",rows:instances,pageIndex:scope.pageIndex,filterText:scope.filterText,sortKey:scope.sortKey,sortOrder:scope.sortOrder,onNewState:scope.onNewState,placeholder:filterInstancesPlaceholder,filterFields:filterFields,columns:columns,rowComponent:instanceRowFactory(scope,kbnUrl)}));(0,_reactDom.render)(kibanasTable,$el[0])})}}})},2518:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _modules=__webpack_require__(8);var _detail_status=__webpack_require__(1323);var _i18n=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringKibanaSummary",function(){return{restrict:"E",scope:{kibana:"="},link:function link(scope,$el){scope.$on("$destroy",function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])});scope.$watch("kibana",function(kibana){(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_detail_status.DetailStatus,{stats:kibana})),$el[0])})}}})},2519:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _modules=__webpack_require__(8);var _overview=__webpack_require__(2520);var _i18n=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringBeatsOverview",function(){return{restrict:"E",scope:{data:"=",onBrush:"<",zoomInfo:"<"},link:function link(scope,$el){scope.$on("$destroy",function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])});scope.$watch("data",function(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_overview.BeatsOverview,_extends({},data,{onBrush:scope.onBrush,zoomInfo:scope.zoomInfo}))),$el[0])})}}})},2520:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"BeatsOverview",{enumerable:true,get:function get(){return _overview.BeatsOverview}});var _overview=__webpack_require__(2521)},2521:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BeatsOverviewUI=BeatsOverviewUI;exports.BeatsOverview=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _latest_active=__webpack_require__(2522);var _latest_versions=__webpack_require__(2523);var _latest_types=__webpack_require__(2524);var _=__webpack_require__(1324);var _chart=__webpack_require__(256);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function renderLatestActive(latestActive,latestTypes,latestVersions,intl){if(latestTypes&&latestTypes.length>0){return _react.default.createElement(_eui.EuiFlexGroup,{wrap:true},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.beats.overview.activeBeatsInLastDayTitle",defaultMessage:"Active Beats in Last Day"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_latest_active.LatestActive,{latestActive:latestActive}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.beats.overview.top5BeatTypesInLastDayTitle",defaultMessage:"Top 5 Beat Types in Last Day"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_latest_types.LatestTypes,{latestTypes:latestTypes}))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.beats.overview.top5VersionsInLastDayTitle",defaultMessage:"Top 5 Versions in Last Day"}))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_latest_versions.LatestVersions,{latestVersions:latestVersions}))))}var calloutMsg=intl.formatMessage({id:"xpack.monitoring.beats.overview.noActivityDescription",defaultMessage:"Hi there! This area is where your latest Beats activity would show up, but you don't seem to have any activity within the last day."});return _react.default.createElement(_eui.EuiCallOut,{title:calloutMsg,iconType:"gear","data-test-subj":"noRecentActivityMessage"})}function BeatsOverviewUI(_ref){var latestActive=_ref.latestActive,latestTypes=_ref.latestTypes,latestVersions=_ref.latestVersions,stats=_ref.stats,metrics=_ref.metrics,intl=_ref.intl,props=_objectWithoutProperties(_ref,["latestActive","latestTypes","latestVersions","stats","metrics","intl"]);var seriesToShow=[metrics.beat_event_rates,metrics.beat_fail_rates,metrics.beat_throughput_rates,metrics.beat_output_errors];var charts=seriesToShow.map(function(data,index){return _react.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:data},props))))});return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_.Stats,{stats:stats}),renderLatestActive(latestActive,latestTypes,latestVersions,intl),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,{wrap:true},charts))))}var BeatsOverview=(0,_react2.injectI18n)(BeatsOverviewUI);exports.BeatsOverview=BeatsOverview},2522:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LatestActive=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LatestActiveUi(_ref){var latestActive=_ref.latestActive,intl=_ref.intl;var rangeMap={last1m:intl.formatMessage({id:"xpack.monitoring.beats.overview.latestActive.last1MinuteLabel",defaultMessage:"Last 1 minute"}),last5m:intl.formatMessage({id:"xpack.monitoring.beats.overview.latestActive.last5MinutesLabel",defaultMessage:"Last 5 minutes"}),last20m:intl.formatMessage({id:"xpack.monitoring.beats.overview.latestActive.last20MinutesLabel",defaultMessage:"Last 20 minutes"}),last1h:intl.formatMessage({id:"xpack.monitoring.beats.overview.latestActive.last1HourLabel",defaultMessage:"Last 1 hour"}),last1d:intl.formatMessage({id:"xpack.monitoring.beats.overview.latestActive.last1DayLabel",defaultMessage:"Last 1 day"})};var activity=latestActive.map(function(_ref2){var range=_ref2.range,count=_ref2.count;return{range:rangeMap[range],count:count}});return _react.default.createElement(_eui.EuiBasicTable,{items:activity,columns:[{field:"range",name:""},{field:"count",dataType:"number",name:""}]})}LatestActiveUi.propTypes={latestActive:_propTypes.default.arrayOf(_propTypes.default.shape({range:_propTypes.default.string.isRequired,count:_propTypes.default.number.isRequired})).isRequired};var LatestActive=(0,_react2.injectI18n)(LatestActiveUi);exports.LatestActive=LatestActive},2523:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LatestVersions=LatestVersions;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LatestVersions(_ref){var latestVersions=_ref.latestVersions;return _react.default.createElement(_eui.EuiBasicTable,{items:latestVersions,columns:[{field:"version",name:""},{field:"count",dataType:"number",name:""}]})}LatestVersions.propTypes={latestVersions:_propTypes.default.arrayOf(_propTypes.default.shape({version:_propTypes.default.string.isRequired,count:_propTypes.default.number.isRequired})).isRequired}},2524:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LatestTypes=LatestTypes;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function LatestTypes(_ref){var latestTypes=_ref.latestTypes;return _react.default.createElement(_eui.EuiBasicTable,{items:latestTypes,columns:[{field:"type",name:""},{field:"count",dataType:"number",name:""}]})}LatestTypes.propTypes={latestTypes:_propTypes.default.arrayOf(_propTypes.default.shape({type:_propTypes.default.string.isRequired,count:_propTypes.default.number.isRequired})).isRequired}},2525:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Stats=Stats;var _react=_interopRequireDefault(__webpack_require__(0));var _format_number=__webpack_require__(45);var _summary_status=__webpack_require__(292);var _i18n=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function Stats(_ref){var stats=_ref.stats;var total=stats.total,types=stats.types,_stats$stats=stats.stats,bytesSent=_stats$stats.bytesSent,totalEvents=_stats$stats.totalEvents;var metrics=[{label:_i18n.i18n.translate("xpack.monitoring.beats.overview.totalBeatsLabel",{defaultMessage:"Total Beats"}),value:(0,_format_number.formatMetric)(total,"int_commas"),"data-test-subj":"totalBeats"}];metrics.push.apply(metrics,_toConsumableArray(types.map(function(_ref2){var type=_ref2.type,count=_ref2.count;return{label:type,value:(0,_format_number.formatMetric)(count,"int_commas"),"data-test-subj":"typeCount","data-test-type-count":"".concat(type,":").concat(count)}})));metrics.push({label:_i18n.i18n.translate("xpack.monitoring.beats.overview.totalEventsLabel",{defaultMessage:"Total Events"}),value:(0,_format_number.formatMetric)(totalEvents,"0.[0]a"),"data-test-subj":"totalEvents"});metrics.push({label:_i18n.i18n.translate("xpack.monitoring.beats.overview.bytesSentLabel",{defaultMessage:"Bytes Sent"}),value:(0,_format_number.formatMetric)(bytesSent,"byte"),"data-test-subj":"bytesSent"});return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"beatsSummaryStatus"})}},2526:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _modules=__webpack_require__(8);var _beat=__webpack_require__(2527);var _i18n=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiModule=_modules.uiModules.get("monitoring/directives",[]);uiModule.directive("monitoringBeatsBeat",function(){return{restrict:"E",scope:{data:"=",onBrush:"<",zoomInfo:"<"},link:function link(scope,$el){scope.$on("$destroy",function(){return $el&&$el[0]&&(0,_reactDom.unmountComponentAtNode)($el[0])});scope.$watch("data",function(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_beat.Beat,{summary:data.summary,metrics:data.metrics,onBrush:scope.onBrush,zoomInfo:scope.zoomInfo})),$el[0])})}}})},2527:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Beat",{enumerable:true,get:function get(){return _beat.Beat}});var _beat=__webpack_require__(2528)},2528:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Beat=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _chart=__webpack_require__(256);var _format_number=__webpack_require__(45);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);var _summary_status=__webpack_require__(292);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function BeatUi(_ref){var summary=_ref.summary,metrics=_ref.metrics,intl=_ref.intl,props=_objectWithoutProperties(_ref,["summary","metrics","intl"]);var metricsToShow=[metrics.beat_event_rates,metrics.beat_fail_rates,metrics.beat_throughput_rates,metrics.beat_output_errors,metrics.beat_memory,metrics.beat_cpu_utilization,metrics.beat_os_load,metrics.beat_handles];var summarytStatsTop=[{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.nameLabel",defaultMessage:"Name"}),value:summary.name,"data-test-subj":"name"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.hostLabel",defaultMessage:"Host"}),value:summary.transportAddress,"data-test-subj":"host"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.versionLabel",defaultMessage:"Version"}),value:summary.version,"data-test-subj":"version"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.typeLabel",defaultMessage:"Type"}),value:summary.type,"data-test-subj":"type"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.outputLabel",defaultMessage:"Output"}),value:summary.output,"data-test-subj":"output"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.configReloadsLabel",defaultMessage:"Config reloads"}),value:(0,_format_number.formatMetric)(summary.configReloads,"int_commas"),"data-test-subj":"configReloads"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.uptimeLabel",defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(summary.uptime,"time_since"),"data-test-subj":"uptime"}];var summarytStatsBot=[{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.eventsTotalLabel",defaultMessage:"Events total"}),value:(0,_format_number.formatMetric)(summary.eventsTotal,"int_commas"),"data-test-subj":"eventsTotal"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.eventsEmittedLabel",defaultMessage:"Events emitted"}),value:(0,_format_number.formatMetric)(summary.eventsEmitted,"int_commas"),"data-test-subj":"eventsEmitted"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.eventsDroppedLabel",defaultMessage:"Events dropped"}),value:(0,_format_number.formatMetric)(summary.eventsDropped,"int_commas"),"data-test-subj":"eventsDropped"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.bytesSentLabel",defaultMessage:"Bytes sent"}),value:(0,_format_number.formatMetric)(summary.bytesWritten,"byte"),"data-test-subj":"bytesWritten"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.handlesLimitSoftLabel",defaultMessage:"Handles limit (soft)"}),value:(0,_format_number.formatMetric)(summary.handlesSoftLimit,"byte"),"data-test-subj":"handlesLimitSoft"},{label:intl.formatMessage({id:"xpack.monitoring.beats.instance.handlesLimitHardLabel",defaultMessage:"Handles limit (hard)"}),value:(0,_format_number.formatMetric)(summary.handlesHardLimit,"byte"),"data-test-subj":"handlesLimitHard"}];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_summary_status.SummaryStatus,{metrics:summarytStatsTop,"data-test-subj":"beatSummaryStatus01"}),_react.default.createElement(_summary_status.SummaryStatus,{metrics:summarytStatsBot,"data-test-subj":"beatSummaryStatus02"})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map(function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))})))))}var Beat=(0,_react2.injectI18n)(BeatUi);exports.Beat=Beat},2529:function(module,exports,__webpack_require__){"use strict";__webpack_require__(2530);__webpack_require__(2573);__webpack_require__(2575);__webpack_require__(2581);__webpack_require__(2584);__webpack_require__(2589);__webpack_require__(2599);__webpack_require__(2602);__webpack_require__(2604);__webpack_require__(2615);__webpack_require__(2618);__webpack_require__(2620);__webpack_require__(2626);__webpack_require__(2629);__webpack_require__(2635);__webpack_require__(2641);__webpack_require__(2644);__webpack_require__(2646);__webpack_require__(2649);__webpack_require__(2651);__webpack_require__(2655);__webpack_require__(2660);__webpack_require__(2662);__webpack_require__(2664);__webpack_require__(2666);__webpack_require__(2668);__webpack_require__(2696);__webpack_require__(2699);__webpack_require__(2703);__webpack_require__(2706);__webpack_require__(2709);__webpack_require__(2713)},2530:function(module,exports,__webpack_require__){"use strict";var _routes=_interopRequireDefault(__webpack_require__(19));var _index=_interopRequireDefault(__webpack_require__(2531));var _controller=__webpack_require__(2532);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes.default.when("/no-data",{template:_index.default,resolve:{clusters:function clusters($injector){var monitoringClusters=$injector.get("monitoringClusters");var kbnUrl=$injector.get("kbnUrl");return monitoringClusters().then(function(clusters){if(clusters&&clusters.length){kbnUrl.changePath("/home");return Promise.reject()}return Promise.resolve()})}},controller:_controller.NoDataController}).otherwise({redirectTo:"/home"})},2531:function(module,exports){module.exports='<monitoring-main name="no-data">\n  <div data-test-subj="noDataContainer">\n    <div id="noDataReact"></div>\n  </div>\n</monitoring-main>\n'},2532:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoDataController=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _elasticsearch_settings=__webpack_require__(2533);var _model_updater=__webpack_require__(2538);var _reactDom=__webpack_require__(17);var _components=__webpack_require__(494);var _timefilter=__webpack_require__(22);var _i18n=__webpack_require__(15);__webpack_require__(566);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var REACT_NODE_ID_NO_DATA="noDataReact";var NoDataController=function(){function NoDataController($injector,$scope){_classCallCheck(this,NoDataController);var $executor=$injector.get("$executor");this.enableTimefilter($executor,$scope);this.registerCleanup($scope,$executor);Object.assign(this,this.getDefaultModel());this.start($scope,$injector,$executor)}_createClass(NoDataController,[{key:"getDefaultModel",value:function getDefaultModel(){return{hasData:false,errors:[],checkMessage:null,isLoading:true,isCollectionEnabledUpdating:false,isCollectionEnabledUpdated:false,isCollectionIntervalUpdating:false,isCollectionIntervalUpdated:false}}},{key:"start",value:function start($scope,$injector,$executor){var model=this;var $http=$injector.get("$http");var kbnUrl=$injector.get("kbnUrl");var monitoringClusters=$injector.get("monitoringClusters");var _ref=new _model_updater.ModelUpdater($scope,model),updateModel=_ref.updateModel;var checkers=[new _elasticsearch_settings.ClusterSettingsChecker($http),new _elasticsearch_settings.NodeSettingsChecker($http)];var enabler=new _elasticsearch_settings.Enabler($http,updateModel);$scope.$$postDigest(function(){(0,_elasticsearch_settings.startChecks)(checkers,updateModel)});$scope.$watch(function(){return model},function(props){(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_components.NoData,_extends({},props,{enabler:enabler}))),document.getElementById(REACT_NODE_ID_NO_DATA))},true);$scope.$watch(function(){return model.hasData},function(hasData){if(hasData){kbnUrl.redirect("/home")}});$executor.register({execute:function execute(){return monitoringClusters()},handleResponse:function handleResponse(clusters){if(clusters.length){model.hasData=true}}});$executor.start($scope)}},{key:"enableTimefilter",value:function enableTimefilter($executor,$scope){_timefilter.timefilter.enableTimeRangeSelector();_timefilter.timefilter.enableAutoRefreshSelector();$scope.$listen(_timefilter.timefilter,"timeUpdate",function(){return $executor.run()})}},{key:"registerCleanup",value:function registerCleanup($scope,$executor){$scope.$on("$destroy",function(){$executor.destroy();(0,_reactDom.unmountComponentAtNode)(document.getElementById(REACT_NODE_ID_NO_DATA))})}}]);return NoDataController}();exports.NoDataController=NoDataController},2533:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Enabler",{enumerable:true,get:function get(){return _enabler.Enabler}});Object.defineProperty(exports,"ClusterSettingsChecker",{enumerable:true,get:function get(){return _cluster_settings.ClusterSettingsChecker}});Object.defineProperty(exports,"NodeSettingsChecker",{enumerable:true,get:function get(){return _node_settings.NodeSettingsChecker}});Object.defineProperty(exports,"startChecks",{enumerable:true,get:function get(){return _start_checks.startChecks}});var _enabler=__webpack_require__(2534);var _cluster_settings=__webpack_require__(2535);var _node_settings=__webpack_require__(2536);var _start_checks=__webpack_require__(2537)},2534:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Enabler=void 0;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Enabler=function(){function Enabler($http,updateModel){_classCallCheck(this,Enabler);this.$http=$http;this.updateModel=updateModel;this.enableCollectionEnabled=this.enableCollectionEnabled.bind(this);this.enableCollectionInterval=this.enableCollectionInterval.bind(this)}_createClass(Enabler,[{key:"enableCollectionInterval",value:function(){var _enableCollectionInterval=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;this.updateModel({isCollectionIntervalUpdating:true});_context.next=4;return this.$http.put("../api/monitoring/v1/elasticsearch_settings/set/collection_interval");case 4:this.updateModel({isCollectionIntervalUpdated:true,isCollectionIntervalUpdating:false});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context["catch"](0);this.updateModel({errors:_context.t0.data,isCollectionIntervalUpdated:false,isCollectionIntervalUpdating:false});case 10:case"end":return _context.stop()}}},_callee,this,[[0,7]])}));function enableCollectionInterval(){return _enableCollectionInterval.apply(this,arguments)}return enableCollectionInterval}()},{key:"enableCollectionEnabled",value:function(){var _enableCollectionEnabled=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;this.updateModel({isCollectionEnabledUpdating:true});_context2.next=4;return this.$http.put("../api/monitoring/v1/elasticsearch_settings/set/collection_enabled");case 4:this.updateModel({isCollectionEnabledUpdated:true,isCollectionEnabledUpdating:false});_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2["catch"](0);this.updateModel({errors:_context2.t0.data,isCollectionEnabledUpdated:false,isCollectionEnabledUpdating:false});case 10:case"end":return _context2.stop()}}},_callee2,this,[[0,7]])}));function enableCollectionEnabled(){return _enableCollectionEnabled.apply(this,arguments)}return enableCollectionEnabled}()}]);return Enabler}();exports.Enabler=Enabler},2535:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterSettingsChecker=void 0;var _settings_checker=__webpack_require__(1325);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ClusterSettingsChecker=function(_SettingsChecker){_inherits(ClusterSettingsChecker,_SettingsChecker);function ClusterSettingsChecker(params){var _this;_classCallCheck(this,ClusterSettingsChecker);_this=_possibleConstructorReturn(this,_getPrototypeOf(ClusterSettingsChecker).call(this,params));_this.setApi("../api/monitoring/v1/elasticsearch_settings/check/cluster");_this.setMessage("Checking cluster settings API on production cluster");return _this}return ClusterSettingsChecker}(_settings_checker.SettingsChecker);exports.ClusterSettingsChecker=ClusterSettingsChecker},2536:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeSettingsChecker=void 0;var _settings_checker=__webpack_require__(1325);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var NodeSettingsChecker=function(_SettingsChecker){_inherits(NodeSettingsChecker,_SettingsChecker);function NodeSettingsChecker(params){var _this;_classCallCheck(this,NodeSettingsChecker);_this=_possibleConstructorReturn(this,_getPrototypeOf(NodeSettingsChecker).call(this,params));_this.setApi("../api/monitoring/v1/elasticsearch_settings/check/nodes");_this.setMessage("Checking nodes settings API on production cluster");return _this}return NodeSettingsChecker}(_settings_checker.SettingsChecker);exports.NodeSettingsChecker=NodeSettingsChecker},2537:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.startChecks=startChecks;function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg);var value=info.value}catch(error){reject(error);return}if(info.done){resolve(value)}else{Promise.resolve(value).then(_next,_throw)}}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise(function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(undefined)})}}var mapCheckers=function mapCheckers(_checkers){return _checkers.map(function(current,checkerIndex){var next=_checkers[checkerIndex+1];if(next!==undefined){current.setNext(next)}return current})};function startChecks(_x,_x2){return _startChecks.apply(this,arguments)}function _startChecks(){_startChecks=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(checkers,updateModel){var runCheck,_checkers;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:runCheck=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(currentChecker){var _ref2,found,reason,error,errorReason;return regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:updateModel({checkMessage:currentChecker.getMessage()});_context.next=3;return currentChecker.executeCheck();case 3:_ref2=_context.sent;found=_ref2.found;reason=_ref2.reason;error=_ref2.error;errorReason=_ref2.errorReason;if(!error){_context.next=14;break}updateModel({errors:errorReason});if(!currentChecker.hasNext()){_context.next=12;break}return _context.abrupt("return",runCheck(currentChecker.getNext()));case 12:_context.next=20;break;case 14:if(!found){_context.next=18;break}return _context.abrupt("return",updateModel({reason:reason,isLoading:false,checkMessage:null}));case 18:if(!currentChecker.hasNext()){_context.next=20;break}return _context.abrupt("return",runCheck(currentChecker.getNext()));case 20:updateModel({reason:null,isLoading:false,checkMessage:null});case 21:case"end":return _context.stop()}}},_callee)}));return function runCheck(_x3){return _ref.apply(this,arguments)}}();_checkers=mapCheckers(checkers);return _context2.abrupt("return",runCheck(_checkers[0]));case 3:case"end":return _context2.stop()}}},_callee2)}));return _startChecks.apply(this,arguments)}},2538:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ModelUpdater=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var ModelUpdater=function(){function ModelUpdater($scope,model){_classCallCheck(this,ModelUpdater);this.$scope=$scope;this.model=model;this.updateModel=this.updateModel.bind(this)}_createClass(ModelUpdater,[{key:"updateModel",value:function updateModel(properties){var $scope=this.$scope,model=this.model;var keys=Object.keys(properties);$scope.$evalAsync(function(){keys.forEach(function(key){if(Array.isArray(model[key])){model[key].push(properties[key])}else{model[key]=properties[key]}})})}}]);return ModelUpdater}();exports.ModelUpdater=ModelUpdater},2539:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NoData",{enumerable:true,get:function get(){return _no_data.NoData}});var _no_data=__webpack_require__(2540)},2540:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NoData=NoData;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _checking_settings=__webpack_require__(2541);var _reasons=__webpack_require__(2545);var _checker_errors=__webpack_require__(2553);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NoDataMessage(props){var isLoading=props.isLoading,reason=props.reason,checkMessage=props.checkMessage;if(isLoading&&checkMessage!==null){return _react.default.createElement(_checking_settings.CheckingSettings,{checkMessage:checkMessage})}if(reason){return _react.default.createElement(_reasons.ReasonFound,props)}return _react.default.createElement(_reasons.WeTried,null)}function NoData(props){return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,{restrictWidth:600},_react.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",className:"eui-textCenter"},_react.default.createElement(_eui.EuiIcon,{type:"monitoringApp",size:"xxl"}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(NoDataMessage,props),_react.default.createElement(_checker_errors.CheckerErrors,{errors:props.errors}))))}NoData.propTypes={isLoading:_propTypes.default.bool.isRequired,reason:_propTypes.default.object,checkMessage:_propTypes.default.string}},2541:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CheckingSettings=CheckingSettings;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _blurbs=__webpack_require__(569);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function CheckingSettings(_ref){var checkMessage=_ref.checkMessage;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_blurbs.LookingFor,null),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"m"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},checkMessage,"...")))}CheckingSettings.propTypes={checkMessage:_propTypes.default.string.isRequired}},2542:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LookingFor=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var LookingFor=function LookingFor(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.lookingForMonitoringDataTitle",defaultMessage:"We're looking for your monitoring data"}))),_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.lookingForMonitoringDataDescription",defaultMessage:"Monitoring provides insight to your hardware performance and load."})))))};exports.LookingFor=LookingFor},2543:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WhatIs=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var WhatIs=function WhatIs(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.monitoringIsOffTitle",defaultMessage:"Monitoring is currently off"}))),_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.monitoringIsOffDescription",defaultMessage:"Monitoring provides insight to your hardware performance and load."})))))};exports.WhatIs=WhatIs},2544:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ChangesNeeded=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ChangesNeeded=function ChangesNeeded(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.changesNeededTitle",defaultMessage:"You need to make some adjustments"}))),_react.default.createElement(_eui.EuiTextColor,{color:"subdued"},_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.blurbs.changesNeededDescription",defaultMessage:"To run monitoring please perform the following steps"})))))};exports.ChangesNeeded=ChangesNeeded},2545:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ReasonFound",{enumerable:true,get:function get(){return _reason_found.ReasonFound}});Object.defineProperty(exports,"WeTried",{enumerable:true,get:function get(){return _we_tried.WeTried}});var _reason_found=__webpack_require__(2546);var _we_tried=__webpack_require__(2552)},2546:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ReasonFound=ReasonFound;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _explanations=__webpack_require__(2547);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var ExplainWhyNoData=function ExplainWhyNoData(_ref){var reason=_ref.reason,props=_objectWithoutProperties(_ref,["reason"]);var property=reason.property,data=reason.data,context=reason.context;switch(property){case"xpack.monitoring.collection.enabled":return _react.default.createElement(_explanations.ExplainCollectionEnabled,_extends({},reason,props));case"xpack.monitoring.collection.interval":return _react.default.createElement(_explanations.ExplainCollectionInterval,_extends({},reason,props));case"xpack.monitoring.exporters":return _react.default.createElement(_explanations.ExplainExporters,_extends({},reason,props));case"xpack.monitoring.enabled":return _react.default.createElement(_explanations.ExplainPluginEnabled,_extends({},reason,props));default:return _react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.reasons.explainWhyNoDataDescription",defaultMessage:"There is a {context} setting that has {property} set to {data}.",values:{context:_react.default.createElement(_eui.EuiCode,null,context),property:_react.default.createElement(_eui.EuiCode,null,property),data:_react.default.createElement(_eui.EuiCode,null,data)}})))}};function ReasonFound(props){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(ExplainWhyNoData,props))}ReasonFound.propTypes={enabler:_propTypes.default.object.isRequired,reason:_propTypes.default.object.isRequired}},2547:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ExplainCollectionEnabled",{enumerable:true,get:function get(){return _collection_enabled.ExplainCollectionEnabled}});Object.defineProperty(exports,"ExplainCollectionInterval",{enumerable:true,get:function get(){return _collection_interval.ExplainCollectionInterval}});Object.defineProperty(exports,"ExplainPluginEnabled",{enumerable:true,get:function get(){return _plugin_enabled.ExplainPluginEnabled}});Object.defineProperty(exports,"ExplainExporters",{enumerable:true,get:function get(){return _exporters.ExplainExporters}});var _collection_enabled=__webpack_require__(2548);var _collection_interval=__webpack_require__(2549);var _plugin_enabled=__webpack_require__(2550);var _exporters=__webpack_require__(2551)},2548:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainCollectionEnabled=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _blurbs=__webpack_require__(569);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ExplainCollectionEnabled=function(_React$Component){_inherits(ExplainCollectionEnabled,_React$Component);function ExplainCollectionEnabled(props){var _this;_classCallCheck(this,ExplainCollectionEnabled);_this=_possibleConstructorReturn(this,_getPrototypeOf(ExplainCollectionEnabled).call(this,props));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));_this.waitedTooLongTimer=null;_this.state={waitedTooLong:false};return _this}_createClass(ExplainCollectionEnabled,[{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(this.waitedTooLongTimer)}},{key:"handleClick",value:function handleClick(){var _this2=this;var enabler=this.props.enabler;enabler.enableCollectionEnabled();this.waitedTooLongTimer=setTimeout(function(){_this2.setState({waitedTooLong:true})},19*1e3)}},{key:"render",value:function render(){var _this3=this;var _this$props=this.props,context=_this$props.context,property=_this$props.property,data=_this$props.data,isCollectionEnabledUpdated=_this$props.isCollectionEnabledUpdated,isCollectionEnabledUpdating=_this$props.isCollectionEnabledUpdating;var renderButton=function renderButton(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_blurbs.WhatIs,null),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabledDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data}.",values:{context:context,property:_react.default.createElement(_eui.EuiCode,null,property),data:_react.default.createElement(_eui.EuiCode,null,data)}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.turnItOnDescription",defaultMessage:"Would you like to turn it on?"}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceAround",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:_this3.handleClick,type:"button","data-test-subj":"enableCollectionEnabled",isLoading:isCollectionEnabledUpdating},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.turnOnMonitoringButtonLabel",defaultMessage:"Turn on monitoring"})))))};var stillWaiting=this.state.waitedTooLong?_react.default.createElement("p",null,_react.default.createElement("a",{href:"#/"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.stillWaitingLinkText",defaultMessage:"Still waiting?"}))):null;var renderSuccess=function renderSuccess(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l","data-test-subj":"monitoringCollectionEnabledMessage"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.monitoringTurnedOnTitle",defaultMessage:"Success! Getting your monitoring data."}))),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionEnabled.monitoringTurnedOnDescription",defaultMessage:"When the data is in your cluster, your monitoring dashboard will show up here. This might take a few seconds."}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiLoadingSpinner,{size:"l"}),_react.default.createElement(_eui.EuiSpacer,null),stillWaiting)};return _react.default.createElement(_react.Fragment,null,isCollectionEnabledUpdated?renderSuccess():renderButton())}}]);return ExplainCollectionEnabled}(_react.default.Component);exports.ExplainCollectionEnabled=ExplainCollectionEnabled;ExplainCollectionEnabled.propTypes={enabler:_propTypes.default.object.isRequired,context:_propTypes.default.string.isRequired,property:_propTypes.default.string.isRequired,data:_propTypes.default.string.isRequired,isCollectionEnabledUpdated:_propTypes.default.bool,isCollectionEnabledUpdating:_propTypes.default.bool}},2549:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainCollectionInterval=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _blurbs=__webpack_require__(569);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ExplainCollectionInterval=function(_React$Component){_inherits(ExplainCollectionInterval,_React$Component);function ExplainCollectionInterval(props){var _this;_classCallCheck(this,ExplainCollectionInterval);_this=_possibleConstructorReturn(this,_getPrototypeOf(ExplainCollectionInterval).call(this,props));_this.handleClick=_this.handleClick.bind(_assertThisInitialized(_this));return _this}_createClass(ExplainCollectionInterval,[{key:"handleClick",value:function handleClick(){var enabler=this.props.enabler;enabler.enableCollectionInterval()}},{key:"render",value:function render(){var _this2=this;var _this$props=this.props,context=_this$props.context,property=_this$props.property,data=_this$props.data,isCollectionIntervalUpdated=_this$props.isCollectionIntervalUpdated,isCollectionIntervalUpdating=_this$props.isCollectionIntervalUpdating;var renderButton=function renderButton(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_blurbs.WhatIs,null),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionIntervalDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data}.",values:{context:context,property:_react.default.createElement(_eui.EuiCode,null,property),data:_react.default.createElement(_eui.EuiCode,null,data)}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.wrongIntervalValueDescription",defaultMessage:"The collection interval setting needs to be a positive integer (10s is recommended) in order for the collection agents to be active."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.changeIntervalDescription",defaultMessage:"Would you like us to change it and enable monitoring?"}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceAround",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{fill:true,onClick:_this2.handleClick,type:"button","data-test-subj":"enableCollectionInterval",isLoading:isCollectionIntervalUpdating},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.turnOnMonitoringButtonLabel",defaultMessage:"Turn on monitoring"})))))};var renderSuccess=function renderSuccess(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.monitoringTurnedOnTitle",defaultMessage:"Success! Wait a moment please."}))),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.collectionInterval.monitoringTurnedOnDescription",defaultMessage:"As soon as monitoring data appears in your cluster the page will automatically refresh with your monitoring dashboard. This only takes only a few seconds."}))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiLoadingSpinner,{size:"l"}))};return _react.default.createElement(_react.Fragment,null,isCollectionIntervalUpdated?renderSuccess():renderButton())}}]);return ExplainCollectionInterval}(_react.default.Component);exports.ExplainCollectionInterval=ExplainCollectionInterval;ExplainCollectionInterval.propTypes={enabler:_propTypes.default.object.isRequired,context:_propTypes.default.string.isRequired,property:_propTypes.default.string.isRequired,data:_propTypes.default.string.isRequired,isCollectionIntervalUpdated:_propTypes.default.bool,isCollectionIntervalUpdating:_propTypes.default.bool}},2550:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainPluginEnabled=ExplainPluginEnabled;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _blurbs=__webpack_require__(569);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ExplainPluginEnabled(_ref){var context=_ref.context,property=_ref.property,data=_ref.data;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_blurbs.ChangesNeeded,null),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.pluginEnabledDescription",defaultMessage:"We checked the {context} settings and found that {property} is set to {data} set, which disables monitoring. Removing the {monitoringEnableFalse} setting from your configuration will put the default into effect and enable Monitoring.",values:{context:context,property:_react.default.createElement(_eui.EuiCode,null,property),data:_react.default.createElement(_eui.EuiCode,null,data),monitoringEnableFalse:_react.default.createElement(_eui.EuiCode,null,"xpack.monitoring.enabled: false")}}))))}ExplainPluginEnabled.propTypes={property:_propTypes.default.string.isRequired,context:_propTypes.default.string.isRequired,data:_propTypes.default.string.isRequired}},2551:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ExplainExporters=ExplainExporters;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _blurbs=__webpack_require__(569);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function ExplainExporters(_ref){var context=_ref.context,property=_ref.property,data=_ref.data;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_blurbs.ChangesNeeded,null),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,{className:"eui-textLeft"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.exportersDescription",defaultMessage:"We checked the {context} settings for {property}, and found the reason: {data}.",values:{context:_react.default.createElement(_eui.EuiCode,null,context),property:_react.default.createElement(_eui.EuiCode,null,property),data:_react.default.createElement(_eui.EuiCode,null,data)}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.exporters.problemWithConfigDescription",defaultMessage:"Using monitoring exporters ship the monitoring data to a remote monitoring cluster is highly recommended as it keeps the integrity of the monitoring data safe no matter what the state of the production cluster. However, as this instance of Kibana could not find any monitoring data, there seems to be a problem with the {property} configuration, or the {monitoringEs} settings in {kibanaConfig}.",values:{property:_react.default.createElement(_eui.EuiCode,null,property),monitoringEs:_react.default.createElement(_eui.EuiCode,null,"xpack.monitoring.elasticsearch"),kibanaConfig:_react.default.createElement(_eui.EuiCode,null,"kibana.yml")}})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.explanations.exporters.checkConfigDescription",defaultMessage:"Check that the intended exporters are enabled for sending statistics to the monitoring cluster, and that the monitoring cluster host matches the {monitoringEs} setting in {kibanaConfig} to see monitoring data in this instance of Kibana.",values:{monitoringEs:_react.default.createElement(_eui.EuiCode,null,"xpack.monitoring.elasticsearch"),kibanaConfig:_react.default.createElement(_eui.EuiCode,null,"kibana.yml")}}))))}ExplainExporters.propTypes={context:_propTypes.default.string.isRequired,property:_propTypes.default.string.isRequired,data:_propTypes.default.string.isRequired}},2552:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.WeTried=WeTried;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function WeTried(){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"l"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.reasons.couldNotActivateMonitoringTitle",defaultMessage:"We couldn't activate monitoring"}))),_react.default.createElement(_eui.EuiHorizontalRule,{size:"half"}),_react.default.createElement(_eui.EuiText,{className:"eui-textLeft"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.reasons.noMonitoringDataFoundDescription",defaultMessage:'No monitoring data found. Try setting the time filter to "Last 1 hour" or check if data is available for a different time period.'})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.reasons.ifDataInClusterDescription",defaultMessage:"If data is in your cluster, your monitoring dashboards will show up here."}))))}},2553:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CheckerErrors=CheckerErrors;var _react=_interopRequireWildcard(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var ErrorList=function ErrorList(_ref){var errors=_ref.errors;return errors.map(function(error,errorIndex){var message=error.message,statusCode=error.statusCode,friendlyName=error.error;return _react.default.createElement(_react.Fragment,{key:"checker-error-".concat(errorIndex)},_react.default.createElement(_eui.EuiDescriptionListTitle,null,statusCode," ",friendlyName),_react.default.createElement(_eui.EuiDescriptionListDescription,null,message))})};function CheckerErrors(props){if(props.errors===undefined||props.errors.length===0){return null}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCallOut,{title:"Errors found",color:"danger",className:"eui-textLeft"},_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.noData.checkerErrors.checkEsSettingsErrorMessage",defaultMessage:"There were some errors encountered in trying to check Elasticsearch settings. You need administrator rights to check the settings and, if needed, to enable the monitoring collection setting."})),_react.default.createElement(_eui.EuiDescriptionList,null,_react.default.createElement(ErrorList,props))))}CheckerErrors.propTypes={errors:_propTypes.default.array}},2554:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.License=License;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _components=__webpack_require__(556);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LicenseUpdateInfoForPrimary=function LicenseUpdateInfoForPrimary(_ref){var isPrimaryCluster=_ref.isPrimaryCluster,uploadLicensePath=_ref.uploadLicensePath;if(!isPrimaryCluster){return null}return _react.default.createElement(_components.AddLicense,{uploadPath:uploadLicensePath})};var LicenseUpdateInfoForRemote=function LicenseUpdateInfoForRemote(_ref2){var isPrimaryCluster=_ref2.isPrimaryCluster;if(isPrimaryCluster){return null}return _react.default.createElement(_eui.EuiPanel,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.license.howToUpdateLicenseDescription",defaultMessage:"To update the license for this cluster, provide the license file through the Elasticsearch {apiText}:",values:{apiText:"API"}})),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiCodeBlock,null,"curl -XPUT -u <user> 'https://<host>:<port>/_license' -H 'Content-Type: application/json' -d @license.json"))};function License(props){var status=props.status,type=props.type,isExpired=props.isExpired,expiryDate=props.expiryDate;return _react.default.createElement(_eui.EuiPage,{className:"licenseManagement"},_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement("div",{className:"licManagement__contain"},_react.default.createElement(_components.LicenseStatus,{isExpired:isExpired,status:status,type:type,expiryDate:expiryDate}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(LicenseUpdateInfoForPrimary,props),_react.default.createElement(LicenseUpdateInfoForRemote,props))))}},2555:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PageLoading=PageLoading;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PageLoading(){return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",className:"noData__content"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceAround"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiLoadingSpinner,{size:"xl"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.pageLoadingTitle",defaultMessage:"Loading"}))))))))}},2556:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchOverview",{enumerable:true,get:function get(){return _overview.ElasticsearchOverview}});Object.defineProperty(exports,"ElasticsearchNodes",{enumerable:true,get:function get(){return _nodes.ElasticsearchNodes}});Object.defineProperty(exports,"ElasticsearchIndices",{enumerable:true,get:function get(){return _indices.ElasticsearchIndices}});var _overview=__webpack_require__(2557);var _nodes=__webpack_require__(2568);var _indices=__webpack_require__(2571)},2557:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchOverview",{enumerable:true,get:function get(){return _overview.ElasticsearchOverview}});var _overview=__webpack_require__(2558)},2558:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchOverview=ElasticsearchOverview;var _react=_interopRequireDefault(__webpack_require__(0));var _cluster_status=__webpack_require__(568);var _shard_activity=__webpack_require__(2559);var _chart=__webpack_require__(256);var _eui=__webpack_require__(1);var _logs=__webpack_require__(1326);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ElasticsearchOverview(_ref){var clusterStatus=_ref.clusterStatus,metrics=_ref.metrics,logs=_ref.logs,cluster=_ref.cluster,shardActivity=_ref.shardActivity,props=_objectWithoutProperties(_ref,["clusterStatus","metrics","logs","cluster","shardActivity"]);var metricsToShow=[metrics.cluster_search_request_rate,metrics.cluster_query_latency,metrics.cluster_index_request_rate,metrics.cluster_index_latency];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:clusterStatus})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map(function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_logs.Logs,{logs:logs,clusterUuid:cluster.cluster_uuid})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_shard_activity.ShardActivity,_extends({data:shardActivity},props)))))}},2559:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ShardActivity",{enumerable:true,get:function get(){return _shard_activity.ShardActivity}});var _shard_activity=__webpack_require__(2560)},256:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"MonitoringTimeseries",{enumerable:true,get:function get(){return _monitoring_timeseries.MonitoringTimeseries}});Object.defineProperty(exports,"InfoTooltip",{enumerable:true,get:function get(){return _info_tooltip.InfoTooltip}});Object.defineProperty(exports,"getTitle",{enumerable:true,get:function get(){return _get_title.getTitle}});Object.defineProperty(exports,"getUnits",{enumerable:true,get:function get(){return _get_units.getUnits}});Object.defineProperty(exports,"MonitoringTimeseriesContainer",{enumerable:true,get:function get(){return _monitoring_timeseries_container.MonitoringTimeseriesContainer}});var _monitoring_timeseries=__webpack_require__(1316);var _info_tooltip=__webpack_require__(1321);var _get_title=__webpack_require__(1314);var _get_units=__webpack_require__(1315);var _monitoring_timeseries_container=__webpack_require__(1313)},2560:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ShardActivity=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _table=__webpack_require__(267);var _recovery_index=__webpack_require__(2561);var _total_time=__webpack_require__(2563);var _source_destination=__webpack_require__(2564);var _progress=__webpack_require__(2566);var _parse_props=__webpack_require__(2567);var _i18n=__webpack_require__(4);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var columns=[{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.indexTitle",{defaultMessage:"Index"}),field:"name",render:function render(_name,shard){return _react.default.createElement(_recovery_index.RecoveryIndex,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.stageTitle",{defaultMessage:"Stage"}),field:"stage"},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.totalTimeTitle",{defaultMessage:"Total Time"}),field:null,render:function render(shard){return _react.default.createElement(_total_time.TotalTime,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.sourceDestinationTitle",{defaultMessage:"Source / Destination"}),field:null,render:function render(shard){return _react.default.createElement(_source_destination.SourceDestination,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.filesTitle",{defaultMessage:"Files"}),field:null,render:function render(shard){return _react.default.createElement(_progress.FilesProgress,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.bytesTitle",{defaultMessage:"Bytes"}),field:null,render:function render(shard){return _react.default.createElement(_progress.BytesProgress,shard)}},{name:_i18n.i18n.translate("xpack.monitoring.kibana.shardActivity.translogTitle",{defaultMessage:"Translog"}),field:null,render:function render(shard){return _react.default.createElement(_progress.TranslogProgress,shard)}}];var ShardActivityUI=function(_React$Component){_inherits(ShardActivityUI,_React$Component);function ShardActivityUI(props){var _this;_classCallCheck(this,ShardActivityUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(ShardActivityUI).call(this,props));_this.getNoDataMessage=_this.getNoDataMessage.bind(_assertThisInitialized(_this));return _this}_createClass(ShardActivityUI,[{key:"getNoDataMessage",value:function getNoDataMessage(){if(this.props.showShardActivityHistory){return this.props.intl.formatMessage({id:"xpack.monitoring.elasticsearch.shardActivity.noDataMessage",defaultMessage:"There are no historical shard activity records for the selected time range."})}return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkTextProblem",defaultMessage:"There are no active shard recoveries for this cluster."}),_react.default.createElement("br",null),_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkTextSolution",defaultMessage:"Try viewing {shardActivityHistoryLink}.",values:{shardActivityHistoryLink:_react.default.createElement(_eui.EuiLink,{onClick:this.props.toggleShardActivityHistory},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.noActiveShardRecoveriesMessage.completedRecoveriesLinkText",defaultMessage:"completed recoveries"}))}}))}},{key:"render",value:function render(){var _this$props=this.props,rawData=_this$props.data,sorting=_this$props.sorting,pagination=_this$props.pagination,onTableChange=_this$props.onTableChange,toggleShardActivityHistory=_this$props.toggleShardActivityHistory,showShardActivityHistory=_this$props.showShardActivityHistory;if(rawData===null){return null}var rows=rawData.map(_parse_props.parseProps);return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiText,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivityTitle",defaultMessage:"Shard Activity"})))),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiSwitch,{id:"monitoring_completed_recoveries",label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.completedRecoveriesLabel",defaultMessage:"Completed recoveries"}),onChange:toggleShardActivityHistory,checked:showShardActivityHistory}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_table.EuiMonitoringTable,{className:"esShardActivityTable",rows:rows,columns:columns,message:this.getNoDataMessage(),sorting:sorting,search:false,pagination:pagination,onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))}}]);return ShardActivityUI}(_react.default.Component);var ShardActivity=(0,_react2.injectI18n)(ShardActivityUI);exports.ShardActivity=ShardActivity},2561:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.RecoveryIndex=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _snapshot=__webpack_require__(2562);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RecoveryIndex=function RecoveryIndex(props){var name=props.name,shard=props.shard,relocationType=props.relocationType;return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/indices/".concat(name)},name),_react.default.createElement("br",null),_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.recoveryIndex.shardDescription",defaultMessage:"Shard: {shard}",values:{shard:shard}}),_react.default.createElement("br",null),_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.recoveryIndex.recoveryTypeDescription",defaultMessage:"Recovery type: {relocationType}",values:{relocationType:relocationType}}),_react.default.createElement("div",null,_react.default.createElement(_snapshot.Snapshot,props)))};exports.RecoveryIndex=RecoveryIndex},2562:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Snapshot=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var Snapshot=function Snapshot(_ref){var isSnapshot=_ref.isSnapshot,repo=_ref.repo,snapshot=_ref.snapshot;return isSnapshot?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.snapshotTitle",defaultMessage:"Repo: {repo} / Snapshot: {snapshot}",values:{repo:repo,snapshot:snapshot}})):null};exports.Snapshot=Snapshot},2563:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TotalTime=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var TotalTime=function TotalTime(_ref){var startTime=_ref.startTime,totalTime=_ref.totalTime;return _react.default.createElement(_eui.EuiToolTip,{content:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.totalTimeTooltip",defaultMessage:"Started: {startTime}",values:{startTime:startTime}}),position:"bottom"},_react.default.createElement(_eui.EuiLink,null,totalTime))};exports.TotalTime=TotalTime},2564:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceDestination=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _source_tooltip=__webpack_require__(2565);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SourceDestination=function SourceDestination(props){var sourceName=props.sourceName,targetName=props.targetName,targetTransportAddress=props.targetTransportAddress;return _react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s",alignItems:"center",wrap:true},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_source_tooltip.SourceTooltip,props,sourceName)),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:"arrowRight",size:"s"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiToolTip,{content:targetTransportAddress,position:"bottom"},_react.default.createElement(_eui.EuiLink,null,targetName))))};exports.SourceDestination=SourceDestination},2565:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.SourceTooltip=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var SourceTooltip=function SourceTooltip(_ref){var isCopiedFromPrimary=_ref.isCopiedFromPrimary,sourceTransportAddress=_ref.sourceTransportAddress,children=_ref.children;if(!sourceTransportAddress){return children}var tipText=_react.default.createElement(_react.Fragment,null,sourceTransportAddress,_react.default.createElement("br",null),_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip",defaultMessage:"Copied from {copiedFrom} shard",values:{copiedFrom:isCopiedFromPrimary?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip.primarySourceText",defaultMessage:"primary"}):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.sourceTooltip.replicaSourceText",defaultMessage:"replica"})}}));return _react.default.createElement(_eui.EuiToolTip,{content:tipText,position:"bottom"},_react.default.createElement(_eui.EuiLink,null,children))};exports.SourceTooltip=SourceTooltip},2566:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TranslogProgress=exports.BytesProgress=exports.FilesProgress=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}var FilesProgress=function FilesProgress(_ref){var filesPercent=_ref.filesPercent,filesDone=_ref.filesDone,filesTotal=_ref.filesTotal;return _react.default.createElement(_react.Fragment,null,filesPercent,_react.default.createElement("br",null),filesDone," / ",filesTotal)};exports.FilesProgress=FilesProgress;var BytesProgress=function BytesProgress(_ref2){var bytesPercent=_ref2.bytesPercent,bytesDone=_ref2.bytesDone,bytesTotal=_ref2.bytesTotal;return _react.default.createElement(_react.Fragment,null,bytesPercent,_react.default.createElement("br",null),bytesDone," / ",bytesTotal)};exports.BytesProgress=BytesProgress;var TranslogProgress=function TranslogProgress(_ref3){var hasTranslog=_ref3.hasTranslog,translogPercent=_ref3.translogPercent,translogDone=_ref3.translogDone,translogTotal=_ref3.translogTotal;return hasTranslog?_react.default.createElement(_react.Fragment,null,translogPercent,_react.default.createElement("br",null),translogDone," / ",translogTotal):_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardActivity.progress.noTranslogProgressLabel",defaultMessage:"n/a"})};exports.TranslogProgress=TranslogProgress},2567:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.parseProps=void 0;var _lodash=__webpack_require__(3);var _format_number=__webpack_require__(45);var _formatting=__webpack_require__(359);var getIpAndPort=function getIpAndPort(transport){if(transport!==undefined){var matches=transport.match(/([\d\.:]+)\]$/);if(matches){return matches[1]}}return transport};var normalizeString=function normalizeString(text){return(0,_lodash.capitalize)(text.toLowerCase())};var parseProps=function parseProps(props){var id=props.id,stage=props.stage,index=props.index,indexName=props.index_name,isPrimary=props.primary,startTimeInMillis=props.start_time_in_millis,totalTimeInMillis=props.total_time_in_millis,source=props.source,target=props.target,translog=props.translog,type=props.type;var files=index.files,size=index.size;return{name:indexName||index.name,shard:"".concat(id," / ").concat(isPrimary?"Primary":"Replica"),relocationType:type==="PRIMARY_RELOCATION"?"Primary Relocation":normalizeString(type),stage:normalizeString(stage),startTime:(0,_formatting.formatDateTimeLocal)(startTimeInMillis),totalTime:(0,_format_number.formatMetric)(Math.floor(totalTimeInMillis/1e3),"00:00:00"),isCopiedFromPrimary:!isPrimary||type==="PRIMARY_RELOCATION",sourceName:source.name===undefined?"n/a":source.name,targetName:target.name,sourceTransportAddress:getIpAndPort(source.transport_address),targetTransportAddress:getIpAndPort(target.transport_address),isSnapshot:type==="SNAPSHOT",repo:source.repository,snapshot:source.snapshot,filesPercent:files.percent,filesDone:files.reused?files.reused:files.recovered,filesTotal:files.total,bytesPercent:size.percent,bytesDone:(0,_format_number.formatMetric)(size.recovered_in_bytes+size.reused_in_bytes,"byte"),bytesTotal:(0,_format_number.formatMetric)(size.total_in_bytes,"byte"),hasTranslog:translog.total>0,translogPercent:translog.percent,translogDone:translog.total,translogTotal:translog.total_on_start}};exports.parseProps=parseProps},2568:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchNodes",{enumerable:true,get:function get(){return _nodes.ElasticsearchNodes}});var _nodes=__webpack_require__(2569)},2569:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchNodes=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _node=__webpack_require__(1322);var _extract_ip=__webpack_require__(1312);var _cluster_status=__webpack_require__(568);var _table=__webpack_require__(267);var _cells=__webpack_require__(2570);var _eui=__webpack_require__(1);var _i18n=__webpack_require__(4);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var getColumns=function getColumns(showCgroupMetricsElasticsearch){var cols=[];var cpuUsageColumnTitle=_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.cpuUsageColumnTitle",{defaultMessage:"CPU Usage"});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.nameColumnTitle",{defaultMessage:"Name"}),field:"name",sortable:true,render:function render(value,node){return _react.default.createElement("div",null,_react.default.createElement("div",{className:"monTableCell__name"},_react.default.createElement(_eui.EuiToolTip,{position:"bottom",content:node.nodeTypeLabel},_react.default.createElement("span",{className:"fa ".concat(node.nodeTypeClass)})),"",_react.default.createElement("span",{"data-test-subj":"name"},_react.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/nodes/".concat(node.resolver),"data-test-subj":"nodeLink-".concat(node.resolver)},value))),_react.default.createElement("div",{className:"monTableCell__transportAddress"},(0,_extract_ip.extractIp)(node.transport_address)))}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.statusColumnTitle",{defaultMessage:"Status"}),field:"isOnline",sortable:true,render:function render(value){var status=value?_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.statusColumn.onlineLabel",{defaultMessage:"Online"}):_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.statusColumn.offlineLabel",{defaultMessage:"Offline"});return _react.default.createElement("div",{className:"monTableCell__status"},_react.default.createElement(_node.NodeStatusIcon,{isOnline:value,status:status})," ",status)}});if(showCgroupMetricsElasticsearch){cols.push({name:cpuUsageColumnTitle,field:"node_cgroup_quota",sortable:true,render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"cpuQuota"})}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.cpuThrottlingColumnTitle",{defaultMessage:"CPU Throttling"}),field:"node_cgroup_throttled",sortable:true,render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"cpuThrottled"})}})}else{cols.push({name:cpuUsageColumnTitle,field:"node_cpu_utilization",sortable:true,render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"cpuUsage"})}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.loadAverageColumnTitle",{defaultMessage:"Load Average"}),field:"node_load_average",sortable:true,render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"loadAverage"})}})}cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.jvmMemoryColumnTitle",{defaultMessage:"{javaVirtualMachine} Memory",values:{javaVirtualMachine:"JVM"}}),field:"node_jvm_mem_percent",sortable:true,render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:true,"data-test-subj":"jvmMemory"})}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.diskFreeSpaceColumnTitle",{defaultMessage:"Disk Free Space"}),field:"node_free_space",sortable:true,width:"300px",render:function render(value,node){return _react.default.createElement(_cells.MetricCell,{isOnline:node.isOnline,metric:value,isPercent:false,"data-test-subj":"diskFreeSpace"})}});cols.push({name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.shardsColumnTitle",{defaultMessage:"Shards"}),field:"shardCount",sortable:true,render:function render(value,node){return node.isOnline?_react.default.createElement("div",{className:"monTableCell__number","data-test-subj":"shards"},value):_react.default.createElement(_cells.OfflineCell,null)}});return cols};function ElasticsearchNodesUI(_ref){var clusterStatus=_ref.clusterStatus,nodes=_ref.nodes,showCgroupMetricsElasticsearch=_ref.showCgroupMetricsElasticsearch,intl=_ref.intl,props=_objectWithoutProperties(_ref,["clusterStatus","nodes","showCgroupMetricsElasticsearch","intl"]);var columns=getColumns(showCgroupMetricsElasticsearch);var sorting=props.sorting,pagination=props.pagination,onTableChange=props.onTableChange;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:clusterStatus})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_table.EuiMonitoringTable,{className:"elasticsearchNodesTable",rows:nodes,columns:columns,sorting:sorting,pagination:pagination,search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodes.monitoringTablePlaceholder",defaultMessage:"Filter Nodes"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))}var ElasticsearchNodes=(0,_react2.injectI18n)(ElasticsearchNodesUI);exports.ElasticsearchNodes=ElasticsearchNodes},257:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringViewBaseController=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(16));var _reactDom=__webpack_require__(17);var _get_page_data=__webpack_require__(2579);var _components=__webpack_require__(494);var _timefilter=__webpack_require__(22);var _i18n=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var MonitoringViewBaseController=function(){function MonitoringViewBaseController(_ref){var _this=this;var _ref$title=_ref.title,title=_ref$title===void 0?"":_ref$title,_ref$api=_ref.api,api=_ref$api===void 0?"":_ref$api,apiUrlFn=_ref.apiUrlFn,_ref$getPageData=_ref.getPageData,_getPageData=_ref$getPageData===void 0?_get_page_data.getPageData:_ref$getPageData,defaultData=_ref.defaultData,_ref$reactNodeId=_ref.reactNodeId,reactNodeId=_ref$reactNodeId===void 0?null:_ref$reactNodeId,$scope=_ref.$scope,$injector=_ref.$injector,_ref$options=_ref.options,options=_ref$options===void 0?{}:_ref$options;_classCallCheck(this,MonitoringViewBaseController);var titleService=$injector.get("title");var $executor=$injector.get("$executor");titleService($scope.cluster,title);$scope.pageData=this.data=_objectSpread({},defaultData);this._isDataInitialized=false;this.reactNodeId=reactNodeId;var _options$enableTimeFi=options.enableTimeFilter,enableTimeFilter=_options$enableTimeFi===void 0?true:_options$enableTimeFi,_options$enableAutoRe=options.enableAutoRefresh,enableAutoRefresh=_options$enableAutoRe===void 0?true:_options$enableAutoRe;if(enableTimeFilter===false){_timefilter.timefilter.disableTimeRangeSelector()}else{_timefilter.timefilter.enableTimeRangeSelector()}if(enableAutoRefresh===false){_timefilter.timefilter.disableAutoRefreshSelector()}else{_timefilter.timefilter.enableAutoRefreshSelector()}this.updateDataPromise=null;this.updateData=function(){if(_this.updateDataPromise){return _this.updateDataPromise}var _api=apiUrlFn?apiUrlFn():api;return _this.updateDataPromise=_getPageData($injector,_api).then(function(pageData){_this._isDataInitialized=true;$scope.pageData=_this.data=pageData;_this.updateDataPromise=null}).catch(function(){_this.updateDataPromise=null})};this.updateData();$executor.register({execute:function execute(){return _this.updateData()}});$executor.start($scope);$scope.$on("$destroy",function(){if(_this.reactNodeId){(0,_reactDom.unmountComponentAtNode)(document.getElementById(_this.reactNodeId))}$executor.destroy()});this.onBrush=function(_ref2){var xaxis=_ref2.xaxis;var to=xaxis.to,from=xaxis.from;_timefilter.timefilter.setTime({from:(0,_moment.default)(from),to:(0,_moment.default)(to),mode:"absolute"})};this.setTitle=function(title){return titleService($scope.cluster,title)}}_createClass(MonitoringViewBaseController,[{key:"renderReact",value:function renderReact(component){if(this._isDataInitialized===false){(0,_reactDom.render)(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_components.PageLoading,null)),document.getElementById(this.reactNodeId))}else{(0,_reactDom.render)(component,document.getElementById(this.reactNodeId))}}}]);return MonitoringViewBaseController}();exports.MonitoringViewBaseController=MonitoringViewBaseController},2570:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.OfflineCell=OfflineCell;exports.MetricCell=MetricCell;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _format_number=__webpack_require__(45);var _eui=__webpack_require__(1);var _i18n=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function OfflineCell(){return _react.default.createElement("div",{className:"monTableCell__number monTableCell__offline"},"N/A")}var getSlopeArrow=function getSlopeArrow(slope){if(slope||slope===0){return slope>0?"up":"down"}return null};var metricVal=function metricVal(metric,format,isPercent){if(isPercent){return(0,_format_number.formatMetric)(metric,format,"%",{prependSpace:false})}return(0,_format_number.formatMetric)(metric,format)};function MetricCell(_ref){var isOnline=_ref.isOnline,_ref$metric=_ref.metric,metric=_ref$metric===void 0?{}:_ref$metric,isPercent=_ref.isPercent,props=_objectWithoutProperties(_ref,["isOnline","metric","isPercent"]);if(isOnline){var _get=(0,_lodash.get)(metric,"summary",{}),lastVal=_get.lastVal,maxVal=_get.maxVal,minVal=_get.minVal,slope=_get.slope;var format=(0,_lodash.get)(metric,"metric.format");return _react.default.createElement(_eui.EuiFlexGroup,_extends({gutterSize:"m",alignItems:"center",wrap:true},props),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"m"},_react.default.createElement("h4",null,metricVal(lastVal,format,isPercent),"",_react.default.createElement("span",{className:"fa fa-long-arrow-".concat(getSlopeArrow(slope))})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiText,{size:"xs"},_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.cells.maxText",{defaultMessage:"{metric} max",values:{metric:metricVal(maxVal,format,isPercent)}})),_react.default.createElement(_eui.EuiText,{size:"xs"},_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.cells.minText",{defaultMessage:"{metric} min",values:{metric:metricVal(minVal,format,isPercent)}}))))}return _react.default.createElement(OfflineCell,null)}},2571:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ElasticsearchIndices",{enumerable:true,get:function get(){return _indices.ElasticsearchIndices}});var _indices=__webpack_require__(2572)},2572:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchIndices=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _formatting=__webpack_require__(359);var _format_number=__webpack_require__(45);var _status_icon=__webpack_require__(868);var _cluster_status=__webpack_require__(568);var _table=__webpack_require__(267);var _eui=__webpack_require__(1);var _i18n=__webpack_require__(4);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.nameTitle",{defaultMessage:"Name"}),field:"name",width:"350px",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"name"},_react.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/indices/".concat(value),"data-test-subj":"indexLink-".concat(value)},value))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.statusTitle",{defaultMessage:"Status"}),field:"status",sortable:true,render:function render(value){return _react.default.createElement("div",{title:"Index status: ".concat(value)},_react.default.createElement(_status_icon.ElasticsearchStatusIcon,{status:value}),"",(0,_lodash.capitalize)(value))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.documentCountTitle",{defaultMessage:"Document Count"}),field:"doc_count",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"documentCount"},(0,_format_number.formatMetric)(value,_formatting.LARGE_ABBREVIATED))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.dataTitle",{defaultMessage:"Data"}),field:"data_size",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"dataSize"},(0,_format_number.formatMetric)(value,_formatting.LARGE_BYTES))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.indexRateTitle",{defaultMessage:"Index Rate"}),field:"index_rate",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"indexRate"},(0,_format_number.formatMetric)(value,_formatting.LARGE_FLOAT,"/s"))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.searchRateTitle",{defaultMessage:"Search Rate"}),field:"search_rate",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"searchRate"},(0,_format_number.formatMetric)(value,_formatting.LARGE_FLOAT,"/s"))}},{name:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.unassignedShardsTitle",{defaultMessage:"Unassigned Shards"}),field:"unassigned_shards",sortable:true,render:function render(value){return _react.default.createElement("div",{"data-test-subj":"unassignedShards"},(0,_format_number.formatMetric)(value,"0"))}}];var getNoDataMessage=function getNoDataMessage(){return _react.default.createElement("div",null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indices.noIndicesMatchYourSelectionDescription",defaultMessage:"There are no indices that match your selections. Try changing the time range selection."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indices.howToShowSystemIndicesDescription",defaultMessage:"If you are looking for system indices (e.g., .kibana), try checking Show system indices."})))};var ElasticsearchIndicesUI=function ElasticsearchIndicesUI(_ref){var clusterStatus=_ref.clusterStatus,indices=_ref.indices,intl=_ref.intl,sorting=_ref.sorting,pagination=_ref.pagination,onTableChange=_ref.onTableChange,toggleShowSystemIndices=_ref.toggleShowSystemIndices,showSystemIndices=_ref.showSystemIndices;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:clusterStatus})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiSwitch,{label:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indices.systemIndicesLabel",defaultMessage:"System indices"}),checked:showSystemIndices,onChange:function onChange(e){return toggleShowSystemIndices(e.target.checked)}}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_table.EuiMonitoringTable,{className:"elasticsearchIndicesTable",rows:indices,columns:columns,sorting:sorting,pagination:pagination,message:getNoDataMessage(),search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indices.monitoringTablePlaceholder",defaultMessage:"Filter Indices"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))};var ElasticsearchIndices=(0,_react2.injectI18n)(ElasticsearchIndicesUI);exports.ElasticsearchIndices=ElasticsearchIndices},2573:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(19));var _chrome=_interopRequireDefault(__webpack_require__(9));var _index=_interopRequireDefault(__webpack_require__(2574));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var tryPrivilege=function tryPrivilege($http,kbnUrl){return $http.get("../api/monitoring/v1/check_access").then(function(){return kbnUrl.redirect("/home")}).catch(_lodash.noop)};_routes.default.when("/access-denied",{template:_index.default,resolve:{initialCheck:function initialCheck($http,kbnUrl){return tryPrivilege($http,kbnUrl)}},controllerAs:"accessDenied",controller:function controller($scope,$injector){var $window=$injector.get("$window");var kbnBaseUrl=$injector.get("kbnBaseUrl");var $http=$injector.get("$http");var kbnUrl=$injector.get("kbnUrl");var $interval=$injector.get("$interval");this.goToKibana=function(){$window.location.href=_chrome.default.getBasePath()+kbnBaseUrl};var accessPoller=$interval(function(){return tryPrivilege($http,kbnUrl)},5*1e3);$scope.$on("$destroy",function(){return $interval.cancel(accessPoller)})}})},2574:function(module,exports){module.exports='<div class="kuiViewContent kuiViewContent--constrainedWidth kuiViewContentItem">\n  <div class="kuiInfoPanel kuiInfoPanel--error">\n    <div class="kuiInfoPanelHeader">\n      <span class="kuiInfoPanelHeader__icon kuiIcon kuiIcon--error fa-warning"></span>\n      <span\n        class="kuiInfoPanelHeader__title"\n        data-test-subj="accessDeniedTitle"\n        i18n-id="xpack.monitoring.accessDeniedTitle"\n        i18n-default-message="Access Denied"\n      ></span>\n    </div>\n\n    <div class="kuiInfoPanelBody">\n      <div\n        class="kuiInfoPanelBody__message"\n        i18n-id="xpack.monitoring.accessDenied.notAuthorizedDescription"\n        i18n-default-message="You are not authorized to access Monitoring. To use Monitoring, you\n        need the privileges granted by both the `{kibanaUser}` and\n        `{monitoringUser}` roles."\n        i18n-values="{ kibanaUser: \'kibana_user\', monitoringUser: \'monitoring_user\' }"\n      ></div>\n\n      <div\n        class="kuiInfoPanelBody__message"\n        i18n-id="xpack.monitoring.accessDenied.clusterNotConfiguredDescription"\n        i18n-default-message="If you are attempting to access a dedicated monitoring cluster, this\n        might be because you are logged in as a user that is not configured on\n        the monitoring cluster."\n      ></div>\n\n      <div class="kuiInfoPanelBody__message">\n        <div class="kuiButtonGroup">\n          <button\n            ng-click="accessDenied.goToKibana();"\n            class="kuiButton kuiButton--primary"\n            i18n-id="xpack.monitoring.accessDenied.backToKibanaButtonLabel"\n            i18n-default-message="Back to Kibana"\n          ></button>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'},2575:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _reactDom=__webpack_require__(17);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(19));var _index=_interopRequireDefault(__webpack_require__(2576));var _route_init=__webpack_require__(49);var _ajax_error_handler=__webpack_require__(68);var _i18n2=__webpack_require__(15);var _timefilter=__webpack_require__(22);var _alerts=__webpack_require__(2577);var _base_eui_table_controller=__webpack_require__(1329);var _react2=__webpack_require__(5);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var globalState=$injector.get("globalState");var $http=$injector.get("$http");var Private=$injector.get("Private");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/alerts");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return(0,_lodash.get)(response,"data",[])}).catch(function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes.default.when("/alerts",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},alerts:getPageData},controllerAs:"alerts",controller:function(_MonitoringViewBaseEu){_inherits(AlertsView,_MonitoringViewBaseEu);function AlertsView($injector,$scope){var _this;_classCallCheck(this,AlertsView);var $route=$injector.get("$route");var globalState=$injector.get("globalState");var kbnUrl=$injector.get("kbnUrl");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(AlertsView).call(this,{title:_i18n.i18n.translate("xpack.monitoring.alerts.clusterAlertsTitle",{defaultMessage:"Cluster Alerts"}),getPageData:getPageData,$scope:$scope,$injector:$injector,reactNodeId:"monitoringAlertsApp"}));_this.data=$route.current.locals.alerts;var renderReact=function renderReact(data){var app=data.message?_react.default.createElement("p",null,data.message):_react.default.createElement(_alerts.Alerts,{alerts:data,angular:{kbnUrl:kbnUrl,scope:$scope},sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange});(0,_reactDom.render)(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,app,_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiLink,{href:"#/overview"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.alerts.clusterOverviewLinkLabel",defaultMessage:" Cluster Overview"})))))),document.getElementById("monitoringAlertsApp"))};$scope.$watch(function(){return _this.data},function(data){return renderReact(data)});return _this}return AlertsView}(_base_eui_table_controller.MonitoringViewBaseEuiTableController)})},2576:function(module,exports){module.exports='<monitoring-main name="alerts">\n  <div id="monitoringAlertsApp"></div>\n</monitoring-main>\n'},2577:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Alerts",{enumerable:true,get:function get(){return _alerts.Alerts}});var _alerts=__webpack_require__(2578)},2578:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Alerts=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _formatting=__webpack_require__(359);var _common=__webpack_require__(570);var _constants=__webpack_require__(81);var _map_severity=__webpack_require__(872);var _formatted_alert=__webpack_require__(1328);var _table=__webpack_require__(267);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);var _i18n=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var linkToCategories={"elasticsearch/nodes":"Elasticsearch Nodes","elasticsearch/indices":"Elasticsearch Indices","kibana/instances":"Kibana Instances","logstash/instances":"Logstash Nodes"};var getColumns=function getColumns(kbnUrl,scope){return[{name:_i18n.i18n.translate("xpack.monitoring.alerts.statusColumnTitle",{defaultMessage:"Status"}),field:"status",sortable:true,render:function render(severity){var severityIcon=(0,_map_severity.mapSeverity)(severity);return _react.default.createElement(_eui.EuiToolTip,{content:severityIcon.title,position:"bottom"},_react.default.createElement(_eui.EuiHealth,{color:severityIcon.color,"data-test-subj":"alertIcon","aria-label":severityIcon.title},(0,_lodash.capitalize)(severityIcon.value)))}},{name:_i18n.i18n.translate("xpack.monitoring.alerts.resolvedColumnTitle",{defaultMessage:"Resolved"}),field:"resolved_timestamp",sortable:true,render:function render(resolvedTimestamp){var notResolvedLabel=_i18n.i18n.translate("xpack.monitoring.alerts.notResolvedDescription",{defaultMessage:"Not Resolved"});var resolution={icon:null,text:notResolvedLabel};if(resolvedTimestamp){resolution.text=_i18n.i18n.translate("xpack.monitoring.alerts.resolvedAgoDescription",{defaultMessage:"{duration} ago",values:{duration:(0,_common.formatTimestampToDuration)(resolvedTimestamp,_constants.CALCULATE_DURATION_SINCE)}})}else{resolution.icon=_react.default.createElement(_eui.EuiIcon,{type:"alert",size:"m","aria-label":notResolvedLabel})}return _react.default.createElement("span",null,resolution.icon," ",resolution.text)}},{name:_i18n.i18n.translate("xpack.monitoring.alerts.messageColumnTitle",{defaultMessage:"Message"}),field:"message",sortable:true,render:function render(message,alert){return _react.default.createElement(_formatted_alert.FormattedAlert,{prefix:alert.prefix,suffix:alert.suffix,message:message,metadata:alert.metadata,changeUrl:function changeUrl(target){scope.$evalAsync(function(){kbnUrl.changePath(target)})}})}},{name:_i18n.i18n.translate("xpack.monitoring.alerts.categoryColumnTitle",{defaultMessage:"Category"}),field:"category",sortable:true,render:function render(link){return linkToCategories[link]?linkToCategories[link]:_i18n.i18n.translate("xpack.monitoring.alerts.categoryColumn.generalLabel",{defaultMessage:"General"})}},{name:_i18n.i18n.translate("xpack.monitoring.alerts.lastCheckedColumnTitle",{defaultMessage:"Last Checked"}),field:"update_timestamp",sortable:true,render:function render(timestamp){return(0,_formatting.formatDateTimeLocal)(timestamp)}},{name:_i18n.i18n.translate("xpack.monitoring.alerts.triggeredColumnTitle",{defaultMessage:"Triggered"}),field:"timestamp",sortable:true,render:function render(timestamp){return _i18n.i18n.translate("xpack.monitoring.alerts.triggeredColumnValue",{defaultMessage:"{timestamp} ago",values:{timestamp:(0,_common.formatTimestampToDuration)(timestamp,_constants.CALCULATE_DURATION_SINCE)}})}}]};var AlertsUI=function AlertsUI(_ref){var alerts=_ref.alerts,angular=_ref.angular,sorting=_ref.sorting,pagination=_ref.pagination,onTableChange=_ref.onTableChange,intl=_ref.intl;var alertsFlattened=alerts.map(function(alert){return _objectSpread({},alert,{status:alert.metadata.severity,category:alert.metadata.link})});return _react.default.createElement(_table.EuiMonitoringTable,{className:"alertsTable",rows:alertsFlattened,columns:getColumns(angular.kbnUrl,angular.scope),sorting:_objectSpread({},sorting,{sort:_objectSpread({},sorting.sort,{field:"status",direction:_constants.EUI_SORT_DESCENDING})}),pagination:pagination,search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.alerts.filterAlertsPlaceholder",defaultMessage:"Filter Alerts"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["message","category"]}})};var Alerts=(0,_react2.injectI18n)(AlertsUI);exports.Alerts=Alerts},2579:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(68);var _timefilter=__webpack_require__(22);function getPageData($injector,api){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(api,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2580:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.MonitoringViewBaseTableController=void 0;var _=__webpack_require__(243);var _table=__webpack_require__(267);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var MonitoringViewBaseTableController=function(_MonitoringViewBaseCo){_inherits(MonitoringViewBaseTableController,_MonitoringViewBaseCo);function MonitoringViewBaseTableController(args){var _this;_classCallCheck(this,MonitoringViewBaseTableController);_this=_possibleConstructorReturn(this,_getPrototypeOf(MonitoringViewBaseTableController).call(this,args));var storageKey=args.storageKey,$injector=args.$injector;var storage=$injector.get("localStorage");var getLocalStorageData=(0,_table.tableStorageGetter)(storageKey);var setLocalStorageData=(0,_table.tableStorageSetter)(storageKey);var _getLocalStorageData=getLocalStorageData(storage),pageIndex=_getLocalStorageData.pageIndex,filterText=_getLocalStorageData.filterText,sortKey=_getLocalStorageData.sortKey,sortOrder=_getLocalStorageData.sortOrder;_this.pageIndex=pageIndex;_this.filterText=filterText;_this.sortKey=sortKey;_this.sortOrder=sortOrder;_this.onNewState=function(newState){setLocalStorageData(storage,newState)};return _this}return MonitoringViewBaseTableController}(_.MonitoringViewBaseController);exports.MonitoringViewBaseTableController=MonitoringViewBaseTableController},2581:function(module,exports,__webpack_require__){"use strict";var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2582));var _controller=__webpack_require__(2583);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes.default.when("/license",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controllerAs:"licenseView",controller:_controller.LicenseViewController})},2582:function(module,exports){module.exports='<monitoring-main data-test-subj="xpackLicensePage">\n  <div id="licenseReact" class="licFeature"></div>\n</monitoring-main>\n'},2583:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseViewController=void 0;var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(4);var _react=_interopRequireDefault(__webpack_require__(0));var _reactDom=__webpack_require__(17);var _chrome=_interopRequireDefault(__webpack_require__(9));var _formatting=__webpack_require__(359);var _components=__webpack_require__(556);var _components2=__webpack_require__(494);var _timefilter=__webpack_require__(22);var _i18n2=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var REACT_NODE_ID="licenseReact";var LicenseViewController=function(){function LicenseViewController($injector,$scope){_classCallCheck(this,LicenseViewController);_timefilter.timefilter.disableTimeRangeSelector();_timefilter.timefilter.disableAutoRefreshSelector();$scope.$on("$destroy",function(){(0,_reactDom.unmountComponentAtNode)(document.getElementById(REACT_NODE_ID))});this.init($injector,$scope,_i18n.i18n)}_createClass(LicenseViewController,[{key:"init",value:function init($injector,$scope){var globalState=$injector.get("globalState");var title=$injector.get("title");var $route=$injector.get("$route");var cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});$scope.cluster=cluster;var routeTitle=_i18n.i18n.translate("xpack.monitoring.license.licenseRouteTitle",{defaultMessage:"License"});title($scope.cluster,routeTitle);this.license=cluster.license;this.isExpired=Date.now()>(0,_lodash.get)(cluster,"license.expiry_date_in_millis");this.isPrimaryCluster=cluster.isPrimary;var basePath=_chrome.default.getBasePath();this.uploadLicensePath=basePath+"/app/kibana#"+_components.MANAGEMENT_BASE_PATH+"upload_license";this.renderReact($scope)}},{key:"renderReact",value:function renderReact($scope){var _this=this;$scope.$evalAsync(function(){var isPrimaryCluster=_this.isPrimaryCluster,license=_this.license,isExpired=_this.isExpired,uploadLicensePath=_this.uploadLicensePath;var expiryDate=license.expiry_date_in_millis;if(license.expiry_date_in_millis!==undefined){expiryDate=(0,_formatting.formatDateTimeLocal)(license.expiry_date_in_millis)}(0,_reactDom.render)(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_components2.License,{isPrimaryCluster:isPrimaryCluster,status:license.status,type:license.type,isExpired:isExpired,expiryDate:expiryDate,uploadLicensePath:uploadLicensePath})),document.getElementById(REACT_NODE_ID))})}}]);return LicenseViewController}();exports.LicenseViewController=LicenseViewController},2584:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _=__webpack_require__(243);var _i18n=__webpack_require__(15);var _index=_interopRequireDefault(__webpack_require__(2585));var _listing=__webpack_require__(2586);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var getPageData=function getPageData($injector){var monitoringClusters=$injector.get("monitoringClusters");return monitoringClusters()};_routes.default.when("/home",{template:_index.default,resolve:{clusters:function clusters(Private,kbnUrl){var routeInit=Private(_route_init.routeInitProvider);return routeInit().then(function(clusters){if(!clusters||!clusters.length){kbnUrl.changePath("/no-data");return Promise.reject()}if(clusters.length===1){kbnUrl.changePath("/overview");return Promise.reject()}return clusters})}},controllerAs:"clusters",controller:function(_MonitoringViewBaseEu){_inherits(ClustersList,_MonitoringViewBaseEu);function ClustersList($injector,$scope){var _this;_classCallCheck(this,ClustersList);_this=_possibleConstructorReturn(this,_getPrototypeOf(ClustersList).call(this,{storageKey:"clusters",getPageData:getPageData,$scope:$scope,$injector:$injector,reactNodeId:"monitoringClusterListingApp"}));var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var globalState=$injector.get("globalState");var storage=$injector.get("localStorage");var showLicenseExpiration=$injector.get("showLicenseExpiration");_this.data=$route.current.locals.clusters;$scope.$watch(function(){return _this.data},function(data){_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_listing.Listing,{clusters:data,angular:{scope:$scope,globalState:globalState,kbnUrl:kbnUrl,storage:storage,showLicenseExpiration:showLicenseExpiration},sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange})))});return _this}return ClustersList}(_.MonitoringViewBaseEuiTableController)}).otherwise({redirectTo:"/no-data"})},2585:function(module,exports){module.exports='<monitoring-main name="listing">\n  <div id="monitoringClusterListingApp"></div>\n</monitoring-main>\n'},2586:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Listing",{enumerable:true,get:function get(){return _listing.Listing}});var _listing=__webpack_require__(2587)},2587:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Listing=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _chrome=_interopRequireDefault(__webpack_require__(9));var _moment=_interopRequireDefault(__webpack_require__(16));var _numeral=_interopRequireDefault(__webpack_require__(217));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(1);var _notify=__webpack_require__(14);var _table=__webpack_require__(267);var _alerts_indicator=__webpack_require__(2588);var _react2=__webpack_require__(5);var _i18n=__webpack_require__(4);var _constants=__webpack_require__(81);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var IsClusterSupported=function IsClusterSupported(_ref){var isSupported=_ref.isSupported,children=_ref.children;return isSupported?children:"-"};var STANDALONE_CLUSTER_STORAGE_KEY="viewedStandaloneCluster";var IsAlertsSupported=function IsAlertsSupported(props){var _props$cluster$alerts=props.cluster.alerts,_props$cluster$alerts2=_props$cluster$alerts.alertsMeta,alertsMeta=_props$cluster$alerts2===void 0?{enabled:true}:_props$cluster$alerts2,_props$cluster$alerts3=_props$cluster$alerts.clusterMeta,clusterMeta=_props$cluster$alerts3===void 0?{enabled:true}:_props$cluster$alerts3;if(alertsMeta.enabled&&clusterMeta.enabled){return _react.default.createElement("span",null,props.children)}var message=alertsMeta.message||clusterMeta.message;return _react.default.createElement(_eui.EuiToolTip,{content:message,position:"bottom"},_react.default.createElement(_eui.EuiHealth,{color:"subdued","data-test-subj":"alertIcon"},"N/A"))};var getColumns=function getColumns(showLicenseExpiration,changeCluster,handleClickIncompatibleLicense,handleClickInvalidLicense){return[{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.nameColumnTitle",{defaultMessage:"Name"}),field:"cluster_name",sortable:true,render:function render(value,cluster){if(cluster.isSupported){return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return changeCluster(cluster.cluster_uuid,cluster.ccs)},"data-test-subj":"clusterLink"},value)}if(cluster.license){return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return handleClickIncompatibleLicense(cluster.cluster_name)},"data-test-subj":"clusterLink"},value)}return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return handleClickInvalidLicense(cluster.cluster_name)},"data-test-subj":"clusterLink"},value)}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.statusColumnTitle",{defaultMessage:"Status"}),field:"status","data-test-subj":"alertsStatus",sortable:true,render:function render(_status,cluster){return _react.default.createElement(IsClusterSupported,cluster,_react.default.createElement(IsAlertsSupported,{cluster:cluster},_react.default.createElement(_alerts_indicator.AlertsIndicator,{alerts:cluster.alerts})))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.nodesColumnTitle",{defaultMessage:"Nodes"}),field:"elasticsearch.cluster_stats.nodes.count.total","data-test-subj":"nodesCount",sortable:true,render:function render(total,cluster){return _react.default.createElement(IsClusterSupported,cluster,(0,_numeral.default)(total).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.indicesColumnTitle",{defaultMessage:"Indices"}),field:"elasticsearch.cluster_stats.indices.count","data-test-subj":"indicesCount",sortable:true,render:function render(count,cluster){return _react.default.createElement(IsClusterSupported,cluster,(0,_numeral.default)(count).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.dataColumnTitle",{defaultMessage:"Data"}),field:"elasticsearch.cluster_stats.indices.store.size_in_bytes","data-test-subj":"dataSize",sortable:true,render:function render(size,cluster){return _react.default.createElement(IsClusterSupported,cluster,(0,_numeral.default)(size).format("0,0[.]0 b"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.logstashColumnTitle",{defaultMessage:"Logstash"}),field:"logstash.node_count","data-test-subj":"logstashCount",sortable:true,render:function render(count,cluster){return _react.default.createElement(IsClusterSupported,cluster,(0,_numeral.default)(count).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.kibanaColumnTitle",{defaultMessage:"Kibana"}),field:"kibana.count","data-test-subj":"kibanaCount",sortable:true,render:function render(count,cluster){return _react.default.createElement(IsClusterSupported,cluster,(0,_numeral.default)(count).format("0,0"))}},{name:_i18n.i18n.translate("xpack.monitoring.cluster.listing.licenseColumnTitle",{defaultMessage:"License"}),field:"license.type","data-test-subj":"clusterLicense",sortable:true,render:function render(licenseType,cluster){var license=cluster.license;if(!licenseType){return _react.default.createElement("div",null,_react.default.createElement("div",{className:"monTableCell__clusterCellLiscense"},"N/A"))}if(license){var licenseExpiry=function licenseExpiry(){if(license.expiry_date_in_millis<(0,_moment.default)().valueOf()){return _react.default.createElement("span",{className:"monTableCell__clusterCellExpired"},"Expired")}return _react.default.createElement("span",null,"Expires ",(0,_moment.default)(license.expiry_date_in_millis).format("D MMM YY"))};return _react.default.createElement("div",null,_react.default.createElement("div",{className:"monTableCell__clusterCellLiscense"},(0,_lodash.capitalize)(licenseType)),_react.default.createElement("div",{className:"monTableCell__clusterCellExpiration"},showLicenseExpiration?licenseExpiry():null))}return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return handleClickInvalidLicense(cluster.cluster_name)}},_react.default.createElement(_eui.EuiHealth,{color:"subdued","data-test-subj":"alertIcon"},"N/A"))}}]};var changeCluster=function changeCluster(scope,globalState,kbnUrl,clusterUuid,ccs){scope.$evalAsync(function(){globalState.cluster_uuid=clusterUuid;globalState.ccs=ccs;globalState.save();kbnUrl.changePath("/overview")})};var licenseWarning=function licenseWarning(scope,_ref2){var title=_ref2.title,text=_ref2.text;scope.$evalAsync(function(){_notify.toastNotifications.addWarning({title:title,text:text,"data-test-subj":"monitoringLicenseWarning"})})};var handleClickIncompatibleLicense=function handleClickIncompatibleLicense(scope,clusterName){licenseWarning(scope,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.warningMessageTitle",defaultMessage:"You can't view the {clusterName} cluster",values:{clusterName:'"'+clusterName+'"'}}),text:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.noMultiClusterSupportMessage",defaultMessage:"The Basic license does not support multi-cluster monitoring."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.infoMessage",defaultMessage:"Need to monitor multiple clusters? {getLicenseInfoLink} to enjoy multi-cluster monitoring.",values:{getLicenseInfoLink:_react.default.createElement("a",{href:"https://www.elastic.co/subscriptions",target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.incompatibleLicense.getLicenseLinkLabel",defaultMessage:"Get a license with full functionality"}))}})))})};var handleClickInvalidLicense=function handleClickInvalidLicense(scope,clusterName){var licensingPath="".concat(_chrome.default.getBasePath(),"/app/kibana#/management/elasticsearch/license_management/home");licenseWarning(scope,{title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.warningMessageTitle",defaultMessage:"You can't view the {clusterName} cluster",values:{clusterName:'"'+clusterName+'"'}}),text:_react.default.createElement(_react.Fragment,null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.invalidInfoMessage",defaultMessage:"The license information is invalid."})),_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.infoMessage",defaultMessage:"Need a license? {getBasicLicenseLink} or {getLicenseInfoLink} to enjoy multi-cluster monitoring.",values:{getBasicLicenseLink:_react.default.createElement("a",{href:licensingPath},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.getBasicLicenseLinkLabel",defaultMessage:"Get a free Basic license"})),getLicenseInfoLink:_react.default.createElement("a",{href:"https://www.elastic.co/subscriptions",target:"_blank"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.invalidLicense.getLicenseLinkLabel",defaultMessage:"get a license with full functionality"}))}})))})};var Listing=function(_Component){_inherits(Listing,_Component);function Listing(props){var _this;_classCallCheck(this,Listing);_this=_possibleConstructorReturn(this,_getPrototypeOf(Listing).call(this,props));_this.state=_defineProperty({},STANDALONE_CLUSTER_STORAGE_KEY,false);return _this}_createClass(Listing,[{key:"renderStandaloneClusterCallout",value:function renderStandaloneClusterCallout(changeCluster,storage){var _this2=this;if(storage.get(STANDALONE_CLUSTER_STORAGE_KEY)){return null}return _react.default.createElement("div",null,_react.default.createElement(_eui.EuiCallOut,{color:"warning",title:_i18n.i18n.translate("xpack.monitoring.cluster.listing.standaloneClusterCallOutTitle",{defaultMessage:"It looks like you have instances that aren't connected to an Elasticsearch cluster."}),iconType:"link"},_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return changeCluster(_constants.STANDALONE_CLUSTER_CLUSTER_UUID)},"data-test-subj":"standaloneClusterLink"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.standaloneClusterCallOutLink",defaultMessage:"View these instances."})),"",_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.standaloneClusterCallOutText",defaultMessage:"Or, click Standalone Cluster in the table below"})),_react.default.createElement("p",null,_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){storage.set(STANDALONE_CLUSTER_STORAGE_KEY,true);_this2.setState(_defineProperty({},STANDALONE_CLUSTER_STORAGE_KEY,true))}},_react.default.createElement(_eui.EuiIcon,{type:"cross"}),"",_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.standaloneClusterCallOutDismiss",defaultMessage:"Dismiss"})))),_react.default.createElement(_eui.EuiSpacer,null))}},{key:"render",value:function render(){var _this$props=this.props,angular=_this$props.angular,clusters=_this$props.clusters,sorting=_this$props.sorting,pagination=_this$props.pagination,onTableChange=_this$props.onTableChange;var _changeCluster=(0,_lodash.partial)(changeCluster,angular.scope,angular.globalState,angular.kbnUrl);var _handleClickIncompatibleLicense=(0,_lodash.partial)(handleClickIncompatibleLicense,angular.scope);var _handleClickInvalidLicense=(0,_lodash.partial)(handleClickInvalidLicense,angular.scope);var hasStandaloneCluster=!!clusters.find(function(cluster){return cluster.cluster_uuid===_constants.STANDALONE_CLUSTER_CLUSTER_UUID});return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,hasStandaloneCluster?this.renderStandaloneClusterCallout(_changeCluster,angular.storage):null,_react.default.createElement(_table.EuiMonitoringTable,{className:"clusterTable",rows:clusters,columns:getColumns(angular.showLicenseExpiration,_changeCluster,_handleClickIncompatibleLicense,_handleClickInvalidLicense),rowProps:function rowProps(item){return{"data-test-subj":"clusterRow_".concat(item.cluster_uuid)}},sorting:_objectSpread({},sorting,{sort:_objectSpread({},sorting.sort,{field:"cluster_name"})}),pagination:pagination,search:{box:{incremental:true,placeholder:angular.scope.filterText}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["cluster_name"]}}))))}}]);return Listing}(_react.Component);exports.Listing=Listing},2588:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsIndicator=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _map_severity=__webpack_require__(872);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HIGH_SEVERITY=2e3;var MEDIUM_SEVERITY=1e3;var LOW_SEVERITY=0;function AlertsIndicatorUi(_ref){var alerts=_ref.alerts,intl=_ref.intl;if(alerts&&alerts.count>0){var severity=function(){if(alerts.high>0){return HIGH_SEVERITY}if(alerts.medium>0){return MEDIUM_SEVERITY}return LOW_SEVERITY}();var severityIcon=(0,_map_severity.mapSeverity)(severity);var tooltipText=function(){switch(severity){case HIGH_SEVERITY:return intl.formatMessage({id:"xpack.monitoring.cluster.listing.alertsInticator.highSeverityTooltip",defaultMessage:"There are some critical cluster issues that require your immediate attention!"});case MEDIUM_SEVERITY:return intl.formatMessage({id:"xpack.monitoring.cluster.listing.alertsInticator.mediumSeverityTooltip",defaultMessage:"There are some issues that might have impact on your cluster."});default:return intl.formatMessage({id:"xpack.monitoring.cluster.listing.alertsInticator.lowSeverityTooltip",defaultMessage:"There are some low-severity cluster issues"})}}();return _react.default.createElement(_eui.EuiToolTip,{content:tooltipText,position:"bottom",trigger:"hover"},_react.default.createElement(_eui.EuiHealth,{color:severityIcon.color,"data-test-subj":"alertIcon"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.alertsInticator.alertsTooltip",defaultMessage:"Alerts"})))}return _react.default.createElement(_eui.EuiToolTip,{content:intl.formatMessage({id:"xpack.monitoring.cluster.listing.alertsInticator.clearStatusTooltip",defaultMessage:"Cluster status is clear!"}),position:"bottom"},_react.default.createElement(_eui.EuiHealth,{color:"success","data-test-subj":"alertIcon"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.listing.alertsInticator.clearTooltip",defaultMessage:"Clear"})))}var AlertsIndicator=(0,_react2.injectI18n)(AlertsIndicatorUi);exports.AlertsIndicator=AlertsIndicator},2589:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2590));var _=__webpack_require__(243);var _overview=__webpack_require__(2591);var _i18n2=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/overview",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},cluster:function cluster(monitoringClusters,globalState){return monitoringClusters(globalState.cluster_uuid,globalState.ccs)}},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var kbnUrl=$injector.get("kbnUrl");var monitoringClusters=$injector.get("monitoringClusters");var globalState=$injector.get("globalState");_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.cluster.overviewTitle",{defaultMessage:"Overview"}),defaultData:{},getPageData:function getPageData(){return monitoringClusters(globalState.cluster_uuid,globalState.ccs)},reactNodeId:"monitoringClusterOverviewApp",$scope:$scope,$injector:$injector}));var changeUrl=function changeUrl(target){$scope.$evalAsync(function(){kbnUrl.changePath(target)})};$scope.$watch(function(){return _this.data},function(data){_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_overview.Overview,{cluster:data,changeUrl:changeUrl,showLicenseExpiration:true})))});return _this}return controller}(_.MonitoringViewBaseController)})},2590:function(module,exports){module.exports='<monitoring-main name="overview" data-test-subj="clusterOverviewContainer">\n  <div id="monitoringClusterOverviewApp"></div>\n</monitoring-main>\n'},2591:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Overview=Overview;var _react=_interopRequireWildcard(__webpack_require__(0));var _elasticsearch_panel=__webpack_require__(2592);var _kibana_panel=__webpack_require__(2594);var _logstash_panel=__webpack_require__(2595);var _alerts_panel=__webpack_require__(2596);var _beats_panel=__webpack_require__(2597);var _eui=__webpack_require__(1);var _apm_panel=__webpack_require__(2598);var _constants=__webpack_require__(81);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function Overview(props){var isFromStandaloneCluster=props.cluster.cluster_uuid===_constants.STANDALONE_CLUSTER_CLUSTER_UUID;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_alerts_panel.AlertsPanel,{alerts:props.cluster.alerts,changeUrl:props.changeUrl}),!isFromStandaloneCluster?_react.default.createElement(_react.Fragment,null,_react.default.createElement(_elasticsearch_panel.ElasticsearchPanel,_extends({},props.cluster.elasticsearch,{version:props.cluster.version,ml:props.cluster.ml,changeUrl:props.changeUrl,license:props.cluster.license,showLicenseExpiration:props.showLicenseExpiration})),_react.default.createElement(_kibana_panel.KibanaPanel,_extends({},props.cluster.kibana,{changeUrl:props.changeUrl}))):null,_react.default.createElement(_logstash_panel.LogstashPanel,_extends({},props.cluster.logstash,{changeUrl:props.changeUrl})),_react.default.createElement(_beats_panel.BeatsPanel,_extends({},props.cluster.beats,{changeUrl:props.changeUrl})),_react.default.createElement(_apm_panel.ApmPanel,_extends({},props.cluster.apm,{changeUrl:props.changeUrl}))))}},2592:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchPanel=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _format_number=__webpack_require__(45);var _helpers=__webpack_require__(571);var _eui=__webpack_require__(1);var _license_text=__webpack_require__(2593);var _i18n=__webpack_require__(4);var _react2=__webpack_require__(5);var _reason=__webpack_require__(1327);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}var calculateShards=function calculateShards(shards){var total=(0,_lodash.get)(shards,"total",0);var primaries=(0,_lodash.get)(shards,"primaries","N/A");var replicas="N/A";if(primaries!=="N/A"){replicas=(0,_format_number.formatNumber)(total-primaries,"int_commas");primaries=(0,_format_number.formatNumber)(primaries,"int_commas")}return{primaries:primaries,replicas:replicas}};function getBadgeColorFromLogLevel(level){switch(level){case"warn":return"warning";case"debug":return"hollow";case"info":return"default";case"error":return"danger"}}function renderLogs(props){if(!props.logs.enabled){return _react.default.createElement(_eui.EuiDescriptionList,null,_react.default.createElement(_reason.Reason,{reason:props.logs.reason}))}return _react.default.createElement(_eui.EuiDescriptionList,{type:"column"},props.logs.types.map(function(log,index){return _react.default.createElement(_react.Fragment,{key:index},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logsPanel.logTypeTitle",defaultMessage:"{type}",values:{type:(0,_lodash.capitalize)(log.type)}})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,renderLog(log)))}),props.logs.types.length===0?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logsPanel.noLogsFound",defaultMessage:"No logs found."}):null)}var logLevelText={info:_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.infoLogsTooltipText",{defaultMessage:"The number of information logs"}),warn:_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.warnLogsTooltipText",{defaultMessage:"The number of warning logs"}),debug:_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.debugLogsTooltipText",{defaultMessage:"The number of debug logs"}),error:_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.errorLogsTooltipText",{defaultMessage:"The number of error logs"}),fatal:_i18n.i18n.translate("xpack.monitoring.cluster.overview.esPanel.fatalLogsTooltipText",{defaultMessage:"The number of fatal logs"})};function renderLog(log){return _react.default.createElement(_eui.EuiFlexGroup,{wrap:true,responsive:false,gutterSize:"xs"},log.levels.map(function(level,index){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:index},_react.default.createElement(_eui.EuiToolTip,{position:"top",content:logLevelText[level.level]},_react.default.createElement(_eui.EuiBadge,{color:getBadgeColorFromLogLevel(level.level)},(0,_format_number.formatNumber)(level.count,"int_commas"))))}))}function ElasticsearchPanelUi(props){var clusterStats=props.cluster_stats||{};var nodes=clusterStats.nodes;var indices=clusterStats.indices;var goToElasticsearch=function goToElasticsearch(){return props.changeUrl("elasticsearch")};var goToNodes=function goToNodes(){return props.changeUrl("elasticsearch/nodes")};var goToIndices=function goToIndices(){return props.changeUrl("elasticsearch/indices")};var _calculateShards=calculateShards((0,_lodash.get)(props,"cluster_stats.indices.shards",{})),primaries=_calculateShards.primaries,replicas=_calculateShards.replicas;var statusIndicator=_react.default.createElement(_helpers.HealthStatusIndicator,{status:clusterStats.status});var showMlJobs=function showMlJobs(){if(props.ml){return[_react.default.createElement(_eui.EuiDescriptionListTitle,{key:"mlJobsListTitle"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.jobsLabel",defaultMessage:"Jobs"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{key:"mlJobsCount","data-test-subj":"esMlJobs"},props.ml.jobs)]}return null};var licenseText=_react.default.createElement(_license_text.LicenseText,{license:props.license,showLicenseExpiration:props.showLicenseExpiration});return _react.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{statusIndicator:statusIndicator,url:"elasticsearch",title:"Elasticsearch",extras:licenseText}),_react.default.createElement(_eui.EuiFlexGrid,{columns:4},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToElasticsearch,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.esPanel.overviewLinkAriaLabel",defaultMessage:"Elasticsearch Overview"}),"data-test-subj":"esOverview"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.versionLabel",defaultMessage:"Version"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esVersion"},props.version||props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.esPanel.versionNotAvailableDescription",defaultMessage:"N/A"})),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.uptimeLabel",defaultMessage:"Uptime"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esUptime"},(0,_format_number.formatNumber)((0,_lodash.get)(nodes,"jvm.max_uptime_in_millis"),"time_since")),showMlJobs()))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{"data-test-subj":"esNumberOfNodes",onClick:goToNodes},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.nodesTotalLinkLabel",defaultMessage:"Nodes: {nodesTotal}",values:{nodesTotal:(0,_format_number.formatNumber)((0,_lodash.get)(nodes,"count.total"),"int_commas")}})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.diskAvailableLabel",defaultMessage:"Disk Available"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDiskAvailable"},_react.default.createElement(_helpers.BytesUsage,{usedBytes:(0,_lodash.get)(nodes,"fs.available_in_bytes"),maxBytes:(0,_lodash.get)(nodes,"fs.total_in_bytes")})),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.jvmHeapLabel",defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esJvmHeap"},_react.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:(0,_lodash.get)(nodes,"jvm.mem.heap_used_in_bytes"),maxBytes:(0,_lodash.get)(nodes,"jvm.mem.heap_max_in_bytes")}))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToIndices,"data-test-subj":"esNumberOfIndices","aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.esPanel.indicesCountLinkAriaLabel",defaultMessage:"Elasticsearch Indices: {indicesCount}"},{indicesCount:(0,_format_number.formatNumber)((0,_lodash.get)(indices,"count"),"int_commas")})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.indicesCountLinkLabel",defaultMessage:"Indices: {indicesCount}",values:{indicesCount:(0,_format_number.formatNumber)((0,_lodash.get)(indices,"count"),"int_commas")}})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.documentsLabel",defaultMessage:"Documents"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDocumentsCount"},(0,_format_number.formatNumber)((0,_lodash.get)(indices,"docs.count"),"int_commas")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.diskUsageLabel",defaultMessage:"Disk Usage"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esDiskUsage"},(0,_format_number.formatNumber)((0,_lodash.get)(indices,"store.size_in_bytes"),"byte")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.primaryShardsLabel",defaultMessage:"Primary Shards"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esPrimaryShards"},primaries),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.replicaShardsLabel",defaultMessage:"Replica Shards"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"esReplicaShards"},replicas)))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToElasticsearch,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.esPanel.logsLinkAriaLabel",defaultMessage:"Elasticsearch Logs"}),"data-test-subj":"esLogs"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.esPanel.logsLinkLabel",defaultMessage:"Logs"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),renderLogs(props)))))}var ElasticsearchPanel=(0,_react2.injectI18n)(ElasticsearchPanelUi);exports.ElasticsearchPanel=ElasticsearchPanel},2593:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LicenseText=LicenseText;var _react=_interopRequireDefault(__webpack_require__(0));var _momentTimezone=_interopRequireDefault(__webpack_require__(224));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var formatDateLocal=function formatDateLocal(input){return _momentTimezone.default.tz(input,_momentTimezone.default.tz.guess()).format("LL")};function LicenseText(_ref){var license=_ref.license,showLicenseExpiration=_ref.showLicenseExpiration;if(!showLicenseExpiration){return null}return _react.default.createElement(_eui.EuiLink,{href:"#/license"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.licenseText.toLicensePageLinkLabel",defaultMessage:"{licenseType} license {willExpireOn}",values:{licenseType:(0,_lodash.capitalize)(license.type),willExpireOn:license.expiry_date_in_millis===undefined?"":_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.licenseText.expireDateText",defaultMessage:"will expire on {expiryDate}",values:{expiryDate:formatDateLocal(license.expiry_date_in_millis)}})}}))}},2594:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaPanel=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _format_number=__webpack_require__(45);var _helpers=__webpack_require__(571);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function KibanaPanelUi(props){if(!props.count){return null}var statusIndicator=_react.default.createElement(_helpers.HealthStatusIndicator,{status:props.status});var goToKibana=function goToKibana(){return props.changeUrl("kibana")};var goToInstances=function goToInstances(){return props.changeUrl("kibana/instances")};return _react.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{statusIndicator:statusIndicator,url:"kibana",title:props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.kibanaPanel.kibanaTitle",defaultMessage:"Kibana"})}),_react.default.createElement(_eui.EuiFlexGrid,{columns:4},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToKibana,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.kibanaPanel.overviewLinkAriaLabel",defaultMessage:"Kibana Overview"}),"data-test-subj":"kbnOverview"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column","data-test-subj":"kibana_overview","data-overview-status":props.status},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.requestsLabel",defaultMessage:"Requests"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnRequests"},props.requests_total),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.maxResponseTimeLabel",defaultMessage:"Max. Response Time"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnMaxResponseTime"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.maxResponseTimeDescription",defaultMessage:"{maxTime} ms",values:{maxTime:props.response_time_max}}))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToInstances,"data-test-subj":"kbnInstances","aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.kibanaPanel.instancesCountLinkAriaLabel",defaultMessage:"Kibana Instances: {instancesCount}"},{instancesCount:props.count})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.instancesCountLinkLabel",defaultMessage:"Instances: {instancesCount}",values:{instancesCount:_react.default.createElement("span",{"data-test-subj":"number_of_kibana_instances"},props.count)}})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.connectionsLabel",defaultMessage:"Connections"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnConnections"},(0,_format_number.formatNumber)(props.concurrent_connections,"int_commas")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.kibanaPanel.memoryUsageLabel",defaultMessage:"Memory Usage"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"kbnMemoryUsage"},_react.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:props.memory_size,maxBytes:props.memory_limit})))))))}var KibanaPanel=(0,_react2.injectI18n)(KibanaPanelUi);exports.KibanaPanel=KibanaPanel},2595:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.LogstashPanel=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _format_number=__webpack_require__(45);var _helpers=__webpack_require__(571);var _constants=__webpack_require__(81);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function LogstashPanelUi(props){if(!props.node_count){return null}var goToLogstash=function goToLogstash(){return props.changeUrl("logstash")};var goToNodes=function goToNodes(){return props.changeUrl("logstash/nodes")};var goToPipelines=function goToPipelines(){return props.changeUrl("logstash/pipelines")};return _react.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{url:"logstash",title:props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.logstashPanel.logstashTitle",defaultMessage:"Logstash"})}),_react.default.createElement(_eui.EuiFlexGrid,{columns:4},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToLogstash,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.logstashPanel.overviewLinkAriaLabel",defaultMessage:"Logstash Overview"})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column","data-test-subj":"logstash_overview"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.eventsReceivedLabel",defaultMessage:"Events Received"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsEventsReceived"},(0,_format_number.formatNumber)(props.events_in_total,"0.[0]a")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.eventsEmittedLabel",defaultMessage:"Events Emitted"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsEventsEmitted"},(0,_format_number.formatNumber)(props.events_out_total,"0.[0]a"))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToNodes,"data-test-subj":"lsNodes","aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.logstashPanel.nodesCountLinkAriaLabel",defaultMessage:"Logstash Nodes: {nodesCount}"},{nodesCount:props.node_count})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.nodesCountLinkLabel",defaultMessage:"Nodes: {nodesCount}",values:{nodesCount:_react.default.createElement("span",{"data-test-subj":"number_of_logstash_instances"},props.node_count)}})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.uptimeLabel",defaultMessage:"Uptime"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsUptime"},(0,_format_number.formatNumber)(props.max_uptime,"time_since")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.jvmHeapLabel",defaultMessage:"{javaVirtualMachine} Heap",values:{javaVirtualMachine:"JVM"}})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"lsJvmHeap"},_react.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:props.avg_memory_used,maxBytes:props.avg_memory}))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"m"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToPipelines,"data-test-subj":"lsPipelines","aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.logstashPanel.pipelineCountLinkAriaLabel",defaultMessage:"Logstash Pipelines (beta feature): {pipelineCount}"},{pipelineCount:props.pipeline_count})},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.pipelinesCountLinkLabel",defaultMessage:"Pipelines: {pipelineCount}",values:{pipelineCount:_react.default.createElement("span",{"data-test-subj":"number_of_logstash_pipelines"},props.pipeline_count)}}))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIconTip,{content:props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.logstashPanel.betaFeatureTooltip",defaultMessage:"Beta feature"}),position:"bottom",type:"beaker","aria-label":"Beta feature"}))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.withMemoryQueuesLabel",defaultMessage:"With Memory Queues"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,props.queue_types[_constants.LOGSTASH.QUEUE_TYPES.MEMORY]),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.logstashPanel.withPersistentQueuesLabel",defaultMessage:"With Persistent Queues"})),_react.default.createElement(_eui.EuiDescriptionListDescription,null,props.queue_types[_constants.LOGSTASH.QUEUE_TYPES.PERSISTED]))))))}var LogstashPanel=(0,_react2.injectI18n)(LogstashPanelUi);exports.LogstashPanel=LogstashPanel},2596:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AlertsPanel=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _formatted_alert=__webpack_require__(1328);var _map_severity=__webpack_require__(872);var _format_timestamp_to_duration=__webpack_require__(674);var _constants=__webpack_require__(81);var _formatting=__webpack_require__(359);var _react2=__webpack_require__(5);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AlertsPanelUi(_ref){var alerts=_ref.alerts,changeUrl=_ref.changeUrl,intl=_ref.intl;var goToAlerts=function goToAlerts(){return changeUrl("/alerts")};if(!alerts||!alerts.length){return null}function TopAlertItem(_ref2){var item=_ref2.item,index=_ref2.index;var severityIcon=(0,_map_severity.mapSeverity)(item.metadata.severity);if(item.resolved_timestamp){severityIcon.title=intl.formatMessage({id:"xpack.monitoring.cluster.overview.alertsPanel.severityIconTitle",defaultMessage:"{severityIconTitle} (resolved {time} ago)"},{severityIconTitle:severityIcon.title,time:(0,_format_timestamp_to_duration.formatTimestampToDuration)(item.resolved_timestamp,_constants.CALCULATE_DURATION_SINCE)});severityIcon.color="success";severityIcon.iconType="check"}return _react.default.createElement(_eui.EuiCallOut,{key:"alert-item-".concat(index),"data-test-subj":"topAlertItem",className:"kuiVerticalRhythm",iconType:severityIcon.iconType,color:severityIcon.color,title:severityIcon.title},_react.default.createElement(_formatted_alert.FormattedAlert,{prefix:item.prefix,suffix:item.suffix,message:item.message,metadata:item.metadata,changeUrl:changeUrl}),_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement("p",{"data-test-subj":"alertMeta",className:"monCallout--meta"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.alertsPanel.lastCheckedTimeText",defaultMessage:"Last checked {updateDateTime} (triggered {duration} ago)",values:{updateDateTime:(0,_formatting.formatDateTimeLocal)(item.update_timestamp),duration:(0,_format_timestamp_to_duration.formatTimestampToDuration)(item.timestamp,_constants.CALCULATE_DURATION_SINCE)}}))))}var topAlertItems=alerts.map(function(item,index){return _react.default.createElement(TopAlertItem,{item:item,key:"top-alert-item-".concat(index),index:index})});return _react.default.createElement("div",{"data-test-subj":"clusterAlertsContainer"},_react.default.createElement(_eui.EuiFlexGroup,{justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h4",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.alertsPanel.topClusterTitle",defaultMessage:"Top cluster alerts"})))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButton,{size:"s",onClick:goToAlerts,"data-test-subj":"viewAllAlerts"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.alertsPanel.viewAllButtonLabel",defaultMessage:"View all alerts"})))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),topAlertItems,_react.default.createElement(_eui.EuiSpacer,{size:"xxl"}))}var AlertsPanel=(0,_react2.injectI18n)(AlertsPanelUi);exports.AlertsPanel=AlertsPanel},2597:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BeatsPanel=void 0;var _lodash=__webpack_require__(3);var _react=_interopRequireDefault(__webpack_require__(0));var _format_number=__webpack_require__(45);var _eui=__webpack_require__(1);var _helpers=__webpack_require__(571);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function BeatsPanelUi(props){if(!(0,_lodash.get)(props,"beats.total",0)>0){return null}var goToBeats=function goToBeats(){return props.changeUrl("beats")};var goToInstances=function goToInstances(){return props.changeUrl("beats/beats")};var beatTypes=props.beats.types.map(function(beat,index){return[_react.default.createElement(_eui.EuiDescriptionListTitle,{key:"beat-types-type-".concat(index),"data-test-subj":"beatTypeCount","data-test-beat-type-count":beat.type+":"+beat.count},beat.type),_react.default.createElement(_eui.EuiDescriptionListDescription,{key:"beat-types-count-".concat(index)},beat.count)]});return _react.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{url:"beats",title:props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.beatsPanel.beatsTitle",defaultMessage:"Beats"})}),_react.default.createElement(_eui.EuiFlexGrid,{columns:4},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToBeats,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.beatsPanel.overviewLinkAriaLabel",defaultMessage:"Beats Overview"}),"data-test-subj":"beatsOverview"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.totalEventsLabel",defaultMessage:"Total Events"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"beatsTotalEvents"},(0,_format_number.formatMetric)(props.totalEvents,"0.[0]a")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.bytesSentLabel",defaultMessage:"Bytes Sent"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"beatsBytesSent"},(0,_format_number.formatMetric)(props.bytesSent,"byte"))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToInstances,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.beatsPanel.instancesTotalLinkAriaLabel",defaultMessage:"Beats Instances: {beatsTotal}"},{beatsTotal:props.beats.total}),"data-test-subj":"beatsListing"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.beatsPanel.beatsTotalLinkLabel",defaultMessage:"Beats: {beatsTotal}",values:{beatsTotal:_react.default.createElement("span",{"data-test-subj":"beatsTotal"},props.beats.total)}})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},beatTypes)))))}var BeatsPanel=(0,_react2.injectI18n)(BeatsPanelUi);exports.BeatsPanel=BeatsPanel},2598:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmPanel=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(16));var _lodash=__webpack_require__(3);var _format_number=__webpack_require__(45);var _helpers=__webpack_require__(571);var _react2=__webpack_require__(5);var _eui=__webpack_require__(1);var _common=__webpack_require__(570);var _constants=__webpack_require__(81);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function ApmPanelUi(props){if(!(0,_lodash.get)(props,"apms.total",0)>0){return null}var goToApm=function goToApm(){return props.changeUrl("apm")};var goToInstances=function goToInstances(){return props.changeUrl("apm/instances")};return _react.default.createElement(_helpers.ClusterItemContainer,_extends({},props,{url:"apm",title:props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.apmPanel.apmTitle",defaultMessage:"APM"})}),_react.default.createElement(_eui.EuiFlexGrid,{columns:4},_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToApm,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.apmPanel.overviewLinkAriaLabel",defaultMessage:"APM Overview"}),"data-test-subj":"apmOverview"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.overviewLinkLabel",defaultMessage:"Overview"})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.processedEventsLabel",defaultMessage:"Processed Events"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"apmsTotalEvents"},(0,_format_number.formatMetric)(props.totalEvents,"0.[0]a")),_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.lastEventLabel",defaultMessage:"Last Event"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"apmsBytesSent"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.lastEventDescription",defaultMessage:"{timeOfLastEvent} ago",values:{timeOfLastEvent:(0,_common.formatTimestampToDuration)(+(0,_moment.default)(props.timeOfLastEvent),_constants.CALCULATE_DURATION_SINCE)}}))))),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiPanel,{paddingSize:"m"},_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiLink,{onClick:goToInstances,"aria-label":props.intl.formatMessage({id:"xpack.monitoring.cluster.overview.apmPanel.instancesTotalLinkAriaLabel",defaultMessage:"Apm Instances: {apmsTotal}"},{apmsTotal:props.apms.total}),"data-test-subj":"apmListing"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.serversTotalLinkLabel",defaultMessage:"APM Servers: {apmsTotal}",values:{apmsTotal:_react.default.createElement("span",{"data-test-subj":"apmsTotal"},props.apms.total)}})))),_react.default.createElement(_eui.EuiHorizontalRule,{margin:"m"}),_react.default.createElement(_eui.EuiDescriptionList,{type:"column"},_react.default.createElement(_eui.EuiDescriptionListTitle,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.apmPanel.memoryUsageLabel",defaultMessage:"Memory Usage"})),_react.default.createElement(_eui.EuiDescriptionListDescription,{"data-test-subj":"apmMemoryUsage"},_react.default.createElement(_helpers.BytesPercentageUsage,{usedBytes:props.memRss,maxBytes:props.memTotal})))))))}var ApmPanel=(0,_react2.injectI18n)(ApmPanelUi);exports.ApmPanel=ApmPanel},2599:function(module,exports,__webpack_require__){"use strict";var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2600));var _controller=__webpack_require__(2601);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_routes.default.when("/elasticsearch",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controllerAs:"elasticsearchOverview",controller:_controller.ElasticsearchOverviewController})},2600:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="overview"\n  is-ccr-enabled="{{ elasticsearchOverview.isCcrEnabled }}"\n  data-test-subj="elasticsearchOverviewPage"\n>\n  <div id="elasticsearchOverviewReact"></div>\n</monitoring-main>\n'},2601:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchOverviewController=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _=__webpack_require__(243);var _components=__webpack_require__(494);var _i18n=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ElasticsearchOverviewController=function(_MonitoringViewBaseCo){_inherits(ElasticsearchOverviewController,_MonitoringViewBaseCo);function ElasticsearchOverviewController($injector,$scope){var _this;_classCallCheck(this,ElasticsearchOverviewController);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(ElasticsearchOverviewController).call(this,{title:"Elasticsearch",api:"../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch"),defaultData:{clusterStatus:{status:""},metrics:null,shardActivity:null},reactNodeId:"elasticsearchOverviewReact",$scope:$scope,$injector:$injector}));_this.isCcrEnabled=$scope.cluster.isCcrEnabled;_this.showShardActivityHistory=false;_this.toggleShardActivityHistory=function(){_this.showShardActivityHistory=!_this.showShardActivityHistory;$scope.$evalAsync(function(){_this.renderReact(_this.data,$scope.cluster)})};_this.initScope($scope);return _this}_createClass(ElasticsearchOverviewController,[{key:"initScope",value:function initScope($scope){var _this2=this;$scope.$watch(function(){return _this2.data},function(data){_this2.renderReact(data,$scope.cluster)});$scope.$watch(function(){return _this2.showShardActivityHistory},function(){var data=_this2.data;var dataWithShardActivityLoading=_objectSpread({},data,{shardActivity:null});_this2.renderReact(dataWithShardActivityLoading,$scope.cluster);_this2.renderReact(data,$scope.cluster)})}},{key:"filterShardActivityData",value:function filterShardActivityData(shardActivity){var _this3=this;return shardActivity.filter(function(row){return _this3.showShardActivityHistory||row.stage!=="DONE"})}},{key:"renderReact",value:function renderReact(data,cluster){var clusterStatus=data.clusterStatus,metrics=data.metrics,shardActivity=data.shardActivity,logs=data.logs;var shardActivityData=shardActivity&&this.filterShardActivityData(shardActivity);var component=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_components.ElasticsearchOverview,{clusterStatus:clusterStatus,metrics:metrics,logs:logs,cluster:cluster,shardActivity:shardActivityData,onBrush:this.onBrush,showShardActivityHistory:this.showShardActivityHistory,toggleShardActivityHistory:this.toggleShardActivityHistory,zoomInfo:this.zoomInfo}));_get(_getPrototypeOf(ElasticsearchOverviewController.prototype),"renderReact",this).call(this,component)}}]);return ElasticsearchOverviewController}(_.MonitoringViewBaseController);exports.ElasticsearchOverviewController=ElasticsearchOverviewController},2602:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _=__webpack_require__(243);var _components=__webpack_require__(494);var _index=_interopRequireDefault(__webpack_require__(2603));var _i18n2=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}_routes.default.when("/elasticsearch/indices",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controllerAs:"elasticsearchIndices",controller:function(_MonitoringViewBaseEu){_inherits(ElasticsearchIndicesController,_MonitoringViewBaseEu);function ElasticsearchIndicesController($injector,$scope){var _getPrototypeOf$call;var _this;_classCallCheck(this,ElasticsearchIndicesController);var $route=$injector.get("$route");var globalState=$injector.get("globalState");var features=$injector.get("features");var clusterUuid=globalState.cluster_uuid;$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:clusterUuid});var showSystemIndices=features.isEnabled("showSystemIndices",false);_this=_possibleConstructorReturn(this,_getPrototypeOf(ElasticsearchIndicesController).call(this,(_getPrototypeOf$call={title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.routeTitle",{defaultMessage:"Elasticsearch - Indices"}),storageKey:"elasticsearch.indices",apiUrlFn:function apiUrlFn(){return"../api/monitoring/v1/clusters/".concat(clusterUuid,"/elasticsearch/indices?show_system_indices=").concat(showSystemIndices)},reactNodeId:"elasticsearchIndicesReact",defaultData:{},$scope:$scope,$injector:$injector},_defineProperty(_getPrototypeOf$call,"$scope",$scope),_defineProperty(_getPrototypeOf$call,"$injector",$injector),_getPrototypeOf$call)));_this.isCcrEnabled=$scope.cluster.isCcrEnabled;var toggleShowSystemIndices=function toggleShowSystemIndices(isChecked){showSystemIndices=isChecked;features.update("showSystemIndices",isChecked);_this.updateData()};$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data)});_this.renderReact=function(_ref){var clusterStatus=_ref.clusterStatus,indices=_ref.indices;_get(_getPrototypeOf(ElasticsearchIndicesController.prototype),"renderReact",_assertThisInitialized(_this)).call(_assertThisInitialized(_this),_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_components.ElasticsearchIndices,{clusterStatus:clusterStatus,indices:indices,showSystemIndices:showSystemIndices,toggleShowSystemIndices:toggleShowSystemIndices,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange})))};return _this}return ElasticsearchIndicesController}(_.MonitoringViewBaseEuiTableController)})},2603:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="indices"\n  is-ccr-enabled="{{ elasticsearchIndices.isCcrEnabled }}"\n  data-test-subj="elasticsearchIndicesListingPage"\n>\n  <div id="elasticsearchIndicesReact"></div>\n</monitoring-main>\n'},2604:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _ajax_error_handler=__webpack_require__(68);var _index=_interopRequireDefault(__webpack_require__(2605));var _timefilter=__webpack_require__(22);var _i18n2=__webpack_require__(15);var _labels=__webpack_require__(1330);var _indices_by_nodes=__webpack_require__(2606);var _index2=__webpack_require__(2607);var _base_controller=__webpack_require__(257);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/indices/").concat($route.current.params.index);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes.default.when("/elasticsearch/indices/:index",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controllerAs:"monitoringElasticsearchIndexApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var indexName=$route.current.params.index;_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.overview.routeTitle",{defaultMessage:"Elasticsearch - Indices - {indexName} - Overview",values:{indexName:indexName}}),defaultData:{},getPageData:getPageData,reactNodeId:"monitoringElasticsearchIndexApp",$scope:$scope,$injector:$injector}));_this.indexName=indexName;var transformer=(0,_indices_by_nodes.indicesByNodes)();$scope.$watch(function(){return _this.data},function(data){if(!data||!data.shards){return}var shards=data.shards;$scope.totalCount=shards.length;$scope.showing=transformer(shards,data.nodes);$scope.labels=_labels.labels.node;if(shards.some(function(shard){return shard.state==="UNASSIGNED"})){$scope.labels=_labels.labels.indexWithUnassigned}else{$scope.labels=_labels.labels.index}_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_index2.Index,_extends({scope:$scope,kbnUrl:kbnUrl,onBrush:_this.onBrush,indexUuid:_this.indexName,clusterUuid:$scope.cluster.cluster_uuid,zoomInfo:_this.zoomInfo},data))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2605:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="indices"\n  instance="{{ monitoringElasticsearchIndexApp.indexName }}"\n  resolver="{{ monitoringElasticsearchIndexApp.indexName }}"\n  page="overview"\n>\n  <div id="monitoringElasticsearchIndexApp"></div>\n</monitoring-main>\n'},2606:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.indicesByNodes=indicesByNodes;var _lodash=_interopRequireDefault(__webpack_require__(3));var _decorate_shards=__webpack_require__(1331);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function indicesByNodes(){return function indicesByNodesFn(shards,nodes){function createIndex(obj,shard){var id=shard.index;if(obj[id]){return obj}obj[id]={id:id,name:id,children:[],unassigned:[],unassignedPrimaries:false,type:"index"};return obj}function createNodeAddShard(obj,shard){var node=shard.node,index=shard.index;if(!shard.node||shard.node===null){obj[index].unassigned.push(shard);if(shard.primary){obj[index].unassignedPrimaries=true}return obj}var nodeObj=_lodash.default.find(obj[index].children,{id:node});if(!nodeObj){nodeObj={id:node,type:"node",name:nodes[node].name,node_type:nodes[node].type,ip_port:nodes[node].transport_address,children:[]};obj[index].children.push(nodeObj)}nodeObj.children.push(shard);return obj}var data=_lodash.default.reduce((0,_decorate_shards.decorateShards)(shards,nodes),function(obj,shard){obj=createIndex(obj,shard);obj=createNodeAddShard(obj,shard);return obj},{});return(0,_lodash.default)(data).values().sortBy(function(index){return[!index.unassignedPrimaries,/^\./.test(index.name),index.name]}).value()}}},2607:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Index=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _index_detail_status=__webpack_require__(869);var _chart=__webpack_require__(256);var _shard_allocation=__webpack_require__(1332);var _logs=__webpack_require__(1335);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var Index=function Index(_ref){var scope=_ref.scope,indexSummary=_ref.indexSummary,metrics=_ref.metrics,clusterUuid=_ref.clusterUuid,indexUuid=_ref.indexUuid,logs=_ref.logs,kbnUrl=_ref.kbnUrl,props=_objectWithoutProperties(_ref,["scope","indexSummary","metrics","clusterUuid","indexUuid","logs","kbnUrl"]);var metricsToShow=[metrics.index_mem,metrics.index_size,metrics.index_search_request_rate,metrics.index_request_rate,metrics.index_segment_count,metrics.index_document_count];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_index_detail_status.IndexDetailStatus,{stats:indexSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map(function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_logs.Logs,{logs:logs,indexUuid:indexUuid,clusterUuid:clusterUuid})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_shard_allocation.ShardAllocation,{scope:scope,kbnUrl:kbnUrl,type:"index"}))))};exports.Index=Index},2608:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterView=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _table_head=__webpack_require__(2609);var _table_body=__webpack_require__(2610);var _i18n=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ClusterView=function(_React$Component){_inherits(ClusterView,_React$Component);function ClusterView(props){var _this;_classCallCheck(this,ClusterView);_this=_possibleConstructorReturn(this,_getPrototypeOf(ClusterView).call(this,props));_defineProperty(_assertThisInitialized(_this),"setShowing",function(data){if(data){_this.setState({showing:data})}});_defineProperty(_assertThisInitialized(_this),"setShardStats",function(stats){_this.setState({shardStats:stats})});_defineProperty(_assertThisInitialized(_this),"hasUnassigned",function(){return _this.state.showing.length&&_this.state.showing[0].unassigned&&_this.state.showing[0].unassigned.length});var scope=props.scope;var kbnChangePath=props.kbnUrl.changePath;_this.state={labels:props.scope.labels||[],showing:props.scope.showing||[],shardStats:props.scope.pageData.shardStats,showSystemIndices:props.showSystemIndices,toggleShowSystemIndices:props.toggleShowSystemIndices,angularChangeUrl:function angularChangeUrl(url){scope.$evalAsync(function(){return kbnChangePath(url)})}};return _this}_createClass(ClusterView,[{key:"componentWillMount",value:function componentWillMount(){var _this2=this;this.props.scope.$watch("showing",this.setShowing);this.props.scope.$watch(function(){return _this2.props.scope.pageData.shardStats},this.setShardStats)}},{key:"render",value:function render(){return _react.default.createElement("table",{cellPadding:"0",cellSpacing:"0",className:"table"},_react.default.createElement(_table_head.TableHead,{hasUnassigned:this.hasUnassigned(),scope:this.props.scope,toggleShowSystemIndices:this.state.toggleShowSystemIndices}),_react.default.createElement(_table_body.TableBody,{filter:this.props.scope.filter,totalCount:this.props.scope.totalCount,rows:this.state.showing,cols:this.state.labels.length,shardStats:this.state.shardStats,changeUrl:this.state.angularChangeUrl}))}}]);return ClusterView}(_react.default.Component);exports.ClusterView=ClusterView;_defineProperty(ClusterView,"displayName",_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.clusterViewDisplayName",{defaultMessage:"ClusterView"}))},2609:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TableHead=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var IndexLabel=function(_React$Component){_inherits(IndexLabel,_React$Component);function IndexLabel(props){var _this;_classCallCheck(this,IndexLabel);_this=_possibleConstructorReturn(this,_getPrototypeOf(IndexLabel).call(this,props));_this.state={showSystemIndices:props.scope.showSystemIndices};_this.toggleShowSystemIndicesState=_this.toggleShowSystemIndicesState.bind(_assertThisInitialized(_this));return _this}_createClass(IndexLabel,[{key:"toggleShowSystemIndicesState",value:function toggleShowSystemIndicesState(e){var _this2=this;var isChecked=e.target.checked;this.setState({showSystemIndices:isChecked});this.props.scope.$evalAsync(function(){_this2.props.toggleShowSystemIndices(isChecked)})}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardAllocation.tableHead.indicesLabel",defaultMessage:"Indices"})),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiSwitch,{label:"System indices",onChange:this.toggleShowSystemIndicesState,checked:this.state.showSystemIndices,"data-test-subj":"shardShowSystemIndices"})))}}]);return IndexLabel}(_react.default.Component);var TableHead=function(_React$Component2){_inherits(TableHead,_React$Component2);function TableHead(props){_classCallCheck(this,TableHead);return _possibleConstructorReturn(this,_getPrototypeOf(TableHead).call(this,props))}_createClass(TableHead,[{key:"createColumn",value:function createColumn(_ref){var key=_ref.key,content=_ref.content;return _react.default.createElement("th",{scope:"col",key:key,colSpan:1},content)}},{key:"render",value:function render(){var _this3=this;var propLabels=this.props.scope.labels||[];var labelColumns=propLabels.map(function(label){var column={key:label.content.toLowerCase()};if(label.showToggleSystemIndicesComponent){column.content=_react.default.createElement(IndexLabel,{scope:_this3.props.scope,toggleShowSystemIndices:_this3.props.toggleShowSystemIndices})}else{column.content=label.content}return column}).map(this.createColumn);return _react.default.createElement("thead",null,_react.default.createElement("tr",null,labelColumns))}}]);return TableHead}(_react.default.Component);exports.TableHead=TableHead},2610:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.TableBody=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _unassigned=__webpack_require__(2611);var _assigned=__webpack_require__(2613);var _react2=__webpack_require__(5);var _i18n=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var ShardRow=function ShardRow(props){var unassigned;if(props.data.unassigned&&props.data.unassigned.length){unassigned=_react.default.createElement(_unassigned.Unassigned,{shards:props.data.unassigned})}else{if(props.cols===3){unassigned=_react.default.createElement("td",null)}}return _react.default.createElement("tr",null,unassigned,_react.default.createElement(_assigned.Assigned,{shardStats:props.shardStats,data:props.data.children,changeUrl:props.changeUrl}))};var TableBody=function(_React$Component){_inherits(TableBody,_React$Component);function TableBody(){var _getPrototypeOf2;var _this;_classCallCheck(this,TableBody);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(TableBody)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"createRow",function(data,index){return _react.default.createElement(ShardRow,_extends({key:"shardRow-".concat(index),data:data},_this.props,{changeUrl:_this.props.changeUrl}))});return _this}_createClass(TableBody,[{key:"render",value:function render(){if(this.props.totalCount===0){return _react.default.createElement("tbody",null,_react.default.createElement("tr",null,_react.default.createElement("td",{colSpan:this.props.cols},_react.default.createElement("div",null,_react.default.createElement("p",{style:{margin:"10px 0"},className:"text-center lead"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.shardAllocation.tableBody.noShardsAllocatedDescription",defaultMessage:"There are no shards allocated."}))))))}if(this.props.shardStats){if(this.props.rows.length){return _react.default.createElement("tbody",null,this.props.rows.map(this.createRow))}}return _react.default.createElement("tbody",null,_react.default.createElement("tr",null,_react.default.createElement("td",{colSpan:this.props.cols})))}}]);return TableBody}(_react.default.Component);exports.TableBody=TableBody;_defineProperty(TableBody,"displayName",_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.tableBodyDisplayName",{defaultMessage:"TableBody"}))},2611:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Unassigned=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));var _react=_interopRequireDefault(__webpack_require__(0));var _shard=__webpack_require__(1333);var _i18n=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var Unassigned=function(_React$Component){_inherits(Unassigned,_React$Component);function Unassigned(){var _getPrototypeOf2;var _this;_classCallCheck(this,Unassigned);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Unassigned)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"createShard",function(shard){var type=shard.primary?"primary":"replica";var additionId=shard.state==="UNASSIGNED"?Math.random():"";var key=shard.index+"."+shard.node+"."+type+"."+shard.state+"."+shard.shard+additionId;return _react.default.createElement(_shard.Shard,{shard:shard,key:key})});return _this}_createClass(Unassigned,[{key:"render",value:function render(){var shards=_lodash.default.sortBy(this.props.shards,"shard").map(this.createShard);return _react.default.createElement("td",{className:"unassigned","data-test-subj":"clusterView-Unassigned"},_react.default.createElement("div",{className:"children"},shards))}}]);return Unassigned}(_react.default.Component);exports.Unassigned=Unassigned;_defineProperty(Unassigned,"displayName",_i18n.i18n.translate("xpack.monitoring.elasticsearch.shardAllocation.unassignedDisplayName",{defaultMessage:"Unassigned"}))},2612:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.vents=exports._vents=void 0;var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _vents={};exports._vents=_vents;var vents={vents:_vents,on:function on(id,cb){if(!_lodash.default.isArray(_vents[id])){_vents[id]=[]}_vents[id].push(cb)},clear:function clear(id){delete _vents[id]},trigger:function trigger(){var args=Array.prototype.slice.call(arguments);var id=args.shift();if(_vents[id]){_lodash.default.each(_vents[id],function(cb){cb.apply(null,args)})}}};exports.vents=vents},2613:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Assigned=void 0;var _lodash=__webpack_require__(3);var _react=_interopRequireDefault(__webpack_require__(0));var _shard=__webpack_require__(1333);var _calculate_class=__webpack_require__(1334);var _generate_query_and_link=__webpack_require__(2614);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function sortByName(item){if(item.type==="node"){return[!item.master,item.name]}return[item.name]}var Assigned=function(_React$Component){_inherits(Assigned,_React$Component);function Assigned(){var _getPrototypeOf2;var _this;_classCallCheck(this,Assigned);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Assigned)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),"createShard",function(shard){var type=shard.primary?"primary":"replica";var key="".concat(shard.index,".").concat(shard.node,".").concat(type,".").concat(shard.state,".").concat(shard.shard);return _react.default.createElement(_shard.Shard,{shard:shard,key:key})});_defineProperty(_assertThisInitialized(_this),"createChild",function(data){var key=data.id;var initialClasses=["child"];var shardStats=(0,_lodash.get)(_this.props.shardStats.indices,key);if(shardStats){initialClasses.push(shardStats.status)}var changeUrl=function changeUrl(){_this.props.changeUrl((0,_generate_query_and_link.generateQueryAndLink)(data))};var name=_react.default.createElement(_eui.EuiKeyboardAccessible,null,_react.default.createElement("a",{onClick:changeUrl},_react.default.createElement("span",null,data.name)));var master=data.node_type==="master"?_react.default.createElement("span",{className:"fa fa-star"}):null;var shards=(0,_lodash.sortBy)(data.children,"shard").map(_this.createShard);return _react.default.createElement("div",{className:(0,_calculate_class.calculateClass)(data,initialClasses.join(" ")),key:key,"data-test-subj":"clusterView-Assigned-".concat(key),"data-status":shardStats&&shardStats.status},_react.default.createElement("div",{className:"title"},name,master),shards)});return _this}_createClass(Assigned,[{key:"render",value:function render(){var data=(0,_lodash.sortBy)(this.props.data,sortByName).map(this.createChild);return _react.default.createElement("td",null,_react.default.createElement("div",{className:"children"},data))}}]);return Assigned}(_react.default.Component);exports.Assigned=Assigned},2614:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.generateQueryAndLink=generateQueryAndLink;function generateQueryAndLink(data){var type="indices";var ident=data.name;if(data.type==="node"){type="nodes";ident=data.id}return"/elasticsearch/"+type+"/"+ident}},2615:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _ajax_error_handler=__webpack_require__(68);var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2616));var _timefilter=__webpack_require__(22);var _advanced=__webpack_require__(2617);var _i18n2=__webpack_require__(15);var _base_controller=__webpack_require__(257);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/indices/").concat($route.current.params.index);var $http=$injector.get("$http");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes.default.when("/elasticsearch/indices/:index/advanced",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controllerAs:"monitoringElasticsearchAdvancedIndexApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var indexName=$route.current.params.index;_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.indices.advanced.routeTitle",{defaultMessage:"Elasticsearch - Indices - {indexName} - Advanced",values:{indexName:indexName}}),defaultData:{},getPageData:getPageData,reactNodeId:"monitoringElasticsearchAdvancedIndexApp",$scope:$scope,$injector:$injector}));_this.indexName=indexName;$scope.$watch(function(){return _this.data},function(data){_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_advanced.AdvancedIndex,{indexSummary:data.indexSummary,metrics:data.metrics,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo})))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2616:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch" name="indices"\n  instance="{{ monitoringElasticsearchAdvancedIndexApp.indexName }}"\n  resolver="{{ monitoringElasticsearchAdvancedIndexApp.indexName }}"\n  page="advanced"\n>\n  <div id="monitoringElasticsearchAdvancedIndexApp"></div>\n</monitoring-main>\n'},2617:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedIndex=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _index_detail_status=__webpack_require__(869);var _chart=__webpack_require__(256);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var AdvancedIndex=function AdvancedIndex(_ref){var indexSummary=_ref.indexSummary,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["indexSummary","metrics"]);var metricsToShow=[metrics.index_1,metrics.index_2,metrics.index_3,metrics.index_4,metrics.index_total,metrics.index_time,metrics.index_refresh,metrics.index_throttling,metrics.index_disk,metrics.index_segment_count,metrics.index_latency];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_index_detail_status.IndexDetailStatus,{stats:indexSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map(function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))})))))};exports.AdvancedIndex=AdvancedIndex},2618:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(19));var _index=_interopRequireDefault(__webpack_require__(2619));var _route_init=__webpack_require__(49);var _=__webpack_require__(243);var _components=__webpack_require__(494);var _i18n2=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}_routes.default.when("/elasticsearch/nodes",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controllerAs:"elasticsearchNodes",controller:function(_MonitoringViewBaseEu){_inherits(ElasticsearchNodesController,_MonitoringViewBaseEu);function ElasticsearchNodesController($injector,$scope){var _this;_classCallCheck(this,ElasticsearchNodesController);var $route=$injector.get("$route");var globalState=$injector.get("globalState");var showCgroupMetricsElasticsearch=$injector.get("showCgroupMetricsElasticsearch");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(ElasticsearchNodesController).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.nodes.routeTitle",{defaultMessage:"Elasticsearch - Nodes"}),storageKey:"elasticsearch.nodes",api:"../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/nodes"),reactNodeId:"elasticsearchNodesReact",defaultData:{},$scope:$scope,$injector:$injector}));_this.isCcrEnabled=$scope.cluster.isCcrEnabled;$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data)});_this.renderReact=function(_ref){var clusterStatus=_ref.clusterStatus,nodes=_ref.nodes;_get(_getPrototypeOf(ElasticsearchNodesController.prototype),"renderReact",_assertThisInitialized(_this)).call(_assertThisInitialized(_this),_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_components.ElasticsearchNodes,{clusterStatus:clusterStatus,nodes:nodes,showCgroupMetricsElasticsearch:showCgroupMetricsElasticsearch,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange})))};return _this}return ElasticsearchNodesController}(_.MonitoringViewBaseEuiTableController)})},2619:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  is-ccr-enabled="{{ elasticsearchNodes.isCcrEnabled }}"\n  data-test-subj="elasticsearchNodesListingPage"\n>\n  <div id="elasticsearchNodesReact"></div>\n</monitoring-main>\n'},2620:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _get_page_data=__webpack_require__(2621);var _index=_interopRequireDefault(__webpack_require__(2622));var _node=__webpack_require__(2623);var _i18n2=__webpack_require__(15);var _labels=__webpack_require__(1330);var _nodes_by_indices=__webpack_require__(2624);var _base_controller=__webpack_require__(257);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/elasticsearch/nodes/:node",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"monitoringElasticsearchNodeApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var nodeName=$route.current.params.node;_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.node.overview.routeTitle",{defaultMessage:"Elasticsearch - Nodes - {nodeName} - Overview",values:{nodeName:nodeName}}),defaultData:{},getPageData:_get_page_data.getPageData,reactNodeId:"monitoringElasticsearchNodeApp",$scope:$scope,$injector:$injector}));_this.nodeName=nodeName;var features=$injector.get("features");var callPageData=(0,_lodash.partial)(_get_page_data.getPageData,$injector);$scope.showSystemIndices=features.isEnabled("showSystemIndices",false);$scope.toggleShowSystemIndices=function(isChecked){$scope.showSystemIndices=isChecked;features.update("showSystemIndices",isChecked);callPageData().then(function(data){return _this.data=data})};var transformer=(0,_nodes_by_indices.nodesByIndices)();$scope.$watch(function(){return _this.data},function(data){if(!data||!data.shards){return}var shards=data.shards;$scope.totalCount=shards.length;$scope.showing=transformer(shards,data.nodes);$scope.labels=_labels.labels.node;_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_node.Node,_extends({scope:$scope,kbnUrl:kbnUrl,nodeId:_this.nodeName,clusterUuid:$scope.cluster.cluster_uuid,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo},data))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2621:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(68);var _timefilter=__webpack_require__(22);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/nodes/").concat($route.current.params.node);var features=$injector.get("features");var showSystemIndices=features.isEnabled("showSystemIndices",false);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{showSystemIndices:showSystemIndices,ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2622:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  instance="{{ monitoringElasticsearchNodeApp.data.nodeSummary.name }}"\n  resolver="{{ monitoringElasticsearchNodeApp.data.nodeSummary.resolver }}"\n  page="overview"\n  tab-icon-class="{{ monitoringElasticsearchNodeApp.data.nodeSummary.nodeTypeClass }}"\n  tab-icon-class="{{ monitoringElasticsearchNodeApp.data.nodeSummary.nodeTypeLabel }}"\n>\n  <div id="monitoringElasticsearchNodeApp"></div>\n</monitoring-main>\n'},2623:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Node=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _node_detail_status=__webpack_require__(870);var _logs=__webpack_require__(1335);var _chart=__webpack_require__(256);var _shard_allocation=__webpack_require__(1332);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var Node=function Node(_ref){var nodeSummary=_ref.nodeSummary,metrics=_ref.metrics,logs=_ref.logs,nodeId=_ref.nodeId,clusterUuid=_ref.clusterUuid,scope=_ref.scope,kbnUrl=_ref.kbnUrl,props=_objectWithoutProperties(_ref,["nodeSummary","metrics","logs","nodeId","clusterUuid","scope","kbnUrl"]);var metricsToShow=[metrics.node_jvm_mem,metrics.node_mem,metrics.node_cpu_metric,metrics.node_load_average,metrics.node_latency,metrics.node_segment_count];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_node_detail_status.NodeDetailStatus,{stats:nodeSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map(function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))}))),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_logs.Logs,{logs:logs,nodeId:nodeId,clusterUuid:clusterUuid})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_shard_allocation.ShardAllocation,{scope:scope,kbnUrl:kbnUrl}))))};exports.Node=Node},2624:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.nodesByIndices=nodesByIndices;var _lodash=_interopRequireDefault(__webpack_require__(3));var _has_primary_children=__webpack_require__(2625);var _decorate_shards=__webpack_require__(1331);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function nodesByIndices(){return function nodesByIndicesFn(shards,nodes){var getNodeType=function getNodeType(node){var attrs=node.attributes||{};return attrs.master==="true"?"master":"normal"};function createNode(obj,node,id){node.type="node";node.children=[];var nodeType=getNodeType(node);if(nodeType==="normal"||nodeType==="data"){obj[id]=node}return obj}function createIndexAddShard(obj,shard){var node=shard.node||"unassigned";var index=shard.index;if(!obj[node]){createNode(obj,nodes[node],node)}var indexObj=_lodash.default.find(obj[node].children,{id:index});if(!indexObj){indexObj={id:index,name:index,type:"index",children:[]};obj[node].children.push(indexObj)}indexObj.children.push(shard);return obj}function isUnassigned(shard){return shard.state==="UNASSIGNED"}var data={};if(_lodash.default.some(shards,isUnassigned)){data.unassigned={name:"Unassigned",master:false,type:"node",children:[]}}data=_lodash.default.reduce((0,_decorate_shards.decorateShards)(shards,nodes),createIndexAddShard,data);return(0,_lodash.default)(data).values().sortBy(function(node){return[node.name!=="Unassigned",!node.master,node.name]}).map(function(node){if(node.name==="Unassigned"){node.unassignedPrimaries=node.children.some(_has_primary_children.hasPrimaryChildren)}return node}).value()}}},2625:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.hasPrimaryChildren=hasPrimaryChildren;var _lodash=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function hasPrimaryChildren(item){return _lodash.default.some(item.children,{primary:true})}},2626:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _ajax_error_handler=__webpack_require__(68);var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2627));var _timefilter=__webpack_require__(22);var _i18n2=__webpack_require__(15);var _advanced=__webpack_require__(2628);var _base_controller=__webpack_require__(257);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/nodes/").concat($route.current.params.node);return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes.default.when("/elasticsearch/nodes/:node/advanced",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringElasticsearchAdvancedNodeApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.nodeSummary){return}_this.setTitle(_i18n.i18n.translate("xpack.monitoring.elasticsearch.node.advanced.routeTitle",{defaultMessage:"Elasticsearch - Nodes - {nodeSummaryName} - Advanced",values:{nodeSummaryName:data.nodeSummary.name}}));_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_advanced.AdvancedNode,{nodeSummary:data.nodeSummary,metrics:data.metrics,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo})))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2627:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.resolver }}"\n  page="advanced"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeClass }}"\n  tab-icon-class="{{ pageData.nodeSummary.nodeTypeLabel }}"\n>\n  <div id="monitoringElasticsearchAdvancedNodeApp"></div>\n</monitoring-main>\n'},2628:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.AdvancedNode=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _eui=__webpack_require__(1);var _node_detail_status=__webpack_require__(870);var _chart=__webpack_require__(256);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}var AdvancedNode=function AdvancedNode(_ref){var nodeSummary=_ref.nodeSummary,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["nodeSummary","metrics"]);var metricsToShow=[metrics.node_gc,metrics.node_gc_time,metrics.node_jvm_mem,metrics.node_cpu_utilization,metrics.node_index_1,metrics.node_index_2,metrics.node_index_3,metrics.node_index_4,metrics.node_index_time,metrics.node_request_total,metrics.node_index_threads,metrics.node_read_threads,metrics.node_cgroup_cpu,metrics.node_cgroup_stats,metrics.node_latency];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_node_detail_status.NodeDetailStatus,{stats:nodeSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map(function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))})))))};exports.AdvancedNode=AdvancedNode},2629:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _get_page_data=__webpack_require__(2630);var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2631));var _ccr=__webpack_require__(2632);var _base_controller=__webpack_require__(257);var _i18n2=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}_routes.default.when("/elasticsearch/ccr",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"elasticsearchCcr",controller:function(_MonitoringViewBaseCo){_inherits(ElasticsearchCcrController,_MonitoringViewBaseCo);function ElasticsearchCcrController($injector,$scope){var _this;_classCallCheck(this,ElasticsearchCcrController);_this=_possibleConstructorReturn(this,_getPrototypeOf(ElasticsearchCcrController).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.routeTitle",{defaultMessage:"Elasticsearch - Ccr"}),reactNodeId:"elasticsearchCcrReact",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data)});_this.renderReact=function(_ref){var data=_ref.data;_get(_getPrototypeOf(ElasticsearchCcrController.prototype),"renderReact",_assertThisInitialized(_this)).call(_assertThisInitialized(_this),_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_ccr.Ccr,{data:data})))};return _this}return ElasticsearchCcrController}(_base_controller.MonitoringViewBaseController)})},2630:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(68);var _timefilter=__webpack_require__(22);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/ccr");return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2631:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="ccr"\n  data-test-subj="elasticsearchCcrListingPage"\n>\n  <div id="elasticsearchCcrReact"></div>\n</monitoring-main>\n'},2632:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Ccr",{enumerable:true,get:function get(){return _ccr.Ccr}});var _ccr=__webpack_require__(2633)},2633:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Ccr=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);__webpack_require__(2634);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function toSeconds(ms){return Math.floor(ms/1e3)+"s"}var CcrUI=function(_Component){_inherits(CcrUI,_Component);function CcrUI(props){var _this;_classCallCheck(this,CcrUI);_this=_possibleConstructorReturn(this,_getPrototypeOf(CcrUI).call(this,props));_this.state={itemIdToExpandedRowMap:{}};return _this}_createClass(CcrUI,[{key:"toggleShards",value:function toggleShards(index,shards){var intl=this.props.intl;var itemIdToExpandedRowMap=_objectSpread({},this.state.itemIdToExpandedRowMap);if(itemIdToExpandedRowMap[index]){delete itemIdToExpandedRowMap[index]}else{var pagination={initialPageSize:5,pageSizeOptions:[5,10,20]};if(shards.length<=pagination.initialPageSize){pagination=false}itemIdToExpandedRowMap[index]=_react.default.createElement(_eui.EuiInMemoryTable,{items:shards,columns:[{field:"shardId",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.shardsTable.shardColumnTitle",defaultMessage:"Shard"}),render:function render(shardId){return _react.default.createElement(_eui.EuiLink,{href:"#/elasticsearch/ccr/".concat(index,"/shard/").concat(shardId)},shardId)}},{render:function render(){return null}},{field:"syncLagOps",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumnTitle",defaultMessage:"Sync Lag (ops)"}),render:function render(syncLagOps,data){return _react.default.createElement("span",null,syncLagOps,"",_react.default.createElement(_eui.EuiIconTip,{size:"m",type:"iInCircle",content:_react.default.createElement(_react.Fragment,null,_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumn.leaderLagTooltip",defaultMessage:"Leader lag: {syncLagOpsLeader}",values:{syncLagOpsLeader:data.syncLagOpsLeader}})),_react.default.createElement("br",null),_react.default.createElement("span",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccr.shardsTable.syncLagOpsColumn.followerLagTooltip",defaultMessage:"Follower lag: {syncLagOpsFollower}",values:{syncLagOpsFollower:data.syncLagOpsFollower}}))),position:"right"}))}},{field:"syncLagTime",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.shardsTable.lastFetchTimeColumnTitle",defaultMessage:"Last fetch time"}),render:function render(syncLagTime){return _react.default.createElement("span",null,toSeconds(syncLagTime))}},{field:"opsSynced",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.shardsTable.opsSyncedColumnTitle",defaultMessage:"Ops synced"})},{field:"error",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.shardsTable.errorColumnTitle",defaultMessage:"Error"}),render:function render(error){return _react.default.createElement(_eui.EuiTextColor,{color:"danger"},error)}}],executeQueryOptions:{defaultFields:["shardId"]},sorting:true,pagination:pagination})}this.setState({itemIdToExpandedRowMap:itemIdToExpandedRowMap})}},{key:"renderTable",value:function renderTable(){var _this2=this;var _this$props=this.props,data=_this$props.data,intl=_this$props.intl;var items=data;var pagination={initialPageSize:5,pageSizeOptions:[5,10,20]};if(items.length<=pagination.initialPageSize){pagination=false}var sorting={sort:{field:"index",direction:"asc"}};return _react.default.createElement(_eui.EuiInMemoryTable,{className:"monitoringElasticsearchCcrListingTable",columns:[{field:"index",name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.indexColumnTitle",defaultMessage:"Index"}),sortable:true,render:function render(index,_ref){var shards=_ref.shards;var expanded=!!_this2.state.itemIdToExpandedRowMap[index];return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){return _this2.toggleShards(index,shards)}},index,"",expanded?_react.default.createElement(_eui.EuiIcon,{type:"arrowUp"}):_react.default.createElement(_eui.EuiIcon,{type:"arrowDown"}))}},{field:"follows",sortable:true,name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.followsColumnTitle",defaultMessage:"Follows"})},{field:"syncLagOps",sortable:true,name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.syncLagOpsColumnTitle",defaultMessage:"Sync Lag (ops)"})},{field:"syncLagTime",sortable:true,name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.lastFetchTimeColumnTitle",defaultMessage:"Last fetch time"}),render:function render(syncLagTime){return _react.default.createElement("span",null,toSeconds(syncLagTime))}},{field:"opsSynced",sortable:true,name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.opsSyncedColumnTitle",defaultMessage:"Ops synced"})},{field:"error",sortable:true,name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccr.ccrListingTable.errorColumnTitle",defaultMessage:"Error"}),render:function render(error){return _react.default.createElement(_eui.EuiTextColor,{color:"danger"},error)}}],items:items,pagination:pagination,executeQueryOptions:{defaultFields:["index","follows"]},sorting:sorting,itemId:"id",itemIdToExpandedRowMap:this.state.itemIdToExpandedRowMap})}},{key:"render",value:function render(){return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiPageContentBody,null,this.renderTable()))))}}]);return CcrUI}(_react.Component);var Ccr=(0,_react2.injectI18n)(CcrUI);exports.Ccr=Ccr},2634:function(module,exports,__webpack_require__){},2635:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(19));var _get_page_data=__webpack_require__(2636);var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2637));var _base_controller=__webpack_require__(257);var _ccr_shard=__webpack_require__(2638);var _i18n2=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}_routes.default.when("/elasticsearch/ccr/:index/shard/:shardId",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"elasticsearchCcr",controller:function(_MonitoringViewBaseCo){_inherits(ElasticsearchCcrController,_MonitoringViewBaseCo);function ElasticsearchCcrController($injector,$scope,pageData){var _this;_classCallCheck(this,ElasticsearchCcrController);_this=_possibleConstructorReturn(this,_getPrototypeOf(ElasticsearchCcrController).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.shard.routeTitle",{defaultMessage:"Elasticsearch - Ccr - Shard"}),reactNodeId:"elasticsearchCcrShardReact",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));$scope.instance=_i18n.i18n.translate("xpack.monitoring.elasticsearch.ccr.shard.instanceTitle",{defaultMessage:"Index: {followerIndex} Shard: {shardId}",values:{followerIndex:(0,_lodash.get)(pageData,"stat.follower_index"),shardId:(0,_lodash.get)(pageData,"stat.shard_id")}});$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data)});_this.renderReact=function(props){_get(_getPrototypeOf(ElasticsearchCcrController.prototype),"renderReact",_assertThisInitialized(_this)).call(_assertThisInitialized(_this),_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_ccr_shard.CcrShard,props)))};return _this}return ElasticsearchCcrController}(_base_controller.MonitoringViewBaseController)})},2636:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(68);var _timefilter=__webpack_require__(22);function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/ccr/").concat($route.current.params.index,"/shard/").concat($route.current.params.shardId);return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2637:function(module,exports){module.exports='<monitoring-main\n  product="elasticsearch"\n  name="ccr_shard"\n  instance="{{ instance }}"\n  data-test-subj="elasticsearchCcrShardPage"\n>\n  <div id="elasticsearchCcrShardReact"></div>\n</monitoring-main>\n'},2638:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"CcrShard",{enumerable:true,get:function get(){return _ccr_shard.CcrShard}});var _ccr_shard=__webpack_require__(2639)},2639:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CcrShard=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _chart=__webpack_require__(256);var _status=__webpack_require__(2640);var _formatting=__webpack_require__(359);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var CcrShardUI=function(_PureComponent){_inherits(CcrShardUI,_PureComponent);function CcrShardUI(){_classCallCheck(this,CcrShardUI);return _possibleConstructorReturn(this,_getPrototypeOf(CcrShardUI).apply(this,arguments))}_createClass(CcrShardUI,[{key:"renderCharts",value:function renderCharts(){var metrics=this.props.metrics;var seriesToShow=[metrics.ccr_sync_lag_ops,metrics.ccr_sync_lag_time];var charts=seriesToShow.map(function(data,index){return _react.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data})))});return _react.default.createElement(_react.Fragment,null,charts)}},{key:"renderErrors",value:function renderErrors(){var _this$props=this.props,stat=_this$props.stat,intl=_this$props.intl;if(stat.read_exceptions&&stat.read_exceptions.length>0){return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_eui.EuiTitle,{size:"s",color:"danger"},_react.default.createElement("h3",null,_react.default.createElement(_eui.EuiTextColor,{color:"danger"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccrShard.errorsTableTitle",defaultMessage:"Errors"})))),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiBasicTable,{items:stat.read_exceptions,columns:[{name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.errorsTable.typeColumnTitle",defaultMessage:"Type"}),field:"exception.type"},{name:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.errorsTable.reasonColumnTitle",defaultMessage:"Reason"}),field:"exception.reason",width:"75%"}]})),_react.default.createElement(_eui.EuiHorizontalRule,null))}return null}},{key:"renderLatestStat",value:function renderLatestStat(){var _this$props2=this.props,stat=_this$props2.stat,timestamp=_this$props2.timestamp;return _react.default.createElement(_eui.EuiAccordion,{id:"ccrLatestStat",buttonContent:_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.ccrShard.latestStateAdvancedButtonLabel",defaultMessage:"Advanced"}))),paddingSize:"l"},_react.default.createElement(_react.Fragment,null,_react.default.createElement(_eui.EuiTitle,{size:"s"},_react.default.createElement("h4",null,(0,_formatting.formatDateTimeLocal)(timestamp))),_react.default.createElement(_eui.EuiHorizontalRule,null),_react.default.createElement(_eui.EuiCodeBlock,{language:"json"},JSON.stringify(stat,null,2))))}},{key:"render",value:function render(){var _this$props3=this.props,stat=_this$props3.stat,oldestStat=_this$props3.oldestStat,formattedLeader=_this$props3.formattedLeader;return _react.default.createElement(_eui.EuiPage,{style:{backgroundColor:"white"}},_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_status.Status,{stat:stat,formattedLeader:formattedLeader,oldestStat:oldestStat}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),this.renderErrors(),_react.default.createElement(_eui.EuiFlexGroup,{wrap:true},this.renderCharts()),_react.default.createElement(_eui.EuiHorizontalRule,null),this.renderLatestStat()))}}]);return CcrShardUI}(_react.PureComponent);var CcrShard=(0,_react2.injectI18n)(CcrShardUI);exports.CcrShard=CcrShard},2640:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Status=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(292);var _format_number=__webpack_require__(45);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StatusUI(_ref){var stat=_ref.stat,formattedLeader=_ref.formattedLeader,oldestStat=_ref.oldestStat,intl=_ref.intl;var followerIndex=stat.follower_index,shardId=stat.shard_id,operationsReceived=stat.operations_written,failedFetches=stat.failed_read_requests;var oldestOperationsReceived=oldestStat.operations_written,oldestFailedFetches=oldestStat.failed_read_requests;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.status.followerIndexLabel",defaultMessage:"Follower Index"}),value:followerIndex,"data-test-subj":"followerIndex"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.status.shardIdLabel",defaultMessage:"Shard Id"}),value:shardId,"data-test-subj":"shardId"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.status.leaderIndexLabel",defaultMessage:"Leader Index"}),value:formattedLeader,"data-test-subj":"leaderIndex"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.status.opsSyncedLabel",defaultMessage:"Ops Synced"}),value:(0,_format_number.formatMetric)(operationsReceived-oldestOperationsReceived,"int_commas"),"data-test-subj":"operationsReceived"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.ccrShard.status.failedFetchesLabel",defaultMessage:"Failed Fetches"}),value:(0,_format_number.formatMetric)(failedFetches-oldestFailedFetches,"int_commas"),"data-test-subj":"failedFetches"}];return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"ccrDetailStatus"})}var Status=(0,_react2.injectI18n)(StatusUI);exports.Status=Status},2641:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _=__webpack_require__(243);var _get_page_data=__webpack_require__(2642);var _index=_interopRequireDefault(__webpack_require__(2643));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/elasticsearch/ml_jobs",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"mlJobs",controller:function(_MonitoringViewBaseEu){_inherits(MlJobsList,_MonitoringViewBaseEu);function MlJobsList($injector,$scope){var _this;_classCallCheck(this,MlJobsList);_this=_possibleConstructorReturn(this,_getPrototypeOf(MlJobsList).call(this,{title:_i18n.i18n.translate("xpack.monitoring.elasticsearch.mlJobs.routeTitle",{defaultMessage:"Elasticsearch - Machine Learning Jobs"}),storageKey:"elasticsearch.mlJobs",getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));var $route=$injector.get("$route");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});return _this}return MlJobsList}(_.MonitoringViewBaseEuiTableController)})},2642:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(68);var _timefilter=__webpack_require__(22);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/elasticsearch/ml_jobs");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2643:function(module,exports){module.exports='<monitoring-main product="elasticsearch" name="ml">\n  <monitoring-ml-listing\n    paginationSettings="mlJobs.pagination"\n    sorting="mlJobs.sorting"\n    on-table-change="mlJobs.onTableChange"\n    jobs="mlJobs.data.rows"\n    status="mlJobs.data.clusterStatus"\n  ></monitoring-ml-listing>\n</monitoring-main>\n'},2644:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _routes=_interopRequireDefault(__webpack_require__(19));var _chart=__webpack_require__(256);var _ajax_error_handler=__webpack_require__(68);var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2645));var _timefilter=__webpack_require__(22);var _eui=__webpack_require__(1);var _cluster_status=__webpack_require__(871);var _i18n=__webpack_require__(15);var _base_controller=__webpack_require__(257);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/kibana");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes.default.when("/kibana",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controllerAs:"monitoringKibanaOverviewApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:"Kibana",defaultData:{},getPageData:getPageData,reactNodeId:"monitoringKibanaOverviewApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.clusterStatus){return}_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:data.clusterStatus})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGroup,null,_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_cluster_requests,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo})),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_cluster_response_times,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}))))))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2645:function(module,exports){module.exports='<monitoring-main\n  product="kibana"\n  name="overview"\n  data-test-subj="kibanaOverviewPage"\n>\n  <div id="monitoringKibanaOverviewApp"></div>\n</monitoring-main>\n'},2646:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(15);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _=__webpack_require__(243);var _get_page_data=__webpack_require__(2647);var _index=_interopRequireDefault(__webpack_require__(2648));var _eui=__webpack_require__(1);var _cluster_status=__webpack_require__(871);var _table=__webpack_require__(267);var _status_icon=__webpack_require__(673);var _format_number=__webpack_require__(45);var _i18n2=__webpack_require__(4);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var getColumns=function getColumns(kbnUrl,scope){return[{name:_i18n2.i18n.translate("xpack.monitoring.kibana.listing.nameColumnTitle",{defaultMessage:"Name"}),field:"name",render:function render(name,kibana){return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){scope.$evalAsync(function(){kbnUrl.changePath("/kibana/instances/".concat(kibana.kibana.uuid))})},"data-test-subj":"kibanaLink-".concat(name)},name)}},{name:_i18n2.i18n.translate("xpack.monitoring.kibana.listing.statusColumnTitle",{defaultMessage:"Status"}),field:"status",render:function render(status,kibana){return _react.default.createElement("div",{title:"Instance status: ".concat(status),className:"monTableCell__status"},_react.default.createElement(_status_icon.KibanaStatusIcon,{status:status,availability:kibana.availability}),"",!kibana.availability?_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.kibana.listing.instanceStatus.offlineLabel",defaultMessage:"Offline"}):(0,_lodash.capitalize)(status))}},{name:_i18n2.i18n.translate("xpack.monitoring.kibana.listing.loadAverageColumnTitle",{defaultMessage:"Load Average"}),field:"os.load.1m",render:function render(value){return _react.default.createElement("span",null,(0,_format_number.formatMetric)(value,"0.00"))}},{name:_i18n2.i18n.translate("xpack.monitoring.kibana.listing.memorySizeColumnTitle",{defaultMessage:"Memory Size"}),field:"process.memory.resident_set_size_in_bytes",render:function render(value){return _react.default.createElement("span",null,(0,_format_number.formatNumber)(value,"byte"))}},{name:_i18n2.i18n.translate("xpack.monitoring.kibana.listing.requestsColumnTitle",{defaultMessage:"Requests"}),field:"requests.total",render:function render(value){return _react.default.createElement("span",null,(0,_format_number.formatNumber)(value,"int_commas"))}},{name:_i18n2.i18n.translate("xpack.monitoring.kibana.listing.responseTimeColumnTitle",{defaultMessage:"Response Times"}),field:"response_times.average",render:function render(value,kibana){return _react.default.createElement("div",null,_react.default.createElement("div",{className:"monTableCell__splitNumber"},value&&(0,_format_number.formatNumber)(value,"int_commas")+" ms avg"),_react.default.createElement("div",{className:"monTableCell__splitNumber"},(0,_format_number.formatNumber)(kibana.response_times.max,"int_commas")," ms max"))}}]};_routes.default.when("/kibana/instances",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"kibanas",controller:function(_MonitoringViewBaseEu){_inherits(KibanaInstancesList,_MonitoringViewBaseEu);function KibanaInstancesList($injector,$scope){var _this;_classCallCheck(this,KibanaInstancesList);_this=_possibleConstructorReturn(this,_getPrototypeOf(KibanaInstancesList).call(this,{title:"Kibana Instances",storageKey:"kibana.instances",getPageData:_get_page_data.getPageData,reactNodeId:"monitoringKibanaInstancesApp",$scope:$scope,$injector:$injector}));var kbnUrl=$injector.get("kbnUrl");$scope.$watch(function(){return _this.data},function(data){if(!data||!data.kibanas){return}var dataFlattened=data.kibanas.map(function(item){return _objectSpread({},item,{name:item.kibana.name,status:item.kibana.status})});_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:$scope.pageData.clusterStatus})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_table.EuiMonitoringTable,{className:"kibanaInstancesTable",rows:dataFlattened,columns:getColumns(kbnUrl,$scope),sorting:_this.sorting,pagination:_this.pagination,search:{box:{incremental:true,placeholder:_i18n2.i18n.translate("xpack.monitoring.kibana.listing.filterInstancesPlaceholder",{defaultMessage:"Filter Instances"})}},onTableChange:_this.onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))))});return _this}return KibanaInstancesList}(_.MonitoringViewBaseEuiTableController)})},2647:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(68);var _timefilter=__webpack_require__(22);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/kibana/instances");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2648:function(module,exports){module.exports='<monitoring-main\n  product="kibana"\n  name="kibanas"\n  data-test-subj="kibanaInstancesPage"\n>\n  <div id="monitoringKibanaInstancesApp"></div>\n</monitoring-main>\n'},2649:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(19));var _ajax_error_handler=__webpack_require__(68);var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2650));var _timefilter=__webpack_require__(22);var _eui=__webpack_require__(1);var _chart=__webpack_require__(256);var _detail_status=__webpack_require__(1323);var _i18n=__webpack_require__(15);var _base_controller=__webpack_require__(257);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/kibana/").concat($route.current.params.uuid);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes.default.when("/kibana/instances/:uuid",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controllerAs:"monitoringKibanaInstanceApp",controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:"Kibana - ".concat((0,_lodash.get)($scope.pageData,"kibanaSummary.name")),defaultData:{},getPageData:getPageData,reactNodeId:"monitoringKibanaInstanceApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.metrics){return}_this.setTitle("Kibana - ".concat((0,_lodash.get)(data,"kibanaSummary.name")));_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_detail_status.DetailStatus,{stats:data.kibanaSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_requests,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_response_times,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_memory,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_average_concurrent_connections,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_os_load,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null)),_react.default.createElement(_eui.EuiFlexItem,{grow:true},_react.default.createElement(_chart.MonitoringTimeseriesContainer,{series:data.metrics.kibana_process_delay,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo}),_react.default.createElement(_eui.EuiSpacer,null))))))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2650:function(module,exports){module.exports='<monitoring-main\n  product="kibana"\n  name="kibana"\n  instance="{{ pageData.kibanaSummary.name }}"\n  data-test-subj="kibanaInstancePage"\n>\n  <div id="monitoringKibanaInstanceApp"></div>\n</monitoring-main>\n'},2651:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _routes=_interopRequireDefault(__webpack_require__(19));var _ajax_error_handler=__webpack_require__(68);var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2652));var _timefilter=__webpack_require__(22);var _i18n=__webpack_require__(15);var _overview=__webpack_require__(2653);var _base_controller=__webpack_require__(257);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes.default.when("/logstash",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:"Logstash",getPageData:getPageData,reactNodeId:"monitoringLogstashOverviewApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_overview.Overview,{stats:data.clusterStatus,metrics:data.metrics,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo})))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2652:function(module,exports){module.exports='<monitoring-main product="logstash" name="overview">\n  <div id="monitoringLogstashOverviewApp"></div>\n</monitoring-main>\n'},2653:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Overview",{enumerable:true,get:function get(){return _overview.Overview}});var _overview=__webpack_require__(2654)},2654:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Overview=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _eui=__webpack_require__(1);var _cluster_status=__webpack_require__(873);var _chart=__webpack_require__(256);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var Overview=function(_PureComponent){_inherits(Overview,_PureComponent);function Overview(){_classCallCheck(this,Overview);return _possibleConstructorReturn(this,_getPrototypeOf(Overview).apply(this,arguments))}_createClass(Overview,[{key:"render",value:function render(){var _this$props=this.props,stats=_this$props.stats,metrics=_this$props.metrics,props=_objectWithoutProperties(_this$props,["stats","metrics"]);var metricsToShow=[metrics.logstash_cluster_events_input_rate,metrics.logstash_cluster_events_output_rate,metrics.logstash_cluster_events_latency];return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:stats})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map(function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric},props)),_react.default.createElement(_eui.EuiSpacer,null))})))))}}]);return Overview}(_react.PureComponent);exports.Overview=Overview},2655:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _=__webpack_require__(243);var _get_page_data=__webpack_require__(2656);var _index=_interopRequireDefault(__webpack_require__(2657));var _i18n=__webpack_require__(15);var _listing=__webpack_require__(2658);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/logstash/nodes",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"lsNodes",controller:function(_MonitoringViewBaseEu){_inherits(LsNodesList,_MonitoringViewBaseEu);function LsNodesList($injector,$scope){var _this;_classCallCheck(this,LsNodesList);var kbnUrl=$injector.get("kbnUrl");_this=_possibleConstructorReturn(this,_getPrototypeOf(LsNodesList).call(this,{title:"Logstash - Nodes",storageKey:"logstash.nodes",getPageData:_get_page_data.getPageData,reactNodeId:"monitoringLogstashNodesApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){_this.renderReact(_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_listing.Listing,{data:data.nodes,stats:data.clusterStatus,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange,angular:{kbnUrl:kbnUrl,scope:$scope}})))});return _this}return LsNodesList}(_.MonitoringViewBaseEuiTableController)})},2656:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(68);var _timefilter=__webpack_require__(22);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash/nodes");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2657:function(module,exports){module.exports='<monitoring-main product="logstash" name="nodes">\n  <div id="monitoringLogstashNodesApp"></div>\n</monitoring-main>\n'},2658:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Listing",{enumerable:true,get:function get(){return _listing.Listing}});var _listing=__webpack_require__(2659)},2659:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Listing=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(1);var _format_number=__webpack_require__(45);var _cluster_status=__webpack_require__(873);var _table=__webpack_require__(267);var _react2=__webpack_require__(5);var _i18n=__webpack_require__(4);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ListingUI=function(_PureComponent){_inherits(ListingUI,_PureComponent);function ListingUI(){_classCallCheck(this,ListingUI);return _possibleConstructorReturn(this,_getPrototypeOf(ListingUI).apply(this,arguments))}_createClass(ListingUI,[{key:"getColumns",value:function getColumns(){var _this$props$angular=this.props.angular,kbnUrl=_this$props$angular.kbnUrl,scope=_this$props$angular.scope;return[{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.nameTitle",{defaultMessage:"Name"}),field:"name",sortable:true,render:function render(name,node){return _react.default.createElement("div",null,_react.default.createElement("div",null,_react.default.createElement(_eui.EuiLink,{onClick:function onClick(){scope.$evalAsync(function(){kbnUrl.changePath("/logstash/node/".concat(node.logstash.uuid))})}},name)),_react.default.createElement("div",null,node.logstash.http_address))}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.cpuUsageTitle",{defaultMessage:"CPU Usage"}),field:"cpu_usage",sortable:true,render:function render(value){return(0,_format_number.formatPercentageUsage)(value,100)}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.loadAverageTitle",{defaultMessage:"Load Average"}),field:"load_average",sortable:true,render:function render(value){return(0,_format_number.formatNumber)(value,"0.00")}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.jvmHeapUsedTitle",{defaultMessage:"{javaVirtualMachine} Heap Used",values:{javaVirtualMachine:"JVM"}}),field:"jvm_heap_used",sortable:true,render:function render(value){return(0,_format_number.formatPercentageUsage)(value,100)}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.eventsIngestedTitle",{defaultMessage:"Events Ingested"}),field:"events_out",sortable:true,render:function render(value){return(0,_format_number.formatNumber)(value,"0.[0]a")}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.configReloadsTitle",{defaultMessage:"Config Reloads"}),sortable:true,render:function render(node){return _react.default.createElement("div",null,_react.default.createElement("div",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.nodes.configReloadsSuccessCountLabel",defaultMessage:"{reloadsSuccesses} successes",values:{reloadsSuccesses:node.reloads.successes}})),_react.default.createElement("div",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.nodes.configReloadsFailuresCountLabel",defaultMessage:"{reloadsFailures} failures",values:{reloadsFailures:node.reloads.failures}})))}},{name:_i18n.i18n.translate("xpack.monitoring.logstash.nodes.versionTitle",{defaultMessage:"Version"}),field:"version",sortable:true,render:function render(value){return(0,_format_number.formatNumber)(value)}}]}},{key:"render",value:function render(){var _this$props=this.props,data=_this$props.data,stats=_this$props.stats,sorting=_this$props.sorting,pagination=_this$props.pagination,onTableChange=_this$props.onTableChange,intl=_this$props.intl;var columns=this.getColumns();var flattenedData=data.map(function(item){return _objectSpread({},item,{name:(0,_lodash.get)(item,"logstash.name","N/A"),cpu_usage:(0,_lodash.get)(item,"process.cpu.percent","N/A"),load_average:(0,_lodash.get)(item,"os.cpu.load_average.1m","N/A"),jvm_heap_used:(0,_lodash.get)(item,"jvm.mem.heap_used_percent","N/A"),events_out:(0,_lodash.get)(item,"events.out","N/A"),version:(0,_lodash.get)(item,"logstash.version","N/A")})});return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_cluster_status.ClusterStatus,{stats:stats})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_table.EuiMonitoringTable,{className:"logstashNodesTable",rows:flattenedData,columns:columns,sorting:_objectSpread({},sorting,{sort:_objectSpread({},sorting.sort,{field:"name"})}),pagination:pagination,search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.logstash.filterNodesPlaceholder",defaultMessage:"Filter Nodes"})}},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))}}]);return ListingUI}(_react.PureComponent);var Listing=(0,_react2.injectI18n)(ListingUI);exports.Listing=Listing},2660:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _ajax_error_handler=__webpack_require__(68);var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2661));var _timefilter=__webpack_require__(22);var _detail_status=__webpack_require__(874);var _eui=__webpack_require__(1);var _chart=__webpack_require__(256);var _i18n2=__webpack_require__(15);var _base_controller=__webpack_require__(257);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash/node/").concat($route.current.params.uuid);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:false}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes.default.when("/logstash/node/:uuid",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringLogstashNodeApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.nodeSummary){return}_this.setTitle(_i18n.i18n.translate("xpack.monitoring.logstash.node.routeTitle",{defaultMessage:"Logstash - {nodeName}",values:{nodeName:data.nodeSummary.name}}));var metricsToShow=[data.metrics.logstash_events_input_rate,data.metrics.logstash_jvm_usage,data.metrics.logstash_events_output_rate,data.metrics.logstash_node_cpu_metric,data.metrics.logstash_events_latency,data.metrics.logstash_os_load];_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_detail_status.DetailStatus,{stats:data.nodeSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map(function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo},data)),_react.default.createElement(_eui.EuiSpacer,null))})))))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2661:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="overview"\n>\n  <div id="monitoringLogstashNodeApp"></div>\n</monitoring-main>\n'},2662:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _ajax_error_handler=__webpack_require__(68);var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2663));var _timefilter=__webpack_require__(22);var _base_controller=__webpack_require__(257);var _detail_status=__webpack_require__(874);var _eui=__webpack_require__(1);var _chart=__webpack_require__(256);var _i18n2=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var $route=$injector.get("$route");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash/node/").concat($route.current.params.uuid);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()},is_advanced:true}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes.default.when("/logstash/node/:uuid/advanced",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringLogstashNodeAdvancedApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.nodeSummary){return}_this.setTitle(_i18n.i18n.translate("xpack.monitoring.logstash.node.advanced.routeTitle",{defaultMessage:"Logstash - {nodeName} - Advanced",values:{nodeName:data.nodeSummary.name}}));var metricsToShow=[data.metrics.logstash_node_cpu_utilization,data.metrics.logstash_queue_events_count,data.metrics.logstash_node_cgroup_cpu,data.metrics.logstash_pipeline_queue_size,data.metrics.logstash_node_cgroup_stats];_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_detail_status.DetailStatus,{stats:data.nodeSummary})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_eui.EuiFlexGrid,{columns:2,gutterSize:"s"},metricsToShow.map(function(metric,index){return _react.default.createElement(_eui.EuiFlexItem,{key:index},_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:metric,onBrush:_this.onBrush,zoomInfo:_this.zoomInfo},data)),_react.default.createElement(_eui.EuiSpacer,null))})))))))});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2663:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="nodes"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="advanced"\n>\n  <div id="monitoringLogstashNodeAdvancedApp"></div>\n</monitoring-main>\n'},2664:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _ajax_error_handler=__webpack_require__(68);var _route_init=__webpack_require__(49);var _pipelines=__webpack_require__(1336);var _index=_interopRequireDefault(__webpack_require__(2665));var _timefilter=__webpack_require__(22);var _=__webpack_require__(243);var _i18n2=__webpack_require__(15);var _pipeline_listing=__webpack_require__(1337);var _detail_status=__webpack_require__(874);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var getPageData=function getPageData($injector){var $route=$injector.get("$route");var $http=$injector.get("$http");var globalState=$injector.get("globalState");var Private=$injector.get("Private");var logstashUuid=$route.current.params.uuid;var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash/node/").concat(logstashUuid,"/pipelines");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})};function makeUpgradeMessage(logstashVersion){if((0,_pipelines.isPipelineMonitoringSupportedInVersion)(logstashVersion)){return null}return _i18n.i18n.translate("xpack.monitoring.logstash.node.pipelines.notAvailableDescription",{defaultMessage:"Pipeline monitoring is only available in Logstash version 6.0.0 or higher. This node is running version {logstashVersion}.",values:{logstashVersion:logstashVersion}})}_routes.default.when("/logstash/node/:uuid/pipelines",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseEu){_inherits(controller,_MonitoringViewBaseEu);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var kbnUrl=$injector.get("kbnUrl");var config=$injector.get("config");_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{defaultData:{},getPageData:getPageData,reactNodeId:"monitoringLogstashNodePipelinesApp",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){if(!data||!data.nodeSummary){return}_this.setTitle(_i18n.i18n.translate("xpack.monitoring.logstash.node.pipelines.routeTitle",{defaultMessage:"Logstash - {nodeName} - Pipelines",values:{nodeName:data.nodeSummary.name}}));_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_pipeline_listing.PipelineListing,{className:"monitoringLogstashPipelinesTable",onBrush:_this.onBrush,zoomInfo:_this.zoomInfo,stats:data.nodeSummary,statusComponent:_detail_status.DetailStatus,data:data.pipelines,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange,dateFormat:config.get("dateFormat"),upgradeMessage:makeUpgradeMessage(data.nodeSummary.version,_i18n.i18n),angular:{kbnUrl:kbnUrl,scope:$scope}})))});return _this}return controller}(_.MonitoringViewBaseEuiTableController)})},2665:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="nodes" instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="pipelines"\n>\n  <div id="monitoringLogstashNodePipelinesApp"></div>\n</monitoring-main>\n'},2666:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(19));var _ajax_error_handler=__webpack_require__(68);var _route_init=__webpack_require__(49);var _pipelines=__webpack_require__(1336);var _index=_interopRequireDefault(__webpack_require__(2667));var _timefilter=__webpack_require__(22);var _i18n2=__webpack_require__(15);var _pipeline_listing=__webpack_require__(1337);var _=__webpack_require__(243);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}var getPageData=function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var Private=$injector.get("Private");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/logstash/pipelines");var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})};function makeUpgradeMessage(logstashVersions){if(!Array.isArray(logstashVersions)||logstashVersions.length===0||logstashVersions.some(_pipelines.isPipelineMonitoringSupportedInVersion)){return null}return"Pipeline monitoring is only available in Logstash version 6.0.0 or higher."}_routes.default.when("/logstash/pipelines",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseEu){_inherits(LogstashPipelinesList,_MonitoringViewBaseEu);function LogstashPipelinesList($injector,$scope){var _this;_classCallCheck(this,LogstashPipelinesList);_this=_possibleConstructorReturn(this,_getPrototypeOf(LogstashPipelinesList).call(this,{title:"Logstash Pipelines",storageKey:"logstash.pipelines",getPageData:getPageData,reactNodeId:"monitoringLogstashPipelinesApp",$scope:$scope,$injector:$injector}));var $route=$injector.get("$route");var kbnUrl=$injector.get("kbnUrl");var config=$injector.get("config");_this.data=$route.current.locals.pageData;var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var renderReact=function renderReact(pageData){if(!pageData){return}var upgradeMessage=pageData?makeUpgradeMessage(pageData.clusterStatus.versions,_i18n.i18n):null;_get(_getPrototypeOf(LogstashPipelinesList.prototype),"renderReact",_assertThisInitialized(_this)).call(_assertThisInitialized(_this),_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_pipeline_listing.PipelineListing,{className:"monitoringLogstashPipelinesTable",onBrush:function onBrush(xaxis){return _this.onBrush({xaxis:xaxis})},stats:pageData.clusterStatus,data:pageData.pipelines,sorting:_this.sorting,pagination:_this.pagination,onTableChange:_this.onTableChange,upgradeMessage:upgradeMessage,dateFormat:config.get("dateFormat"),angular:{kbnUrl:kbnUrl,scope:$scope}})))};$scope.$watch(function(){return _this.data},function(pageData){renderReact(pageData)});return _this}return LogstashPipelinesList}(_.MonitoringViewBaseEuiTableController)})},2667:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="pipelines"\n  data-test-subj="logstashPipelinesListing"\n>\n  <div id="monitoringLogstashPipelinesApp"></div>\n</monitoring-main>\n'},2668:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _routes=_interopRequireDefault(__webpack_require__(19));var _moment=_interopRequireDefault(__webpack_require__(16));var _ajax_error_handler=__webpack_require__(68);var _route_init=__webpack_require__(49);var _constants=__webpack_require__(81);var _format_timestamp_to_duration=__webpack_require__(674);var _index=_interopRequireDefault(__webpack_require__(2669));var _i18n=__webpack_require__(4);var _list=__webpack_require__(2670);var _pipeline_state=__webpack_require__(2673);var _pipeline_viewer=__webpack_require__(2679);var _pipeline=__webpack_require__(2691);var _vertex_factory=__webpack_require__(1338);var _base_controller=__webpack_require__(257);var _i18n2=__webpack_require__(15);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var previousPipelineHash=undefined;var detailVertexId=undefined;function getPageData($injector){var $route=$injector.get("$route");var $http=$injector.get("$http");var globalState=$injector.get("globalState");var minIntervalSeconds=$injector.get("minIntervalSeconds");var Private=$injector.get("Private");var ccs=globalState.ccs,clusterUuid=globalState.cluster_uuid;var pipelineId=$route.current.params.id;var pipelineHash=$route.current.params.hash||"";if(pipelineHash!==previousPipelineHash){previousPipelineHash=pipelineHash;detailVertexId=undefined}var url=pipelineHash?"../api/monitoring/v1/clusters/".concat(clusterUuid,"/logstash/pipeline/").concat(pipelineId,"/").concat(pipelineHash):"../api/monitoring/v1/clusters/".concat(clusterUuid,"/logstash/pipeline/").concat(pipelineId);return $http.post(url,{ccs:ccs,detailVertexId:detailVertexId}).then(function(response){return response.data}).then(function(data){data.versions=data.versions.map(function(version){var relativeFirstSeen=(0,_format_timestamp_to_duration.formatTimestampToDuration)(version.firstSeen,_constants.CALCULATE_DURATION_SINCE);var relativeLastSeen=(0,_format_timestamp_to_duration.formatTimestampToDuration)(version.lastSeen,_constants.CALCULATE_DURATION_SINCE);var fudgeFactorSeconds=2*minIntervalSeconds;var isLastSeenCloseToNow=Date.now()-version.lastSeen<=fudgeFactorSeconds*1e3;return _objectSpread({},version,{relativeFirstSeen:_i18n.i18n.translate("xpack.monitoring.logstash.pipeline.relativeFirstSeenAgoLabel",{defaultMessage:"{relativeFirstSeen} ago",values:{relativeFirstSeen:relativeFirstSeen}}),relativeLastSeen:isLastSeenCloseToNow?_i18n.i18n.translate("xpack.monitoring.logstash.pipeline.relativeLastSeenNowLabel",{defaultMessage:"now"}):_i18n.i18n.translate("xpack.monitoring.logstash.pipeline.relativeLastSeenAgoLabel",{defaultMessage:"until {relativeLastSeen} ago",values:{relativeLastSeen:relativeLastSeen}})})});return data}).catch(function(err){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}_routes.default.when("/logstash/pipelines/:id/:hash?",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:getPageData},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var config=$injector.get("config");var dateFormat=config.get("dateFormat");_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.logstash.pipeline.routeTitle",{defaultMessage:"Logstash - Pipeline"}),storageKey:"logstash.pipelines",getPageData:getPageData,reactNodeId:"monitoringLogstashPipelineApp",$scope:$scope,options:{enableTimeFilter:false},$injector:$injector}));var timeseriesTooltipXValueFormatter=function timeseriesTooltipXValueFormatter(xValue){return(0,_moment.default)(xValue).format(dateFormat)};var setDetailVertexId=function setDetailVertexId(vertex){if(!vertex){detailVertexId=undefined}else{detailVertexId=vertex.id}return _this.updateData()};$scope.$watch(function(){return _this.data},function(data){if(!data||!data.pipeline){return}_this.pipelineState=new _pipeline_state.PipelineState(data.pipeline);_this.detailVertex=data.vertex?(0,_vertex_factory.vertexFactory)(null,data.vertex):null;_this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_pipeline_viewer.PipelineViewer,{pipeline:_list.List.fromPipeline(_pipeline.Pipeline.fromPipelineGraph(_this.pipelineState.config.graph)),timeseriesTooltipXValueFormatter:timeseriesTooltipXValueFormatter,setDetailVertexId:setDetailVertexId,detailVertex:_this.detailVertex}))))))});$scope.$on("$destroy",function(){previousPipelineHash=undefined;detailVertexId=undefined});return _this}return controller}(_base_controller.MonitoringViewBaseController)})},2669:function(module,exports){module.exports='<monitoring-main\n  product="logstash"\n  name="node"\n  instance="{{ pageData.nodeSummary.name }}"\n  resolver="{{ pageData.nodeSummary.uuid }}"\n  page="pipeline"\n  pipeline-id="{{ pageData.pipeline.id }}"\n  pipeline-hash="{{ pageData.pipeline.hash }}"\n  pipeline-versions="pageData.versions"\n>\n  <div id="monitoringLogstashPipelineApp"></div>\n</monitoring-main>\n'},267:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"MonitoringTable",{enumerable:true,get:function get(){return _table.MonitoringTable}});Object.defineProperty(exports,"EuiMonitoringTable",{enumerable:true,get:function get(){return _eui_table.EuiMonitoringTable}});Object.defineProperty(exports,"tableStorageGetter",{enumerable:true,get:function get(){return _storage.tableStorageGetter}});Object.defineProperty(exports,"tableStorageSetter",{enumerable:true,get:function get(){return _storage.tableStorageSetter}});Object.defineProperty(exports,"euiTableStorageGetter",{enumerable:true,get:function get(){return _storage.euiTableStorageGetter}});Object.defineProperty(exports,"euiTableStorageSetter",{enumerable:true,get:function get(){return _storage.euiTableStorageSetter}});var _table=__webpack_require__(2509);var _eui_table=__webpack_require__(2513);var _storage=__webpack_require__(2514)},2670:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"List",{enumerable:true,get:function get(){return _list.List}});var _list=__webpack_require__(2671)},2671:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.List=void 0;var _flatten_pipeline_section=__webpack_require__(2672);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var List=function(){function List(inputs,filters,outputs,queue){_classCallCheck(this,List);this.inputs=inputs;this.filters=filters;this.outputs=outputs;this.queue=queue}_createClass(List,null,[{key:"fromPipeline",value:function fromPipeline(pipeline){var inputStatements=pipeline.inputStatements,filterStatements=pipeline.filterStatements,outputStatements=pipeline.outputStatements,queue=pipeline.queue;return new List((0,_flatten_pipeline_section.flattenPipelineSection)(inputStatements),(0,_flatten_pipeline_section.flattenPipelineSection)(filterStatements),(0,_flatten_pipeline_section.flattenPipelineSection)(outputStatements),queue)}}]);return List}();exports.List=List},2672:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.flattenPipelineSection=flattenPipelineSection;function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function flattenPipelineSection(pipelineSection){var depth=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var parentId=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var list=[];pipelineSection.forEach(function(statement){list.push.apply(list,_toConsumableArray(statement.toList(depth,parentId)))});return list}},2673:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineState=void 0;var _config=__webpack_require__(2674);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var PipelineState=function(){function PipelineState(pipelineState){_classCallCheck(this,PipelineState);this.config=new _config.Config;this.update(pipelineState)}_createClass(PipelineState,[{key:"update",value:function update(pipelineJson){this.config.update(pipelineJson.representation)}}]);return PipelineState}();exports.PipelineState=PipelineState},2674:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Config=void 0;var _graph=__webpack_require__(2675);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Config=function(){function Config(){_classCallCheck(this,Config);this.graph=new _graph.Graph}_createClass(Config,[{key:"update",value:function update(configJson){this.json=configJson;this.graph.update(configJson.graph)}}]);return Config}();exports.Config=Config},2675:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Graph=void 0;var _vertex_factory=__webpack_require__(1338);var _edge_factory=__webpack_require__(2677);var _queue_vertex=__webpack_require__(876);var _plugin_vertex=__webpack_require__(1339);function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Graph=function(){function Graph(){_classCallCheck(this,Graph);this.json=null;this.verticesById={};this.edgesById={};this.edgesByFrom={};this.edgesByTo={}}_createClass(Graph,[{key:"getVertexById",value:function getVertexById(id){return this.verticesById[id]}},{key:"getVertices",value:function getVertices(){if(this.vertexCache===undefined){this.vertexCache=Object.values(this.verticesById)}return this.vertexCache}},{key:"update",value:function update(jsonRepresentation){var _this=this;this.json=jsonRepresentation;jsonRepresentation.vertices.forEach(function(vJson){var existingVertex=_this.verticesById[vJson.id];if(existingVertex!==undefined){existingVertex.update(vJson)}else{var newVertex=(0,_vertex_factory.vertexFactory)(_this,vJson);_this.verticesById[vJson.id]=newVertex}});jsonRepresentation.edges.forEach(function(eJson){var existingEdge=_this.edgesById[eJson.id];if(existingEdge!==undefined){existingEdge.update(eJson)}else{var newEdge=(0,_edge_factory.edgeFactory)(_this,eJson);_this.edgesById[eJson.id]=newEdge;if(_this.edgesByFrom[newEdge.from.json.id]===undefined){_this.edgesByFrom[newEdge.from.json.id]=[]}_this.edgesByFrom[newEdge.from.json.id].push(newEdge);if(_this.edgesByTo[newEdge.to.json.id]===undefined){_this.edgesByTo[newEdge.to.json.id]=[]}_this.edgesByTo[newEdge.to.json.id].push(newEdge)}});this.annotateVerticesWithStages()}},{key:"annotateVerticesWithStages",value:function annotateVerticesWithStages(){this.annotateInputStageVertices();this.annotateOutputStageVertices();this.annotateFilterStageVertices()}},{key:"annotateInputStageVertices",value:function annotateInputStageVertices(){if(!this.hasQueueVertex){return}this.startVertices.forEach(function(v){return v.pipelineStage="input"})}},{key:"annotateOutputStageVertices",value:function annotateOutputStageVertices(){if(this.endVertices.length===1&&this.endVertices[0]instanceof _queue_vertex.QueueVertex){return}if(this.endVertices.every(function(v){return v.pluginType==="filter"})){return}var pending=_toConsumableArray(this.endVertices);while(pending.length>0){var currentVertex=pending.shift();var parents=currentVertex.incomingVertices;var isParentFilterPluginVertex=parents.some(function(p){return p instanceof _plugin_vertex.PluginVertex&&p.pluginType==="filter"});var isParentQueueVertex=parents.some(function(p){return p instanceof _queue_vertex.QueueVertex});var isParentNothing=parents.length===0;var isParentOutputStageVertex=!(isParentFilterPluginVertex||isParentQueueVertex||isParentNothing);if(isParentOutputStageVertex){pending.push.apply(pending,_toConsumableArray(parents))}else{currentVertex.pipelineStage="output";var descendantVertices=currentVertex.descendants().vertices;descendantVertices.forEach(function(v){return v.pipelineStage="output"})}}}},{key:"annotateFilterStageVertices",value:function annotateFilterStageVertices(){var pending=[];if(this.hasQueueVertex){pending.push.apply(pending,_toConsumableArray(this.queueVertex.outgoingVertices))}else{pending.push.apply(pending,_toConsumableArray(this.startVertices))}while(pending.length>0){var currentVertex=pending.shift();if(!currentVertex.pipelineStage){currentVertex.pipelineStage="filter";pending.push.apply(pending,_toConsumableArray(currentVertex.outgoingVertices))}}}},{key:"queueVertex",get:function get(){return this.getVertices().find(function(v){return v instanceof _queue_vertex.QueueVertex})}},{key:"processorVertices",get:function get(){return this.getVertices().filter(function(v){return v.isProcessor})}},{key:"edges",get:function get(){return Object.values(this.edgesById)}},{key:"startVertices",get:function get(){return this.getVertices().filter(function(v){return v.incomingEdges.length===0})}},{key:"endVertices",get:function get(){return this.getVertices().filter(function(v){return v.outgoingEdges.length===0})}},{key:"hasQueueVertex",get:function get(){return!!this.queueVertex}}]);return Graph}();exports.Graph=Graph},2676:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IfVertex=void 0;var _lodash=__webpack_require__(3);var _vertex=__webpack_require__(875);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var IfVertex=function(_Vertex){_inherits(IfVertex,_Vertex);function IfVertex(){_classCallCheck(this,IfVertex);return _possibleConstructorReturn(this,_getPrototypeOf(IfVertex).apply(this,arguments))}_createClass(IfVertex,[{key:"typeString",get:function get(){return"if"}},{key:"name",get:function get(){return this.json.condition}},{key:"iconType",get:function get(){return"logstashIf"}},{key:"title",get:function get(){return"if"}},{key:"subtitle",get:function get(){return this.name}},{key:"trueEdge",get:function get(){return this.outgoingEdges.find(function(e){return e.when===true})}},{key:"trueEdges",get:function get(){return this.outgoingEdges.filter(function(e){return e.when===true})}},{key:"falseEdge",get:function get(){return this.outgoingEdges.find(function(e){return e.when===false})}},{key:"falseEdges",get:function get(){return this.outgoingEdges.filter(function(e){return e.when===false})}},{key:"trueOutgoingVertex",get:function get(){return this.trueEdge?this.trueEdge.to:null}},{key:"trueOutgoingVertices",get:function get(){return this.trueEdges.map(function(e){return e.to})}},{key:"falseOutgoingVertex",get:function get(){return this.falseEdge?this.falseEdge.to:null}},{key:"falseOutgoingVertices",get:function get(){return this.falseEdges.map(function(e){return e.to})}},{key:"next",get:function get(){var trueDescendants=this.trueOutgoingVertex?this.trueOutgoingVertex.descendants().vertices:[];var falseDescendants=this.falseOutgoingVertex?this.falseOutgoingVertex.descendants().vertices:[];trueDescendants.unshift(this.trueOutgoingVertex);falseDescendants.unshift(this.falseOutgoingVertex);return(0,_lodash.intersection)(trueDescendants,falseDescendants)[0]}}]);return IfVertex}(_vertex.Vertex);exports.IfVertex=IfVertex},2677:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.edgeFactory=edgeFactory;var _edge=__webpack_require__(1340);var _boolean_edge=__webpack_require__(2678);function edgeFactory(graph,edgeJson){var type=edgeJson.type;switch(type){case"plain":return new _edge.Edge(graph,edgeJson);case"boolean":return new _boolean_edge.BooleanEdge(graph,edgeJson);default:throw new Error("Unknown edge type ".concat(type,"! This shouldn't happen!"))}}},2678:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BooleanEdge=void 0;var _edge=__webpack_require__(1340);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var BooleanEdge=function(_Edge){_inherits(BooleanEdge,_Edge);function BooleanEdge(){_classCallCheck(this,BooleanEdge);return _possibleConstructorReturn(this,_getPrototypeOf(BooleanEdge).apply(this,arguments))}_createClass(BooleanEdge,[{key:"when",get:function get(){return this.json.when}},{key:"isTrue",get:function get(){return this.when===true}},{key:"isFalse",get:function get(){return this.when===false}}]);return BooleanEdge}(_edge.Edge);exports.BooleanEdge=BooleanEdge},2679:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PipelineViewer",{enumerable:true,get:function get(){return _views.PipelineViewer}});var _views=__webpack_require__(2680)},2680:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"PipelineViewer",{enumerable:true,get:function get(){return _pipeline_viewer.PipelineViewer}});var _pipeline_viewer=__webpack_require__(2681)},2681:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PipelineViewer=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _detail_drawer=__webpack_require__(2682);var _queue=__webpack_require__(2683);var _statement_section=__webpack_require__(2684);var _react2=__webpack_require__(5);var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}var PipelineViewerUi=function(_React$Component){_inherits(PipelineViewerUi,_React$Component);function PipelineViewerUi(){var _this;_classCallCheck(this,PipelineViewerUi);_this=_possibleConstructorReturn(this,_getPrototypeOf(PipelineViewerUi).call(this));_defineProperty(_assertThisInitialized(_this),"renderDetailDrawer",function(){if(!_this.props.detailVertex){return null}return _react.default.createElement(_detail_drawer.DetailDrawer,{vertex:_this.props.detailVertex,onHide:function onHide(){return _this.props.setDetailVertexId(undefined)},timeseriesTooltipXValueFormatter:_this.props.timeseriesTooltipXValueFormatter})});_this.state={detailDrawer:{vertex:null}};return _this}_createClass(PipelineViewerUi,[{key:"render",value:function render(){var _this$props$pipeline=this.props.pipeline,inputs=_this$props$pipeline.inputs,filters=_this$props$pipeline.filters,outputs=_this$props$pipeline.outputs,queue=_this$props$pipeline.queue;var intl=this.props.intl;return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,{verticalPosition:"center",horizontalPosition:"center",className:"monPipelineViewer"},_react.default.createElement(_statement_section.StatementSection,{iconType:"logstashInput",headingText:intl.formatMessage({id:"xpack.monitoring.logstash.pipelineViewer.inputsTitle",defaultMessage:"Inputs"}),elements:inputs,onShowVertexDetails:this.props.setDetailVertexId}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_queue.Queue,{queue:queue}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_statement_section.StatementSection,{iconType:"logstashFilter",headingText:intl.formatMessage({id:"xpack.monitoring.logstash.pipelineViewer.filtersTitle",defaultMessage:"Filters"}),elements:filters,onShowVertexDetails:this.props.setDetailVertexId}),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_statement_section.StatementSection,{iconType:"logstashOutput",headingText:intl.formatMessage({id:"xpack.monitoring.logstash.pipelineViewer.outputsTitle",defaultMessage:"Outputs"}),elements:outputs,onShowVertexDetails:this.props.setDetailVertexId}),this.renderDetailDrawer())))}}]);return PipelineViewerUi}(_react.default.Component);PipelineViewerUi.propTypes={pipeline:_propTypes.default.shape({inputs:_propTypes.default.array.isRequired,filters:_propTypes.default.array.isRequired,outputs:_propTypes.default.array.isRequired,queue:_propTypes.default.object.isRequired}).isRequired};var PipelineViewer=(0,_react2.injectI18n)(PipelineViewerUi);exports.PipelineViewer=PipelineViewer},2682:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailDrawer=DetailDrawer;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(1);var _sparkline=__webpack_require__(867);var _format_number=__webpack_require__(45);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderIcon(vertex){return _react.default.createElement(_eui.EuiIcon,{type:vertex.iconType,className:"lspvDetailDrawerIcon"})}function renderPluginBasicStats(vertex,timeseriesTooltipXValueFormatter){var eventsLatencyValueFormatter=function eventsLatencyValueFormatter(value){return(0,_format_number.formatMetric)(value,"0.[00]a","ms/e")};var latestEventsLatency=Array.isArray(vertex.stats.millis_per_event.data)&&vertex.stats.millis_per_event.data.length>0?(0,_lodash.last)(vertex.stats.millis_per_event.data)[1]:null;var eventsLatencyRow=vertex.pluginType==="input"?null:_react.default.createElement(_eui.EuiTableRow,{key:"events_latency"},_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsLatencyLabel",defaultMessage:"Events Latency"})),_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react.default.createElement(_sparkline.Sparkline,{series:vertex.stats.millis_per_event.data,options:{xaxis:vertex.stats.millis_per_event.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsLatencyValueFormatter}}))),_react.default.createElement(_eui.EuiTableRowCell,null,eventsLatencyValueFormatter(latestEventsLatency)));var eventsOutRateValueFormatter=function eventsOutRateValueFormatter(value){return(0,_format_number.formatMetric)(value,"0.[0]a","e/s")};var eventsOutRateRow=_react.default.createElement(_eui.EuiTableRow,{key:"events_out_rate"},_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsEmittedRateLabel",defaultMessage:"Events Emitted Rate"})),_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react.default.createElement(_sparkline.Sparkline,{series:vertex.eventsPerSecond.data,options:{xaxis:vertex.eventsPerSecond.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsOutRateValueFormatter}}))),_react.default.createElement(_eui.EuiTableRowCell,null,eventsOutRateValueFormatter(vertex.latestEventsPerSecond)));var eventsInValueFormatter=function eventsInValueFormatter(value){return(0,_format_number.formatMetric)(value,"0a","events")};var latestEventsIn=Array.isArray(vertex.stats.events_in.data)&&vertex.stats.events_in.data.length>0?(0,_lodash.last)(vertex.stats.events_in.data)[1]:null;var eventsInRow=vertex.pluginType==="input"?null:_react.default.createElement(_eui.EuiTableRow,{key:"events_in"},_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsReceivedLabel",defaultMessage:"Events Received"})),_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react.default.createElement(_sparkline.Sparkline,{series:vertex.stats.events_in.data,options:{xaxis:vertex.stats.events_in.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsInValueFormatter}}))),_react.default.createElement(_eui.EuiTableRowCell,null,eventsInValueFormatter(latestEventsIn)));var eventsOutValueFormatter=eventsInValueFormatter;var latestEventsOut=Array.isArray(vertex.stats.events_out.data)&&vertex.stats.events_out.data.length>0?(0,_lodash.last)(vertex.stats.events_out.data)[1]:null;var eventsOutRow=_react.default.createElement(_eui.EuiTableRow,{key:"events_out"},_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.eventsEmittedLabel",defaultMessage:"Events Emitted"})),_react.default.createElement(_eui.EuiTableRowCell,null,_react.default.createElement("div",{className:"lspvDetailDrawerSparklineContainer"},_react.default.createElement(_sparkline.Sparkline,{series:vertex.stats.events_out.data,options:{xaxis:vertex.stats.events_out.timeRange},tooltip:{enabled:true,xValueFormatter:timeseriesTooltipXValueFormatter,yValueFormatter:eventsOutValueFormatter}}))),_react.default.createElement(_eui.EuiTableRowCell,null,eventsOutValueFormatter(latestEventsOut)));return _react.default.createElement(_eui.EuiTable,null,_react.default.createElement(_eui.EuiTableBody,null,eventsLatencyRow,eventsOutRateRow,eventsInRow,eventsOutRow))}function renderIfBasicStats(_vertex){return _react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.noMetricsForIfDescription",defaultMessage:"There are currently no metrics to show for this if condition."}))}function renderQueueBasicStats(_vertex){return _react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.noMetricsForQueueDescription",defaultMessage:"There are currently no metrics to show for the queue."}))}function renderBasicStats(vertex,timeseriesTooltipXValueFormatter){switch(vertex.typeString){case"plugin":return renderPluginBasicStats(vertex,timeseriesTooltipXValueFormatter);break;case"if":return renderIfBasicStats(vertex,timeseriesTooltipXValueFormatter);break;case"queue":return renderQueueBasicStats(vertex,timeseriesTooltipXValueFormatter);break}}function renderPluginBasicInfo(vertex){if(vertex.hasExplicitId){return _react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.vertexIdDescription",defaultMessage:"This {vertexType}'s ID is {vertexId}.",values:{vertexType:vertex.typeString,vertexId:_react.default.createElement(_eui.EuiBadge,null,vertex.id)}}))}return _react.default.createElement("div",null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.specifyVertexIdDescription",defaultMessage:"This {vertexType} does not have an ID explicitly specified. Specifying an ID allows you to track differences across pipeline changes. You can explicitly specify an ID for this plugin like so:",values:{vertexType:vertex.typeString}})),_react.default.createElement(_eui.EuiCodeBlock,null,vertex.name," ",'{\n  id => "mySpecialId"\n}'),_react.default.createElement(_eui.EuiSpacer,null))}function renderIfBasicInfo(vertex){var ifCode="if (".concat(vertex.subtitle,") {\n  ...\n}");return _react.default.createElement("div",null,_react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.conditionalStatementDescription",defaultMessage:"This is a conditional statement in your pipeline."})),_react.default.createElement(_eui.EuiCodeBlock,null,ifCode),_react.default.createElement(_eui.EuiSpacer,null))}function renderQueueBasicInfo(_vertex){return _react.default.createElement("p",null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.detailDrawer.structureDescription",defaultMessage:"This is an internal structure used by Logstash to buffer events between inputs and the rest of the pipeline."}))}function renderBasicInfo(vertex){switch(vertex.typeString){case"plugin":return renderPluginBasicInfo(vertex);break;case"if":return renderIfBasicInfo(vertex);break;case"queue":return renderQueueBasicInfo(vertex);break}}function renderTitle(vertex){switch(vertex.typeString){case"plugin":return"".concat(vertex.title," ").concat(vertex.pluginType);break;case"if":case"queue":return vertex.title;break}}function DetailDrawer(_ref){var vertex=_ref.vertex,onHide=_ref.onHide,timeseriesTooltipXValueFormatter=_ref.timeseriesTooltipXValueFormatter;return _react.default.createElement(_eui.EuiFlyout,{size:"s",onClose:onHide},_react.default.createElement(_eui.EuiFlyoutHeader,null,_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"baseline",gutterSize:"s"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},renderIcon(vertex)),_react.default.createElement(_eui.EuiFlexItem,null,_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,renderTitle(vertex)))))),_react.default.createElement(_eui.EuiFlyoutBody,null,_react.default.createElement(_eui.EuiText,null,renderBasicInfo(vertex),renderBasicStats(vertex,timeseriesTooltipXValueFormatter))))}},2683:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Queue=Queue;var _react=_interopRequireDefault(__webpack_require__(0));var _statement_list_heading=__webpack_require__(1341);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Queue(){return _react.default.createElement("div",null,_react.default.createElement(_statement_list_heading.StatementListHeading,{iconType:"logstashQueue",title:"Queue"}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiText,{className:"monPipelineViewer__queueMessage"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.logstash.pipeline.queue.noMetricsDescription",defaultMessage:"Queue metrics not available"})))}},2684:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatementSection=StatementSection;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _statement_list_heading=__webpack_require__(1341);var _eui=__webpack_require__(1);var _statement_list=__webpack_require__(2685);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StatementSection(_ref){var iconType=_ref.iconType,headingText=_ref.headingText,elements=_ref.elements,onShowVertexDetails=_ref.onShowVertexDetails;if(!elements.length){return null}return _react.default.createElement("div",null,_react.default.createElement(_statement_list_heading.StatementListHeading,{iconType:iconType,title:headingText}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_statement_list.StatementList,{elements:elements,onShowVertexDetails:onShowVertexDetails}))}StatementSection.propTypes={elements:_propTypes.default.arrayOf(_propTypes.default.shape({id:_propTypes.default.string.isRequired,parentId:_propTypes.default.string})).isRequired,headingText:_propTypes.default.string.isRequired,iconType:_propTypes.default.string.isRequired,onShowVertexDetails:_propTypes.default.func.isRequired}},2685:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatementList=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _statement=__webpack_require__(2686);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function getCollapsedChildIds(elements,collapsedIds){var collapsedChildIds=new Set;elements.forEach(function(_ref){var id=_ref.id,parentId=_ref.parentId;if(collapsedIds.has(parentId)||collapsedChildIds.has(parentId)){collapsedChildIds.add(id)}});return collapsedChildIds}var StatementList=function(_React$PureComponent){_inherits(StatementList,_React$PureComponent);function StatementList(props){var _this;_classCallCheck(this,StatementList);_this=_possibleConstructorReturn(this,_getPrototypeOf(StatementList).call(this,props));_defineProperty(_assertThisInitialized(_this),"expand",function(elementId){var collapsedIds=new Set(_this.state.collapsedIds);collapsedIds.delete(elementId);_this.updateCollapsedElement(collapsedIds)});_defineProperty(_assertThisInitialized(_this),"collapse",function(elementId){var collapsedIds=new Set(_this.state.collapsedIds);collapsedIds.add(elementId);_this.updateCollapsedElement(collapsedIds)});_defineProperty(_assertThisInitialized(_this),"updateCollapsedElement",function(collapsedIds){var elements=_this.props.elements;var collapsedChildIds=getCollapsedChildIds(elements,collapsedIds);_this.setState({collapsedIds:collapsedIds,collapsedChildIds:collapsedChildIds})});_defineProperty(_assertThisInitialized(_this),"elementIsCollapsed",function(elementId){return _this.state.collapsedIds.has(elementId)});_defineProperty(_assertThisInitialized(_this),"renderStatement",function(element){var id=element.id,parentId=element.parentId;var onShowVertexDetails=_this.props.onShowVertexDetails;return _this.state.collapsedIds.has(parentId)||_this.state.collapsedChildIds.has(parentId)?null:_react.default.createElement(_statement.Statement,{key:id,element:element,collapse:_this.collapse,expand:_this.expand,isCollapsed:_this.elementIsCollapsed(id),onShowVertexDetails:onShowVertexDetails})});_this.state={collapsedIds:new Set,collapsedChildIds:new Set};return _this}_createClass(StatementList,[{key:"render",value:function render(){var elements=this.props.elements;return _react.default.createElement("ul",{className:"monPipelineViewer__list"},elements.map(this.renderStatement))}}]);return StatementList}(_react.default.PureComponent);exports.StatementList=StatementList;StatementList.propTypes={elements:_propTypes.default.arrayOf(_propTypes.default.shape({id:_propTypes.default.string.isRequired,parentId:_propTypes.default.string})).isRequired,onShowVertexDetails:_propTypes.default.func.isRequired}},2686:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Statement=Statement;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _plugin_statement=__webpack_require__(1342);var _collapsible_statement=__webpack_require__(2688);var _if_element=__webpack_require__(1343);var _plugin_statement2=__webpack_require__(2689);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderStatementName(name,onVertexSelected){return _react.default.createElement(_eui.EuiFlexItem,{grow:false,key:"statementName"},_react.default.createElement(_eui.EuiButtonEmpty,{"aria-label":name,color:"text",size:"xs",onClick:onVertexSelected,flush:"left"},_react.default.createElement("span",{className:"monPipelineViewer__conditional"},name)))}function renderIfStatement(_ref,onVertexSelected){var condition=_ref.condition;return[renderStatementName("if",onVertexSelected),_react.default.createElement(_eui.EuiFlexItem,{key:"ifContent",grow:false},_react.default.createElement(_eui.EuiCodeBlock,{fontSize:"s",paddingSize:"none",transparentBackground:true},condition))]}function getStatementBody(isIf,statement,vertex,onShowVertexDetails){var showVertexDetailsClicked=function showVertexDetailsClicked(){onShowVertexDetails(vertex)};return isIf?renderIfStatement(statement,showVertexDetailsClicked):renderStatementName("else",showVertexDetailsClicked)}function renderNestingSpacers(depth){var spacers=[];for(var i=0;i<depth;i+=1){spacers.push(_react.default.createElement("div",{key:"spacer_".concat(i),className:"monPipelineViewer__spacer"}))}return spacers}function renderStatement(_ref2){var collapse=_ref2.collapse,element=_ref2.element,_ref2$element=_ref2.element,id=_ref2$element.id,statement=_ref2$element.statement,vertex=_ref2$element.statement.vertex,expand=_ref2.expand,isCollapsed=_ref2.isCollapsed,onShowVertexDetails=_ref2.onShowVertexDetails;if(statement instanceof _plugin_statement.PluginStatement){return _react.default.createElement(_plugin_statement2.PluginStatement,{statement:statement,onShowVertexDetails:onShowVertexDetails})}var statementBody=getStatementBody(element instanceof _if_element.IfElement,statement,vertex,onShowVertexDetails);return _react.default.createElement(_collapsible_statement.CollapsibleStatement,{expand:expand,collapse:collapse,isCollapsed:isCollapsed,id:id},statementBody)}function Statement(props){var depth=props.element.depth;return _react.default.createElement("li",{className:"monPipelineViewer__listItem"},_react.default.createElement("div",{className:"monPipelineViewer__spaceContainer"},renderNestingSpacers(depth)),renderStatement(props))}Statement.propTypes={collapse:_propTypes.default.func.isRequired,element:_propTypes.default.shape({depth:_propTypes.default.number.isRequired,id:_propTypes.default.string.isRequired,statement:_propTypes.default.object.isRequired}).isRequired,expand:_propTypes.default.func.isRequired,isCollapsed:_propTypes.default.bool.isRequired,onShowVertexDetails:_propTypes.default.func.isRequired}},2687:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginElement=void 0;var _element=__webpack_require__(878);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var PluginElement=function(_Element){_inherits(PluginElement,_Element);function PluginElement(statement,depth,parentId){_classCallCheck(this,PluginElement);var id=statement.id;return _possibleConstructorReturn(this,_getPrototypeOf(PluginElement).call(this,id,statement,depth,parentId))}return PluginElement}(_element.Element);exports.PluginElement=PluginElement},2688:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.CollapsibleStatement=CollapsibleStatement;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getToggleIconType(isCollapsed){return isCollapsed?"arrowRight":"arrowDown"}function CollapsibleStatement(props){var collapse=props.collapse,expand=props.expand,id=props.id,isCollapsed=props.isCollapsed;var toggleClicked=function toggleClicked(){if(isCollapsed){expand(id)}else{collapse(id)}};return _react.default.createElement(_eui.EuiFlexGroup,{responsive:false,gutterSize:"none",alignItems:"center",className:"monPipelineViewer__statement"},_react.default.createElement(_eui.EuiFlexItem,{key:id,grow:false},_react.default.createElement(_eui.EuiButtonIcon,{"aria-label":"collapse",color:"text",iconType:getToggleIconType(isCollapsed),onClick:toggleClicked,size:"s"})),props.children)}CollapsibleStatement.propTypes={collapse:_propTypes.default.func.isRequired,expand:_propTypes.default.func.isRequired,id:_propTypes.default.string.isRequired,isCollapsed:_propTypes.default.bool.isRequired}},2689:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.PluginStatement=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _format_number=__webpack_require__(45);var _metric=__webpack_require__(2690);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInputStatementMetrics(_ref){var latestEventsPerSecond=_ref.latestEventsPerSecond;return[_react.default.createElement(_metric.Metric,{key:"eventsEmitted",className:"monPipelineViewer__metric--eventsEmitted",value:(0,_format_number.formatMetric)(latestEventsPerSecond,"0.[00]a","e/s emitted")})]}function getProcessorStatementMetrics(processorVertex){var latestMillisPerEvent=processorVertex.latestMillisPerEvent,latestEventsPerSecond=processorVertex.latestEventsPerSecond,percentOfTotalProcessorTime=processorVertex.percentOfTotalProcessorTime;return[_react.default.createElement(_metric.Metric,{key:"cpuMetric",className:"monPipelineViewer__metric--cpuTime",warning:processorVertex.isTimeConsuming(),value:(0,_format_number.formatMetric)(Math.round(percentOfTotalProcessorTime||0),"0","%",{prependSpace:false})}),_react.default.createElement(_metric.Metric,{key:"eventMillis",className:"monPipelineViewer__metric--eventMillis",warning:processorVertex.isSlow(),value:(0,_format_number.formatMetric)(latestMillisPerEvent,"0.[00]a","ms/e")}),_react.default.createElement(_metric.Metric,{key:"eventsReceived",className:"monPipelineViewer__metric--events",value:(0,_format_number.formatMetric)(latestEventsPerSecond,"0.[00]a","e/s received")})]}function renderPluginStatementMetrics(pluginType,vertex){return pluginType==="input"?getInputStatementMetrics(vertex):getProcessorStatementMetrics(vertex)}function PluginStatementUi(_ref2){var _ref2$statement=_ref2.statement,hasExplicitId=_ref2$statement.hasExplicitId,id=_ref2$statement.id,name=_ref2$statement.name,pluginType=_ref2$statement.pluginType,vertex=_ref2$statement.vertex,onShowVertexDetails=_ref2.onShowVertexDetails,intl=_ref2.intl;var statementMetrics=renderPluginStatementMetrics(pluginType,vertex);var onNameButtonClick=function onNameButtonClick(){onShowVertexDetails(vertex)};return _react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",className:"monPipelineViewer__statement",gutterSize:"none",justifyContent:"spaceBetween"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{alignItems:"center",gutterSize:"xs",responsive:false},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiButtonEmpty,{"aria-label":name,className:"monPipelineViewer__plugin",color:"primary",flush:"left",iconType:"dot",onClick:onNameButtonClick,size:"xs"},_react.default.createElement("span",null,name))),hasExplicitId&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiBadge,{onClick:onNameButtonClick,onClickAriaLabel:intl.formatMessage({id:"xpack.monitoring.logstash.pipelineStatement.viewDetailsAriaLabel",defaultMessage:"View details"})},id)))),statementMetrics&&_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"s"},statementMetrics)))}PluginStatementUi.propTypes={onShowVertexDetails:_propTypes.default.func.isRequired,statement:_propTypes.default.shape({hasExplicitId:_propTypes.default.bool.isRequired,id:_propTypes.default.string.isRequired,name:_propTypes.default.string.isRequired,pluginType:_propTypes.default.string.isRequired,vertex:_propTypes.default.shape({latestEventsPerSecond:_propTypes.default.number.isRequired,latestMillisPerEvent:_propTypes.default.number,percentOfTotalProcessorTime:_propTypes.default.number}).isRequired}).isRequired};var PluginStatement=(0,_react2.injectI18n)(PluginStatementUi);exports.PluginStatement=PluginStatement},2690:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Metric=Metric;var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _eui=__webpack_require__(1);var _classnames=_interopRequireDefault(__webpack_require__(54));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Metric(_ref){var className=_ref.className,warning=_ref.warning,value=_ref.value;var classes=(0,_classnames.default)("monPipelineViewer__metric",className);var stylizedValue;if(warning){stylizedValue=_react.default.createElement(_eui.EuiBadge,{color:"warning",className:className},value)}else{stylizedValue=_react.default.createElement(_eui.EuiText,{size:"s",color:"subdued",className:classes},_react.default.createElement("span",null,value))}return _react.default.createElement(_eui.EuiFlexItem,{className:"monPipelineViewer__metricFlexItem",grow:false},stylizedValue)}Metric.propTypes={className:_propTypes.default.string.isRequired,value:_propTypes.default.string.isRequired,warning:_propTypes.default.bool}},2691:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"Pipeline",{enumerable:true,get:function get(){return _pipeline.Pipeline}});var _pipeline=__webpack_require__(2692)},2692:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Pipeline=void 0;var _make_statement=__webpack_require__(1344);var _queue_vertex=__webpack_require__(876);var _utils=__webpack_require__(1345);function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function getInputStatements(pipelineGraph){return pipelineGraph.getVertices().filter(function(v){return v.pipelineStage==="input"}).map(_make_statement.makeStatement)}function isFilterStageVertex(vertex){return vertex.pipelineStage==="filter"}function isVertexOrphan(vertex){return vertex.incomingVertices.length===0}function isVertexChildOfQueue(vertex){return vertex.incomingVertices.every(function(p){return p instanceof _queue_vertex.QueueVertex})}function getFilterStatements(pipelineGraph){var allVertices=pipelineGraph.getVertices();var allFilterVertices=allVertices.filter(function(v){return isFilterStageVertex(v)});var startFilterVertex=pipelineGraph.hasQueueVertex?allFilterVertices.find(function(v){return isVertexChildOfQueue(v)}):allFilterVertices.find(function(v){return isVertexOrphan(v)});if(!startFilterVertex){return[]}var filterStatements=[];var currentVertex=startFilterVertex;while((0,_utils.isVertexPipelineStage)(currentVertex,"filter")){filterStatements.push((0,_make_statement.makeStatement)(currentVertex,"filter"));currentVertex=currentVertex.next}return filterStatements}function getQueue(pipelineGraph){return pipelineGraph.hasQueueVertex?(0,_make_statement.makeStatement)(pipelineGraph.queueVertex):null}function getOutputStatements(pipelineGraph){return pipelineGraph.getVertices().filter(function(v){return v.pipelineStage==="output"&&!v.incomingVertices.some(function(p){return p.pipelineStage==="output"})}).map(function(v){return(0,_make_statement.makeStatement)(v,"output")})}var Pipeline=function(){function Pipeline(inputStatements,filterStatements,outputStatements,queue){_classCallCheck(this,Pipeline);this.inputStatements=inputStatements;this.filterStatements=filterStatements;this.outputStatements=outputStatements;this.queue=queue}_createClass(Pipeline,null,[{key:"fromPipelineGraph",value:function fromPipelineGraph(pipelineGraph){var inputStatements=getInputStatements(pipelineGraph);var filterStatements=getFilterStatements(pipelineGraph);var outputStatements=getOutputStatements(pipelineGraph);var queue=getQueue(pipelineGraph);return new Pipeline(inputStatements,filterStatements,outputStatements,queue)}}]);return Pipeline}();exports.Pipeline=Pipeline},2693:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IfStatement=void 0;var _statement=__webpack_require__(877);var _make_statement=__webpack_require__(1344);var _utils=__webpack_require__(1345);var _if_element=__webpack_require__(1343);var _else_element=__webpack_require__(2694);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function makeStatementsForOutgoingVertices(outgoingVertices,statements,next,pipelineStage){outgoingVertices.forEach(function(vertex){var currentVertex=vertex;while((0,_utils.isVertexPipelineStage)(currentVertex,pipelineStage)&&currentVertex!==next){statements.push((0,_make_statement.makeStatement)(currentVertex,pipelineStage));currentVertex=currentVertex.next}})}function addStatementsToList(list,statements,depth,id){statements.forEach(function(statement){list.push.apply(list,_toConsumableArray(statement.toList(depth,id)))})}var IfStatement=function(_Statement){_inherits(IfStatement,_Statement);function IfStatement(vertex,trueStatements,elseStatements){var _this;_classCallCheck(this,IfStatement);_this=_possibleConstructorReturn(this,_getPrototypeOf(IfStatement).call(this,vertex));var name=vertex.name;_this.condition=name;_this.trueStatements=trueStatements;_this.elseStatements=elseStatements;return _this}_createClass(IfStatement,[{key:"toList",value:function toList(depth,parentId){var list=[];var ifElement=new _if_element.IfElement(this,depth,parentId);list.push(ifElement);var nestedElementDepth=depth+1;addStatementsToList(list,this.trueStatements,nestedElementDepth,ifElement.id);if(this.elseStatements.length){var elseElement=new _else_element.ElseElement(this,depth,parentId);list.push(elseElement);addStatementsToList(list,this.elseStatements,nestedElementDepth,elseElement.id)}return list}}],[{key:"fromPipelineGraphVertex",value:function fromPipelineGraphVertex(ifVertex,pipelineStage){var trueStatements=[];var elseStatements=[];var trueOutgoingVertices=ifVertex.trueOutgoingVertices,falseOutgoingVertices=ifVertex.falseOutgoingVertices;var next=ifVertex.next;makeStatementsForOutgoingVertices(trueOutgoingVertices,trueStatements,next,pipelineStage);makeStatementsForOutgoingVertices(falseOutgoingVertices,elseStatements,next,pipelineStage);return new IfStatement(ifVertex,trueStatements,elseStatements)}}]);return IfStatement}(_statement.Statement);exports.IfStatement=IfStatement},2694:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElseElement=void 0;var _element=__webpack_require__(878);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ElseElement=function(_Element){_inherits(ElseElement,_Element);function ElseElement(statement,depth,parentId){_classCallCheck(this,ElseElement);var id=statement.id;return _possibleConstructorReturn(this,_getPrototypeOf(ElseElement).call(this,"".concat(id,"_else"),statement,depth,parentId))}return ElseElement}(_element.Element);exports.ElseElement=ElseElement},2695:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Queue=void 0;var _statement=__webpack_require__(877);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var Queue=function(_Statement){_inherits(Queue,_Statement);function Queue(){_classCallCheck(this,Queue);return _possibleConstructorReturn(this,_getPrototypeOf(Queue).apply(this,arguments))}_createClass(Queue,null,[{key:"fromPipelineGraphVertex",value:function fromPipelineGraphVertex(queueVertex){return new Queue(queueVertex)}}]);return Queue}(_statement.Statement);exports.Queue=Queue},2696:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _=__webpack_require__(243);var _get_page_data=__webpack_require__(2697);var _index=_interopRequireDefault(__webpack_require__(2698));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/beats",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"beats",controller:function(_MonitoringViewBaseCo){_inherits(BeatsOverview,_MonitoringViewBaseCo);function BeatsOverview($injector,$scope){var _this;_classCallCheck(this,BeatsOverview);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(BeatsOverview).call(this,{title:_i18n.i18n.translate("xpack.monitoring.beats.overview.routeTitle",{defaultMessage:"Beats - Overview"}),getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));_this.data=$route.current.locals.pageData;return _this}return BeatsOverview}(_.MonitoringViewBaseController)})},2697:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(68);var _timefilter=__webpack_require__(22);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/beats");return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2698:function(module,exports){module.exports='<monitoring-main\n  product="beats"\n  name="overview"\n  data-test-subj="beatsOverviewPage"\n>\n  <monitoring-beats-overview data="beats.data" on-brush="beats.onBrush" zoom-info="beats.zoomInfo"></monitoring-beats-overview>\n</monitoring-main>\n'},2699:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _=__webpack_require__(243);var _get_page_data=__webpack_require__(2700);var _index=_interopRequireDefault(__webpack_require__(2701));var _react=_interopRequireDefault(__webpack_require__(0));var _i18n2=__webpack_require__(15);var _listing=__webpack_require__(2702);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/beats/beats",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"beats",controller:function(_MonitoringViewBaseEu){_inherits(BeatsListing,_MonitoringViewBaseEu);function BeatsListing($injector,$scope){var _this;_classCallCheck(this,BeatsListing);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(BeatsListing).call(this,{title:_i18n.i18n.translate("xpack.monitoring.beats.routeTitle",{defaultMessage:"Beats"}),storageKey:"beats.beats",getPageData:_get_page_data.getPageData,reactNodeId:"monitoringBeatsInstancesApp",$scope:$scope,$injector:$injector}));_this.data=$route.current.locals.pageData;_this.scope=$scope;_this.kbnUrl=$injector.get("kbnUrl");_this._isDataInitialized=true;$scope.$watch(function(){return _this.data},function(){return _this.renderComponent()});return _this}_createClass(BeatsListing,[{key:"renderComponent",value:function renderComponent(){var _this$scope$beats=this.scope.beats,sorting=_this$scope$beats.sorting,pagination=_this$scope$beats.pagination,onTableChange=_this$scope$beats.onTableChange;this.renderReact(_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_listing.Listing,{stats:this.data.stats,data:this.data.listing,sorting:this.sorting||sorting,pagination:this.pagination||pagination,onTableChange:this.onTableChange||onTableChange,angular:{kbnUrl:this.kbnUrl,scope:this.scope}})))}}]);return BeatsListing}(_.MonitoringViewBaseEuiTableController)})},2700:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(68);var _timefilter=__webpack_require__(22);function getPageData($injector){var $http=$injector.get("$http");var globalState=$injector.get("globalState");var timeBounds=_timefilter.timefilter.getBounds();var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/beats/beats");return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2701:function(module,exports){module.exports='<monitoring-main\n  product="beats"\n  name="beats"\n  data-test-subj="beatsListingPage"\n>\n  <div id="monitoringBeatsInstancesApp" ng-init="beats.renderComponent()"></div>\n</monitoring-main>'},2702:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Listing=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _lodash=__webpack_require__(3);var _eui=__webpack_require__(1);var _beats=__webpack_require__(1324);var _format_number=__webpack_require__(45);var _table=__webpack_require__(267);var _i18n=__webpack_require__(4);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var ListingUI=function(_PureComponent){_inherits(ListingUI,_PureComponent);function ListingUI(){_classCallCheck(this,ListingUI);return _possibleConstructorReturn(this,_getPrototypeOf(ListingUI).apply(this,arguments))}_createClass(ListingUI,[{key:"getColumns",value:function getColumns(){var _this$props$angular=this.props.angular,kbnUrl=_this$props$angular.kbnUrl,scope=_this$props$angular.scope;return[{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.nameTitle",{defaultMessage:"Name"}),field:"name",render:function render(name,beat){return _react.default.createElement(_eui.EuiLink,{onClick:function onClick(){scope.$evalAsync(function(){kbnUrl.changePath("/beats/beat/".concat(beat.uuid))})},"data-test-subj":"beatLink-".concat(name)},name)}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.typeTitle",{defaultMessage:"Type"}),field:"type"},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.outputEnabledTitle",{defaultMessage:"Output Enabled"}),field:"output"},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.totalEventsRateTitle",{defaultMessage:"Total Events Rate"}),field:"total_events_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.bytesSentRateTitle",{defaultMessage:"Bytes Sent Rate"}),field:"bytes_sent_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"byte","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.outputErrorsTitle",{defaultMessage:"Output Errors"}),field:"errors",render:function render(value){return(0,_format_number.formatMetric)(value,"0")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.allocatedMemoryTitle",{defaultMessage:"Allocated Memory"}),field:"memory",render:function render(value){return(0,_format_number.formatMetric)(value,"byte")}},{name:_i18n.i18n.translate("xpack.monitoring.beats.instances.versionTitle",{defaultMessage:"Version"}),field:"version"}]}},{key:"render",value:function render(){var _this$props=this.props,stats=_this$props.stats,data=_this$props.data,sorting=_this$props.sorting,pagination=_this$props.pagination,onTableChange=_this$props.onTableChange;var types=(0,_lodash.uniq)(data.map(function(item){return item.type})).map(function(type){return{value:type}});var versions=(0,_lodash.uniq)(data.map(function(item){return item.version})).map(function(version){return{value:version}});return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_beats.Stats,{stats:stats}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_table.EuiMonitoringTable,{className:"beatsTable",rows:data,columns:this.getColumns(),sorting:sorting,pagination:pagination,search:{box:{incremental:true,placeholder:_i18n.i18n.translate("xpack.monitoring.beats.filterBeatsPlaceholder",{defaultMessage:"Filter Beats..."})},filters:[{type:"field_value_selection",field:"type",name:_i18n.i18n.translate("xpack.monitoring.beats.instances.typeFilter",{defaultMessage:"Type"}),options:types,multiSelect:"or"},{type:"field_value_selection",field:"version",name:_i18n.i18n.translate("xpack.monitoring.beats.instances.versionFilter",{defaultMessage:"Version"}),options:versions,multiSelect:"or"}]},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name","type"]}}))))}}]);return ListingUI}(_react.PureComponent);var Listing=(0,_react2.injectI18n)(ListingUI);exports.Listing=Listing},2703:function(module,exports,__webpack_require__){"use strict";var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(4);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _=__webpack_require__(243);var _get_page_data=__webpack_require__(2704);var _index=_interopRequireDefault(__webpack_require__(2705));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/beats/beat/:beatUuid",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()},pageData:_get_page_data.getPageData},controllerAs:"beat",controller:function(_MonitoringViewBaseCo){_inherits(BeatDetail,_MonitoringViewBaseCo);function BeatDetail($injector,$scope){var _this;_classCallCheck(this,BeatDetail);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});var pageData=$route.current.locals.pageData;_this=_possibleConstructorReturn(this,_getPrototypeOf(BeatDetail).call(this,{title:_i18n.i18n.translate("xpack.monitoring.beats.instance.routeTitle",{defaultMessage:"Beats - {instanceName} - Overview",values:{instanceName:pageData.summary.name}}),getPageData:_get_page_data.getPageData,$scope:$scope,$injector:$injector}));_this.data=pageData;return _this}return BeatDetail}(_.MonitoringViewBaseController)})},2704:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getPageData=getPageData;var _ajax_error_handler=__webpack_require__(68);var _timefilter=__webpack_require__(22);function getPageData($injector){var $http=$injector.get("$http");var $route=$injector.get("$route");var globalState=$injector.get("globalState");var url="../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/beats/beat/").concat($route.current.params.beatUuid);var timeBounds=_timefilter.timefilter.getBounds();return $http.post(url,{ccs:globalState.ccs,timeRange:{min:timeBounds.min.toISOString(),max:timeBounds.max.toISOString()}}).then(function(response){return response.data}).catch(function(err){var Private=$injector.get("Private");var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);return ajaxErrorHandlers(err)})}},2705:function(module,exports){module.exports='<monitoring-main\n  product="beats"\n  name="detail"\n  instance="{{ beat.data.summary.name }}"\n  resolver="{{ beat.data.summary.uuid }}"\n  page="overview"\n  data-test-subj="beatDetailPage"\n>\n  <monitoring-beats-beat data="beat.data" on-brush="beat.onBrush" zoom-info="beat.zoomInfo"></monitoring-beats-beat>\n</monitoring-main>\n'},2706:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2707));var _base_controller=__webpack_require__(257);var _overview=__webpack_require__(2708);var _i18n=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/apm",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:"APM",api:"../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/apm"),defaultData:{},reactNodeId:"apmOverviewReact",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data)});return _this}_createClass(controller,[{key:"renderReact",value:function renderReact(data){var component=_react.default.createElement(_i18n.I18nContext,null,_react.default.createElement(_overview.ApmOverview,_extends({},data,{onBrush:this.onBrush,zoomInfo:this.zoomInfo})));_get(_getPrototypeOf(controller.prototype),"renderReact",this).call(this,component)}}]);return controller}(_base_controller.MonitoringViewBaseController)})},2707:function(module,exports){module.exports='<monitoring-main\n  product="apm"\n  name="overview"\n  data-test-subj="apmOverviewPage"\n>\n  <div id="apmOverviewReact"></div>\n</monitoring-main>\n'},2708:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmOverview=ApmOverview;var _react=_interopRequireDefault(__webpack_require__(0));var _chart=__webpack_require__(256);var _eui=__webpack_require__(1);var _status=__webpack_require__(1346);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ApmOverview(_ref){var stats=_ref.stats,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["stats","metrics"]);var seriesToShow=[metrics.apm_responses_valid,metrics.apm_responses_errors,metrics.apm_output_events_rate_success,metrics.apm_output_events_rate_failure,metrics.apm_requests,metrics.apm_transformations,metrics.apm_cpu,metrics.apm_memory,metrics.apm_os_load];var charts=seriesToShow.map(function(data,index){return _react.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:data},props))))});return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_status.Status,{stats:stats}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,{wrap:true},charts))))}},2709:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2710));var _instances=__webpack_require__(2711);var _=__webpack_require__(243);var _i18n2=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/apm/instances",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controller:function(_MonitoringViewBaseEu){_inherits(controller,_MonitoringViewBaseEu);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.apm.instances.routeTitle",{defaultMessage:"{apm} - Instances",values:{apm:"APM"}}),storageKey:"apm.instances",api:"../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/apm/instances"),defaultData:{},reactNodeId:"apmInstancesReact",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){_this.renderReact(data)});return _this}_createClass(controller,[{key:"renderReact",value:function renderReact(data){var pagination=this.pagination,sorting=this.sorting,onTableChange=this.onTableChange;var component=_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_instances.ApmServerInstances,{apms:{pagination:pagination,sorting:sorting,onTableChange:onTableChange,data:data}}));_get(_getPrototypeOf(controller.prototype),"renderReact",this).call(this,component)}}]);return controller}(_.MonitoringViewBaseEuiTableController)})},2710:function(module,exports){module.exports='<monitoring-main\n  product="apm"\n  name="apms"\n  data-test-subj="apmInstancesPage"\n>\n  <div id="apmInstancesReact"></div>\n</monitoring-main>\n'},2711:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ApmServerInstances",{enumerable:true,get:function get(){return _instances.ApmServerInstances}});var _instances=__webpack_require__(2712)},2712:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmServerInstancesUI=ApmServerInstancesUI;exports.ApmServerInstances=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(16));var _lodash=__webpack_require__(3);var _table=__webpack_require__(267);var _eui=__webpack_require__(1);var _status=__webpack_require__(1346);var _format_number=__webpack_require__(45);var _common=__webpack_require__(570);var _i18n=__webpack_require__(4);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var columns=[{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.nameTitle",{defaultMessage:"Name"}),field:"name",render:function render(name,instance){return _react.default.createElement(_eui.EuiLink,{href:"#/apm/instances/".concat(instance.uuid),"data-test-subj":"apmLink-".concat(name)},name)}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.outputEnabledTitle",{defaultMessage:"Output Enabled"}),field:"output"},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.totalEventsRateTitle",{defaultMessage:"Total Events Rate"}),field:"total_events_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.bytesSentRateTitle",{defaultMessage:"Bytes Sent Rate"}),field:"bytes_sent_rate",render:function render(value){return(0,_format_number.formatMetric)(value,"byte","/s")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.outputErrorsTitle",{defaultMessage:"Output Errors"}),field:"errors",render:function render(value){return(0,_format_number.formatMetric)(value,"0")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.lastEventTitle",{defaultMessage:"Last Event"}),field:"time_of_last_event",render:function render(value){return _i18n.i18n.translate("xpack.monitoring.apm.instances.lastEventValue",{defaultMessage:"{timeOfLastEvent} ago",values:{timeOfLastEvent:(0,_common.formatTimestampToDuration)(+(0,_moment.default)(value),"since")}})}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.allocatedMemoryTitle",{defaultMessage:"Allocated Memory"}),field:"memory",render:function render(value){return(0,_format_number.formatMetric)(value,"byte")}},{name:_i18n.i18n.translate("xpack.monitoring.apm.instances.versionTitle",{defaultMessage:"Version"}),field:"version"}];function ApmServerInstancesUI(_ref){var apms=_ref.apms,intl=_ref.intl;var pagination=apms.pagination,sorting=apms.sorting,onTableChange=apms.onTableChange,data=apms.data;var versions=(0,_lodash.uniq)(data.apms.map(function(item){return item.version})).map(function(version){return{value:version}});return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_status.Status,{stats:data.stats}),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),_react.default.createElement(_table.EuiMonitoringTable,{className:"apmInstancesTable",rows:data.apms,columns:columns,sorting:sorting,pagination:pagination,search:{box:{incremental:true,placeholder:intl.formatMessage({id:"xpack.monitoring.apm.instances.filterInstancesPlaceholder",defaultMessage:"Filter Instances"})},filters:[{type:"field_value_selection",field:"version",name:intl.formatMessage({id:"xpack.monitoring.apm.instances.versionFilter",defaultMessage:"Version"}),options:versions,multiSelect:"or"}]},onTableChange:onTableChange,executeQueryOptions:{defaultFields:["name"]}}))))}var ApmServerInstances=(0,_react2.injectI18n)(ApmServerInstancesUI);exports.ApmServerInstances=ApmServerInstances},2713:function(module,exports,__webpack_require__){"use strict";var _react=_interopRequireDefault(__webpack_require__(0));var _i18n=__webpack_require__(4);var _lodash=__webpack_require__(3);var _routes=_interopRequireDefault(__webpack_require__(19));var _route_init=__webpack_require__(49);var _index=_interopRequireDefault(__webpack_require__(2714));var _base_controller=__webpack_require__(257);var _instance=__webpack_require__(2715);var _i18n2=__webpack_require__(15);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _get(target,property,receiver){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function _get(target,property,receiver){var base=_superPropBase(target,property);if(!base)return;var desc=Object.getOwnPropertyDescriptor(base,property);if(desc.get){return desc.get.call(receiver)}return desc.value}}return _get(target,property,receiver||target)}function _superPropBase(object,property){while(!Object.prototype.hasOwnProperty.call(object,property)){object=_getPrototypeOf(object);if(object===null)break}return object}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_routes.default.when("/apm/instances/:uuid",{template:_index.default,resolve:{clusters:function clusters(Private){var routeInit=Private(_route_init.routeInitProvider);return routeInit()}},controller:function(_MonitoringViewBaseCo){_inherits(controller,_MonitoringViewBaseCo);function controller($injector,$scope){var _this;_classCallCheck(this,controller);var $route=$injector.get("$route");var title=$injector.get("title");var globalState=$injector.get("globalState");$scope.cluster=(0,_lodash.find)($route.current.locals.clusters,{cluster_uuid:globalState.cluster_uuid});_this=_possibleConstructorReturn(this,_getPrototypeOf(controller).call(this,{title:_i18n.i18n.translate("xpack.monitoring.apm.instance.routeTitle",{defaultMessage:"{apm} - Instance",values:{apm:"APM"}}),api:"../api/monitoring/v1/clusters/".concat(globalState.cluster_uuid,"/apm/").concat($route.current.params.uuid),defaultData:{},reactNodeId:"apmInstanceReact",$scope:$scope,$injector:$injector}));$scope.$watch(function(){return _this.data},function(data){title($scope.cluster,"APM - ".concat((0,_lodash.get)(data,"apmSummary.name")));_this.renderReact(data)});return _this}_createClass(controller,[{key:"renderReact",value:function renderReact(data){var component=_react.default.createElement(_i18n2.I18nContext,null,_react.default.createElement(_instance.ApmServerInstance,{summary:data.apmSummary||{},metrics:data.metrics||{},onBrush:this.onBrush,zoomInfo:this.zoomInfo}));_get(_getPrototypeOf(controller.prototype),"renderReact",this).call(this,component)}}]);return controller}(_base_controller.MonitoringViewBaseController)})},2714:function(module,exports){module.exports='<monitoring-main\n  product="apm"\n  name="apm"\n  instance="{{ pageData.apmSummary.name }}"\n  data-test-subj="apmInstancePage"\n>\n  <div id="apmInstanceReact"></div>\n</monitoring-main>\n'},2715:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"ApmServerInstance",{enumerable:true,get:function get(){return _instance.ApmServerInstance}});var _instance=__webpack_require__(2716)},2716:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ApmServerInstance=ApmServerInstance;var _react=_interopRequireDefault(__webpack_require__(0));var _chart=__webpack_require__(256);var _eui=__webpack_require__(1);var _status=__webpack_require__(2717);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};return _extends.apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(source==null)return{};var target=_objectWithoutPropertiesLoose(source,excluded);var key,i;if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++){key=sourceSymbolKeys[i];if(excluded.indexOf(key)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(source,key))continue;target[key]=source[key]}}return target}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key]}return target}function ApmServerInstance(_ref){var summary=_ref.summary,metrics=_ref.metrics,props=_objectWithoutProperties(_ref,["summary","metrics"]);var seriesToShow=[metrics.apm_responses_valid,metrics.apm_responses_errors,metrics.apm_output_events_rate_success,metrics.apm_output_events_rate_failure,metrics.apm_requests,metrics.apm_transformations,metrics.apm_cpu,metrics.apm_memory,metrics.apm_os_load];var charts=seriesToShow.map(function(data,index){return _react.default.createElement(_eui.EuiFlexItem,{style:{minWidth:"45%"},key:index},_react.default.createElement(_eui.EuiPanel,null,_react.default.createElement(_chart.MonitoringTimeseriesContainer,_extends({series:data},props))))});return _react.default.createElement(_eui.EuiPage,null,_react.default.createElement(_eui.EuiPageBody,null,_react.default.createElement(_eui.EuiPageContent,null,_react.default.createElement(_status.Status,{stats:summary}),_react.default.createElement(_eui.EuiSpacer,{size:"s"}),_react.default.createElement(_eui.EuiFlexGroup,{wrap:true},charts))))}},2717:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Status=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _moment=_interopRequireDefault(__webpack_require__(16));var _summary_status=__webpack_require__(292);var _status_icon=__webpack_require__(1347);var _format_number=__webpack_require__(45);var _common=__webpack_require__(570);var _constants=__webpack_require__(81);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function StatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var name=stats.name,output=stats.output,version=stats.version,uptime=stats.uptime,timeOfLastEvent=stats.timeOfLastEvent;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.nameLabel",defaultMessage:"Name"}),value:name,"data-test-subj":"name"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.outputLabel",defaultMessage:"Output"}),value:output,"data-test-subj":"output"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.versionLabel",defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.uptimeLabel",defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(uptime,"time_since"),"data-test-subj":"uptime"},{label:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.lastEventLabel",defaultMessage:"Last Event"}),value:intl.formatMessage({id:"xpack.monitoring.apm.instance.status.lastEventDescription",defaultMessage:"{timeOfLastEvent} ago"},{timeOfLastEvent:(0,_common.formatTimestampToDuration)(+(0,_moment.default)(timeOfLastEvent),_constants.CALCULATE_DURATION_SINCE)}),"data-test-subj":"timeOfLastEvent"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.apm.instance.statusDescription",defaultMessage:"Status: {apmStatusIcon}",values:{apmStatusIcon:_react.default.createElement(_status_icon.ApmStatusIcon,{status:status})}}))};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,IconComponent:IconComponent,"data-test-subj":"apmDetailStatus"})}var Status=(0,_react2.injectI18n)(StatusUI);exports.Status=Status},292:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"SummaryStatus",{enumerable:true,get:function get(){return _summary_status.SummaryStatus}});var _summary_status=__webpack_require__(2504)},359:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatDateTimeLocal=formatDateTimeLocal;exports.shortenPipelineHash=shortenPipelineHash;exports.LARGE_ABBREVIATED=exports.SMALL_BYTES=exports.LARGE_BYTES=exports.SMALL_FLOAT=exports.LARGE_FLOAT=void 0;var _momentTimezone=_interopRequireDefault(__webpack_require__(224));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LARGE_FLOAT="0,0.[00]";exports.LARGE_FLOAT=LARGE_FLOAT;var SMALL_FLOAT="0.[00]";exports.SMALL_FLOAT=SMALL_FLOAT;var LARGE_BYTES="0,0.0 b";exports.LARGE_BYTES=LARGE_BYTES;var SMALL_BYTES="0.0 b";exports.SMALL_BYTES=SMALL_BYTES;var LARGE_ABBREVIATED="0,0.[0]a";exports.LARGE_ABBREVIATED=LARGE_ABBREVIATED;function formatDateTimeLocal(date){return _momentTimezone.default.tz(date,_momentTimezone.default.tz.guess()).format("LL LTS")}function shortenPipelineHash(hash){return hash.substr(0,6)}},45:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatBytesUsage=formatBytesUsage;exports.formatPercentageUsage=formatPercentageUsage;exports.formatNumber=formatNumber;exports.formatMetric=formatMetric;var _moment=_interopRequireDefault(__webpack_require__(16));__webpack_require__(672);var _numeral=_interopRequireDefault(__webpack_require__(217));var _i18n=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatBytesUsage(used,max){return formatNumber(used,"byte")+" / "+formatNumber(max,"byte")}function formatPercentageUsage(used,max){return formatNumber(used/max,"0.00%")}function formatNumber(num,which){var isNan=Number.isNaN(num);var format="0,0.0";if(typeof num!=="number"||isNan){if(num!==undefined&&!isNan){return num}num=0;format="0"}var postfix="";switch(which){case"time_since":return(0,_moment.default)((0,_moment.default)()-num).from((0,_moment.default)(),true);case"time":return(0,_moment.default)(num).format("H:mm:ss");case"int_commas":format="0,0";break;case"byte":case"bytes":format+=" b";break;case"ms":postfix="ms";break;default:if(which){format=which}}return(0,_numeral.default)(num).format(format)+postfix}function formatMetric(value,format,suffix){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var _options$prependSpace=options.prependSpace,prependSpace=_options$prependSpace===void 0?true:_options$prependSpace;if(Boolean(value)||value===0){var _suffix="";if(suffix!==undefined){if(prependSpace){_suffix=" ".concat(suffix)}else{_suffix=suffix}}return formatNumber(value,format)+_suffix}return _i18n.i18n.translate("xpack.monitoring.formatNumbers.notAvailableLabel",{defaultMessage:"N/A"})}},49:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.routeInitProvider=routeInitProvider;var _lodash=_interopRequireDefault(__webpack_require__(3));var _ajax_error_handler=__webpack_require__(68);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function routeInitProvider(Private,monitoringClusters,globalState,license,kbnUrl){var ajaxErrorHandlers=Private(_ajax_error_handler.ajaxErrorHandlersProvider);function isOnPage(hash){return _lodash.default.contains(window.location.hash,hash)}return function routeInit(){return monitoringClusters().then(function(clusters){var cluster=function(){var existingCurrent=_lodash.default.find(clusters,{cluster_uuid:globalState.cluster_uuid});if(existingCurrent){return existingCurrent}var firstCluster=_lodash.default.first(clusters);if(firstCluster&&firstCluster.cluster_uuid){return firstCluster}return null}();if(cluster&&cluster.license){globalState.cluster_uuid=cluster.cluster_uuid;globalState.ccs=cluster.ccs;globalState.save()}else{return kbnUrl.redirect("/no-data")}license.setLicense(cluster.license);if(!(isOnPage("license")||isOnPage("home"))&&license.isExpired()){return kbnUrl.redirect("/license")}if(!isOnPage("home")&&!cluster.isSupported){return kbnUrl.redirect("/home")}return clusters}).catch(ajaxErrorHandlers)}}},493:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.StatusIcon=StatusIcon;var _react=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function StatusIcon(_ref){var _typeToIconMap;var type=_ref.type,label=_ref.label;var typeToIconMap=(_typeToIconMap={},_defineProperty(_typeToIconMap,StatusIcon.TYPES.RED,"health-red.svg"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.YELLOW,"health-yellow.svg"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.GREEN,"health-green.svg"),_defineProperty(_typeToIconMap,StatusIcon.TYPES.GRAY,"health-gray.svg"),_typeToIconMap);var icon=typeToIconMap[type];return _react.default.createElement("span",{className:"kuiStatusText"},_react.default.createElement("img",{src:"../plugins/monitoring/icons/".concat(icon),alt:label,"data-test-subj":"statusIcon"}))}StatusIcon.TYPES={RED:"RED",YELLOW:"YELLOW",GREEN:"GREEN",GRAY:"GRAY"}},494:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"NoData",{enumerable:true,get:function get(){return _no_data.NoData}});Object.defineProperty(exports,"License",{enumerable:true,get:function get(){return _license.License}});Object.defineProperty(exports,"PageLoading",{enumerable:true,get:function get(){return _page_loading.PageLoading}});Object.defineProperty(exports,"ElasticsearchOverview",{enumerable:true,get:function get(){return _elasticsearch.ElasticsearchOverview}});Object.defineProperty(exports,"ElasticsearchNodes",{enumerable:true,get:function get(){return _elasticsearch.ElasticsearchNodes}});Object.defineProperty(exports,"ElasticsearchIndices",{enumerable:true,get:function get(){return _elasticsearch.ElasticsearchIndices}});var _no_data=__webpack_require__(2539);var _license=__webpack_require__(2554);var _page_loading=__webpack_require__(2555);var _elasticsearch=__webpack_require__(2556)},568:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterStatus=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(292);var _status_icon=__webpack_require__(868);var _format_number=__webpack_require__(45);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ClusterStatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var dataSize=stats.dataSize,nodesCount=stats.nodesCount,indicesCount=stats.indicesCount,memUsed=stats.memUsed,memMax=stats.memMax,totalShards=stats.totalShards,unassignedShards=stats.unassignedShards,documentCount=stats.documentCount,status=stats.status;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.nodesLabel",defaultMessage:"Nodes"}),value:nodesCount,"data-test-subj":"nodesCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.indicesLabel",defaultMessage:"Indices"}),value:indicesCount,"data-test-subj":"indicesCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.memoryLabel",defaultMessage:"Memory"}),value:(0,_format_number.formatMetric)(memUsed,"byte")+" / "+(0,_format_number.formatMetric)(memMax,"byte"),"data-test-subj":"memory"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.totalShardsLabel",defaultMessage:"Total Shards"}),value:totalShards,"data-test-subj":"totalShards"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.unassignedShardsLabel",defaultMessage:"Unassigned Shards"}),value:unassignedShards,"data-test-subj":"unassignedShards"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.documentsLabel",defaultMessage:"Documents"}),value:(0,_format_number.formatMetric)(documentCount,"int_commas"),"data-test-subj":"documentCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.clusterStatus.dataLabel",defaultMessage:"Data"}),value:(0,_format_number.formatMetric)(dataSize,"byte"),"data-test-subj":"dataSize"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_status_icon.ElasticsearchStatusIcon,{status:status})};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"elasticsearchClusterStatus"})}var ClusterStatus=(0,_react2.injectI18n)(ClusterStatusUI);exports.ClusterStatus=ClusterStatus},569:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"LookingFor",{enumerable:true,get:function get(){return _looking_for.LookingFor}});Object.defineProperty(exports,"WhatIs",{enumerable:true,get:function get(){return _what_is.WhatIs}});Object.defineProperty(exports,"ChangesNeeded",{enumerable:true,get:function get(){return _changes_needed.ChangesNeeded}});var _looking_for=__webpack_require__(2542);var _what_is=__webpack_require__(2543);var _changes_needed=__webpack_require__(2544)},570:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});Object.defineProperty(exports,"formatTimestampToDuration",{enumerable:true,get:function get(){return _format_timestamp_to_duration.formatTimestampToDuration}});var _format_timestamp_to_duration=__webpack_require__(674)},571:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.HealthStatusIndicator=HealthStatusIndicator;exports.ClusterItemContainer=ClusterItemContainer;exports.BytesUsage=BytesUsage;exports.BytesPercentageUsage=BytesPercentageUsage;var _react=_interopRequireDefault(__webpack_require__(0));var _format_number=__webpack_require__(45);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function HealthStatusIndicator(props){var statusColorMap={green:"success",yellow:"warning",red:"danger"};var statusColor=statusColorMap[props.status];return _react.default.createElement(_eui.EuiHealth,{color:statusColor,"data-test-subj":"statusIcon"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.cluster.overview.healthStatusDescription",defaultMessage:"Health is {status}",values:{status:props.status}}))}var PanelExtras=function PanelExtras(_ref){var extras=_ref.extras;if(extras===undefined){return null}return _react.default.createElement(_eui.EuiFlexItem,{grow:false},extras)};function ClusterItemContainer(props){var iconMap={elasticsearch:"logoElasticsearch",kibana:"logoKibana",logstash:"logoLogstash",beats:"logoBeats",apm:"apmApp"};var icon=iconMap[props.url];return _react.default.createElement("div",{"data-test-subj":"clusterItemContainer".concat(props.title)},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiFlexGroup,{gutterSize:"m",alignItems:"center"},_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiIcon,{type:icon,size:"l"})),_react.default.createElement(_eui.EuiFlexItem,{grow:false},_react.default.createElement(_eui.EuiTitle,null,_react.default.createElement("h2",null,props.title))))),_react.default.createElement(_eui.EuiFlexItem,{grow:false},props.statusIndicator),_react.default.createElement(PanelExtras,{extras:props.extras})),_react.default.createElement(_eui.EuiSpacer,{size:"m"}),props.children,_react.default.createElement(_eui.EuiSpacer,{size:"xxl"}))}function BytesUsage(_ref2){var usedBytes=_ref2.usedBytes,maxBytes=_ref2.maxBytes;if(usedBytes&&maxBytes){return _react.default.createElement("span",null,_react.default.createElement(_eui.EuiText,null,(0,_format_number.formatPercentageUsage)(usedBytes,maxBytes)),_react.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},(0,_format_number.formatBytesUsage)(usedBytes,maxBytes)))}return null}function BytesPercentageUsage(_ref3){var usedBytes=_ref3.usedBytes,maxBytes=_ref3.maxBytes;if(usedBytes&&maxBytes){return _react.default.createElement("span",null,_react.default.createElement(_eui.EuiText,null,(0,_format_number.formatPercentageUsage)(usedBytes,maxBytes)),_react.default.createElement(_eui.EuiText,{color:"subdued",size:"s"},(0,_format_number.formatBytesUsage)(usedBytes,maxBytes)))}return null}},673:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.KibanaStatusIcon=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _status_icon=__webpack_require__(493);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function KibanaStatusIconUI(_ref){var status=_ref.status,_ref$availability=_ref.availability,availability=_ref$availability===void 0?true:_ref$availability,intl=_ref.intl;var type=function(){if(!availability){return _status_icon.StatusIcon.TYPES.GRAY}var statusKey=status.toUpperCase();return _status_icon.StatusIcon.TYPES[statusKey]||_status_icon.StatusIcon.TYPES.YELLOW}();return _react.default.createElement(_status_icon.StatusIcon,{type:type,label:intl.formatMessage({id:"xpack.monitoring.kibana.statusIconLabel",defaultMessage:"Health: {status}"},{status:status})})}var KibanaStatusIcon=(0,_react2.injectI18n)(KibanaStatusIconUI);exports.KibanaStatusIcon=KibanaStatusIcon},674:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatTimestampToDuration=formatTimestampToDuration;var _moment=_interopRequireDefault(__webpack_require__(16));__webpack_require__(672);var _constants=__webpack_require__(81);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatTimestampToDuration(timestamp,calculationFlag,initialTime){initialTime=initialTime||(0,_moment.default)();var timeDuration;if(calculationFlag===_constants.CALCULATE_DURATION_SINCE){timeDuration=_moment.default.duration(initialTime-(0,_moment.default)(timestamp))}else if(calculationFlag===_constants.CALCULATE_DURATION_UNTIL){timeDuration=_moment.default.duration((0,_moment.default)(timestamp)-initialTime)}else{throw new Error('[formatTimestampToDuration] requires a [calculationFlag] parameter to specify format as "since" or "until" the given time.')}var duration;if(Math.abs(initialTime.diff(timestamp,"months"))>=1){duration=_moment.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_LONG)}else if(Math.abs(initialTime.diff(timestamp,"minutes"))>=1){duration=_moment.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_SHORT)}else{duration=_moment.default.duration(timeDuration).format(_constants.FORMAT_DURATION_TEMPLATE_TINY)}return duration.replace(/ 0 min$/,"").replace(/ 0 hrs$/,"").replace(/ 0 days$/,"")}},68:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.formatMonitoringError=formatMonitoringError;exports.ajaxErrorHandlersProvider=ajaxErrorHandlersProvider;var _react=_interopRequireDefault(__webpack_require__(0));var _lodash=__webpack_require__(3);var _notify=__webpack_require__(14);var _lib=__webpack_require__(1209);var _eui=__webpack_require__(1);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function formatMonitoringError(err){if(err.status&&err.status!==-1&&err.data){return _react.default.createElement(_eui.EuiText,null,_react.default.createElement("p",null,err.data.message),_react.default.createElement(_eui.EuiText,{size:"xs"},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.httpErrorMessage",defaultMessage:"HTTP {errStatus}",values:{errStatus:err.status}})))}return(0,_lib.formatMsg)(err)}function ajaxErrorHandlersProvider($injector){var kbnUrl=$injector.get("kbnUrl");var $window=$injector.get("$window");return function(err){if(err.status===403){kbnUrl.redirect("access-denied")}else if(err.status===404&&!(0,_lodash.contains)($window.location.hash,"no-data")){_notify.toastNotifications.addDanger({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.requestFailedNotificationTitle",defaultMessage:"Monitoring Request Failed"}),text:_react.default.createElement("div",null,formatMonitoringError(err),_react.default.createElement(_eui.EuiSpacer,null),_react.default.createElement(_eui.EuiButton,{size:"s",color:"danger",onClick:function onClick(){return $window.location.reload()}},_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.requestFailedNotification.retryButtonLabel",defaultMessage:"Retry"})))})}else{_notify.toastNotifications.addDanger({title:_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.ajaxErrorHandler.requestErrorNotificationTitle",defaultMessage:"Monitoring Request Error"}),text:formatMonitoringError(err)})}return Promise.reject(err)}}},7:function(module,exports){module.exports=vendors},81:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.METRICBEAT_INDEX_NAME_UNIQUE_TOKEN=exports.INDEX_PATTERN_FILEBEAT=exports.INDEX_PATTERN_ELASTICSEARCH=exports.INDEX_ALERTS=exports.INDEX_PATTERN_BEATS=exports.INDEX_PATTERN_LOGSTASH=exports.INDEX_PATTERN_KIBANA=exports.INDEX_PATTERN=exports.STANDALONE_CLUSTER_CLUSTER_UUID=exports.CLUSTER_ALERTS_ADDRESS_CONFIG_KEY=exports.DEBOUNCE_FAST_MS=exports.DEBOUNCE_SLOW_MS=exports.TABLE_ACTION_RESET_PAGING=exports.TABLE_ACTION_UPDATE_FILTER=exports.DEFAULT_NO_DATA_MESSAGE_WITH_FILTER=exports.DEFAULT_NO_DATA_MESSAGE=exports.LOGSTASH=exports.CLOUD_METADATA_SERVICES=exports.ML_SUPPORTED_LICENSES=exports.CALCULATE_DURATION_UNTIL=exports.CALCULATE_DURATION_SINCE=exports.FORMAT_DURATION_TEMPLATE_TINY=exports.FORMAT_DURATION_TEMPLATE_SHORT=exports.FORMAT_DURATION_TEMPLATE_LONG=exports.CLUSTER_ALERTS_SEARCH_SIZE=exports.CHART_TEXT_COLOR=exports.CHART_LINE_COLOR=exports.SORT_DESCENDING=exports.SORT_ASCENDING=exports.EUI_SORT_DESCENDING=exports.EUI_SORT_ASCENDING=exports.NORMALIZED_DERIVATIVE_UNIT=exports.STORAGE_KEY=exports.KIBANA_USAGE_TYPE=exports.KIBANA_SETTINGS_TYPE=exports.KIBANA_STATS_TYPE_MONITORING=exports.MONITORING_SYSTEM_API_VERSION=exports.KIBANA_MONITORING_LOGGING_TAG=exports.LOGGING_TAG=void 0;var _i18n=__webpack_require__(4);var LOGGING_TAG="monitoring";exports.LOGGING_TAG=LOGGING_TAG;var KIBANA_MONITORING_LOGGING_TAG="kibana-monitoring";exports.KIBANA_MONITORING_LOGGING_TAG=KIBANA_MONITORING_LOGGING_TAG;var MONITORING_SYSTEM_API_VERSION="6";exports.MONITORING_SYSTEM_API_VERSION=MONITORING_SYSTEM_API_VERSION;var KIBANA_STATS_TYPE_MONITORING="kibana_stats";exports.KIBANA_STATS_TYPE_MONITORING=KIBANA_STATS_TYPE_MONITORING;var KIBANA_SETTINGS_TYPE="kibana_settings";exports.KIBANA_SETTINGS_TYPE=KIBANA_SETTINGS_TYPE;var KIBANA_USAGE_TYPE="kibana";exports.KIBANA_USAGE_TYPE=KIBANA_USAGE_TYPE;var STORAGE_KEY="xpack.monitoring.data";exports.STORAGE_KEY=STORAGE_KEY;var NORMALIZED_DERIVATIVE_UNIT="1s";exports.NORMALIZED_DERIVATIVE_UNIT=NORMALIZED_DERIVATIVE_UNIT;var EUI_SORT_ASCENDING="asc";exports.EUI_SORT_ASCENDING=EUI_SORT_ASCENDING;var EUI_SORT_DESCENDING="desc";exports.EUI_SORT_DESCENDING=EUI_SORT_DESCENDING;var SORT_ASCENDING=1;exports.SORT_ASCENDING=SORT_ASCENDING;var SORT_DESCENDING=-1;exports.SORT_DESCENDING=SORT_DESCENDING;var CHART_LINE_COLOR="#d2d2d2";exports.CHART_LINE_COLOR=CHART_LINE_COLOR;var CHART_TEXT_COLOR="#9c9c9c";exports.CHART_TEXT_COLOR=CHART_TEXT_COLOR;var CLUSTER_ALERTS_SEARCH_SIZE=3;exports.CLUSTER_ALERTS_SEARCH_SIZE=CLUSTER_ALERTS_SEARCH_SIZE;var FORMAT_DURATION_TEMPLATE_LONG="M [months] d [days]";exports.FORMAT_DURATION_TEMPLATE_LONG=FORMAT_DURATION_TEMPLATE_LONG;var FORMAT_DURATION_TEMPLATE_SHORT=" d [days] h [hrs] m [min]";exports.FORMAT_DURATION_TEMPLATE_SHORT=FORMAT_DURATION_TEMPLATE_SHORT;var FORMAT_DURATION_TEMPLATE_TINY=" s [seconds]";exports.FORMAT_DURATION_TEMPLATE_TINY=FORMAT_DURATION_TEMPLATE_TINY;var CALCULATE_DURATION_SINCE="since";exports.CALCULATE_DURATION_SINCE=CALCULATE_DURATION_SINCE;var CALCULATE_DURATION_UNTIL="until";exports.CALCULATE_DURATION_UNTIL=CALCULATE_DURATION_UNTIL;var ML_SUPPORTED_LICENSES=["trial","platinum"];exports.ML_SUPPORTED_LICENSES=ML_SUPPORTED_LICENSES;var CLOUD_METADATA_SERVICES={AWS_URL:"http://169.254.169.254/2016-09-02/dynamic/instance-identity/document",AZURE_URL:"http://169.254.169.254/metadata/instance?api-version=2017-04-02",GCP_URL_PREFIX:"http://169.254.169.254/computeMetadata/v1/instance"};exports.CLOUD_METADATA_SERVICES=CLOUD_METADATA_SERVICES;var LOGSTASH={MAJOR_VER_REQD_FOR_PIPELINES:6,QUEUE_TYPES:{MEMORY:"memory",PERSISTED:"persisted"}};exports.LOGSTASH=LOGSTASH;var DEFAULT_NO_DATA_MESSAGE=_i18n.i18n.translate("xpack.monitoring.defaultNoDataMessage",{defaultMessage:"There are no records that match your query. Try changing the time range selection."});exports.DEFAULT_NO_DATA_MESSAGE=DEFAULT_NO_DATA_MESSAGE;var DEFAULT_NO_DATA_MESSAGE_WITH_FILTER=_i18n.i18n.translate("xpack.monitoring.defaultNoDataWithFilterMessage",{defaultMessage:"There are no records that match your query with the filter [{filter}]. Try changing the filter or the time range selection.",values:{filter:"{{FILTER}}"}});exports.DEFAULT_NO_DATA_MESSAGE_WITH_FILTER=DEFAULT_NO_DATA_MESSAGE_WITH_FILTER;var TABLE_ACTION_UPDATE_FILTER="UPDATE_FILTER";exports.TABLE_ACTION_UPDATE_FILTER=TABLE_ACTION_UPDATE_FILTER;var TABLE_ACTION_RESET_PAGING="RESET_PAGING";exports.TABLE_ACTION_RESET_PAGING=TABLE_ACTION_RESET_PAGING;var DEBOUNCE_SLOW_MS=17;exports.DEBOUNCE_SLOW_MS=DEBOUNCE_SLOW_MS;var DEBOUNCE_FAST_MS=10;exports.DEBOUNCE_FAST_MS=DEBOUNCE_FAST_MS;var CLUSTER_ALERTS_ADDRESS_CONFIG_KEY="cluster_alerts.email_notifications.email_address";exports.CLUSTER_ALERTS_ADDRESS_CONFIG_KEY=CLUSTER_ALERTS_ADDRESS_CONFIG_KEY;var STANDALONE_CLUSTER_CLUSTER_UUID="__standalone_cluster__";exports.STANDALONE_CLUSTER_CLUSTER_UUID=STANDALONE_CLUSTER_CLUSTER_UUID;var INDEX_PATTERN=".monitoring-*-6-*,.monitoring-*-7-*";exports.INDEX_PATTERN=INDEX_PATTERN;var INDEX_PATTERN_KIBANA=".monitoring-kibana-6-*,.monitoring-kibana-7-*";exports.INDEX_PATTERN_KIBANA=INDEX_PATTERN_KIBANA;var INDEX_PATTERN_LOGSTASH=".monitoring-logstash-6-*,.monitoring-logstash-7-*";exports.INDEX_PATTERN_LOGSTASH=INDEX_PATTERN_LOGSTASH;var INDEX_PATTERN_BEATS=".monitoring-beats-6-*,.monitoring-beats-7-*";exports.INDEX_PATTERN_BEATS=INDEX_PATTERN_BEATS;var INDEX_ALERTS=".monitoring-alerts-6,.monitoring-alerts-7";exports.INDEX_ALERTS=INDEX_ALERTS;var INDEX_PATTERN_ELASTICSEARCH=".monitoring-es-6-*,.monitoring-es-7-*";exports.INDEX_PATTERN_ELASTICSEARCH=INDEX_PATTERN_ELASTICSEARCH;var INDEX_PATTERN_FILEBEAT="filebeat-*";exports.INDEX_PATTERN_FILEBEAT=INDEX_PATTERN_FILEBEAT;var METRICBEAT_INDEX_NAME_UNIQUE_TOKEN="-mb-";exports.METRICBEAT_INDEX_NAME_UNIQUE_TOKEN=METRICBEAT_INDEX_NAME_UNIQUE_TOKEN},867:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Sparkline=void 0;var _lodash=__webpack_require__(3);var _react=_interopRequireDefault(__webpack_require__(0));var _propTypes=_interopRequireDefault(__webpack_require__(6));var _sparkline_flot_chart=__webpack_require__(2502);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var Sparkline=function(_React$Component){_inherits(Sparkline,_React$Component);function Sparkline(props){var _this;_classCallCheck(this,Sparkline);_this=_possibleConstructorReturn(this,_getPrototypeOf(Sparkline).call(this,props));_this.makeSparklineFlotChart=_this.makeSparklineFlotChart.bind(_assertThisInitialized(_this));_this.onHover=_this.onHover.bind(_assertThisInitialized(_this));_this.renderTooltip=_this.renderTooltip.bind(_assertThisInitialized(_this));_this.handleSparklineRef=_this.handleSparklineRef.bind(_assertThisInitialized(_this));_this.state={tooltip:undefined};return _this}_createClass(Sparkline,[{key:"componentWillReceiveProps",value:function componentWillReceiveProps(_ref){var series=_ref.series,options=_ref.options;if(!(0,_lodash.isEqual)(options,this.props.options)){this.sparklineFlotChart.shutdown();this.makeSparklineFlotChart(options)}if(!(0,_lodash.isEqual)(series,this.props.series)){this.sparklineFlotChart.update(series)}}},{key:"makeSparklineFlotChart",value:function makeSparklineFlotChart(overrideFlotOptions){this.sparklineFlotChart=new _sparkline_flot_chart.SparklineFlotChart(this.chartElem,this.props.series,this.props.onBrush,this.onHover,overrideFlotOptions)}},{key:"onHover",value:function onHover(dataPoint){this.setState({tooltip:dataPoint})}},{key:"renderTooltip",value:function renderTooltip(){if(this.props.tooltip.enabled===false){return}if(!this.state.tooltip){return}var tooltipHeightInPx=36;var tooltipWidthInPx=220;var caretWidthInPx=6;var marginBetweenPointAndCaretInPx=10;var styles={tooltipContainer:{top:this.state.tooltip.yPosition-tooltipHeightInPx/2},tooltip:{height:tooltipHeightInPx,width:tooltipWidthInPx},leftCaret:{width:caretWidthInPx},rightCaret:{width:caretWidthInPx}};var plotMiddleX=this.state.tooltip.plotLeft+this.state.tooltip.plotWidth/2;var tooltipContainerWidthInPx=tooltipWidthInPx+caretWidthInPx;if(this.state.tooltip.xPosition>plotMiddleX){styles.rightCaret.display="block";styles.tooltipContainer.left=this.state.tooltip.xPosition-tooltipContainerWidthInPx-marginBetweenPointAndCaretInPx}else{styles.leftCaret.display="block";styles.tooltipContainer.left=this.state.tooltip.xPosition+marginBetweenPointAndCaretInPx}return _react.default.createElement("div",{className:"monSparklineTooltip__container",style:styles.tooltipContainer},_react.default.createElement("i",{className:"fa fa-caret-left monSparklineTooltip__caret",style:styles.leftCaret}),_react.default.createElement("div",{className:"monSparklineTooltip",style:styles.tooltip},_react.default.createElement("div",{className:"monSparklineTooltip__yValue"},this.props.tooltip.yValueFormatter(this.state.tooltip.yValue)),_react.default.createElement("div",{className:"monSparklineTooltip__xValue"},this.props.tooltip.xValueFormatter(this.state.tooltip.xValue))),_react.default.createElement("i",{className:"fa fa-caret-right monSparklineTooltip__caret",style:styles.rightCaret}))}},{key:"handleSparklineRef",value:function handleSparklineRef(elem){this.chartElem=elem;if(this.chartElem){this.makeSparklineFlotChart(this.props.options)}else if(this.sparklineFlotChart){this.sparklineFlotChart.shutdown()}}},{key:"render",value:function render(){return _react.default.createElement("div",null,_react.default.createElement("div",{className:"monSparkline",ref:this.handleSparklineRef}),this.renderTooltip())}}]);return Sparkline}(_react.default.Component);exports.Sparkline=Sparkline;Sparkline.propTypes={series:_propTypes.default.arrayOf(_propTypes.default.arrayOf(_propTypes.default.number)).isRequired,tooltip:_propTypes.default.shape({enabled:_propTypes.default.bool,xValueFormatter:_propTypes.default.func,yValueFormatter:_propTypes.default.func}),options:_propTypes.default.shape({xaxis:_propTypes.default.shape({min:_propTypes.default.number,max:_propTypes.default.number})})}},868:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ElasticsearchStatusIcon=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _status_icon=__webpack_require__(493);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ElasticsearchStatusIconUI(_ref){var intl=_ref.intl,status=_ref.status;var type=function(){var statusKey=status.toUpperCase();return _status_icon.StatusIcon.TYPES[statusKey]||_status_icon.StatusIcon.TYPES.GRAY}();return _react.default.createElement(_status_icon.StatusIcon,{type:type,label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.healthStatusLabel",defaultMessage:"Health: {status}"},{status:status})})}var ElasticsearchStatusIcon=(0,_react2.injectI18n)(ElasticsearchStatusIconUI);exports.ElasticsearchStatusIcon=ElasticsearchStatusIcon},869:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.IndexDetailStatus=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _summary_status=__webpack_require__(292);var _status_icon=__webpack_require__(868);var _format_number=__webpack_require__(45);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function IndexDetailStatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var dataSize=stats.dataSize,documentCount=stats.documents,totalShards=stats.totalShards,unassignedShards=stats.unassignedShards,status=stats.status;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indexDetailStatus.totalTitle",defaultMessage:"Total"}),value:(0,_format_number.formatMetric)(dataSize.total,"0.0 b"),"data-test-subj":"dataSize"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indexDetailStatus.primariesTitle",defaultMessage:"Primaries"}),value:(0,_format_number.formatMetric)(dataSize.primaries,"0.0 b"),"data-test-subj":"dataSizePrimaries"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indexDetailStatus.documentsTitle",defaultMessage:"Documents"}),value:(0,_format_number.formatMetric)(documentCount,"0.[0]a"),"data-test-subj":"documentCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indexDetailStatus.totalShardsTitle",defaultMessage:"Total Shards"}),value:(0,_format_number.formatMetric)(totalShards,"int_commas"),"data-test-subj":"totalShards"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.indexDetailStatus.unassignedShardsTitle",defaultMessage:"Unassigned Shards"}),value:(0,_format_number.formatMetric)(unassignedShards,"int_commas"),"data-test-subj":"unassignedShards"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_react2.FormattedMessage,{id:"xpack.monitoring.elasticsearch.indexDetailStatus.iconStatusLabel",defaultMessage:"Health: {elasticsearchStatusIcon}",values:{elasticsearchStatusIcon:_react.default.createElement(_status_icon.ElasticsearchStatusIcon,{status:status})}}))};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"elasticsearchIndexDetailStatus"})}var IndexDetailStatus=(0,_react2.injectI18n)(IndexDetailStatusUI);exports.IndexDetailStatus=IndexDetailStatus},870:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.NodeDetailStatus=void 0;var _react=_interopRequireWildcard(__webpack_require__(0));var _summary_status=__webpack_require__(292);var _node=__webpack_require__(1322);var _format_number=__webpack_require__(45);var _react2=__webpack_require__(5);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}}newObj.default=obj;return newObj}}function NodeDetailStatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var transportAddress=stats.transport_address,usedHeap=stats.usedHeap,freeSpace=stats.freeSpace,documents=stats.documents,dataSize=stats.dataSize,indexCount=stats.indexCount,totalShards=stats.totalShards,nodeTypeLabel=stats.nodeTypeLabel,status=stats.status,isOnline=stats.isOnline;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.transportAddress",defaultMessage:"Transport Address"}),value:transportAddress,"data-test-subj":"transportAddress"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.jvmHeapLabel",defaultMessage:"{javaVirtualMachine} Heap"},{javaVirtualMachine:"JVM"}),value:(0,_format_number.formatMetric)(usedHeap,"0,0.[00]","%",{prependSpace:false}),"data-test-subj":"jvmHeap"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.freeDiskSpaceLabel",defaultMessage:"Free Disk Space"}),value:(0,_format_number.formatMetric)(freeSpace,"0.0 b"),"data-test-subj":"freeDiskSpace"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.documentsLabel",defaultMessage:"Documents"}),value:(0,_format_number.formatMetric)(documents,"0.[0]a"),"data-test-subj":"documentCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.dataLabel",defaultMessage:"Data"}),value:(0,_format_number.formatMetric)(dataSize,"0.0 b"),"data-test-subj":"dataSize"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.indicesLabel",defaultMessage:"Indices"}),value:(0,_format_number.formatMetric)(indexCount,"int_commas"),"data-test-subj":"indicesCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.shardsLabel",defaultMessage:"Shards"}),value:(0,_format_number.formatMetric)(totalShards,"int_commas"),"data-test-subj":"shardsCount"},{label:intl.formatMessage({id:"xpack.monitoring.elasticsearch.nodeDetailStatus.typeLabel",defaultMessage:"Type"}),value:nodeTypeLabel,"data-test-subj":"nodeType"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status,isOnline=_ref2.isOnline;return _react.default.createElement(_react.Fragment,null,_react.default.createElement(_node.NodeStatusIcon,{status:status,isOnline:isOnline}))};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,isOnline:isOnline,IconComponent:IconComponent,"data-test-subj":"elasticsearchNodeDetailStatus"})}var NodeDetailStatus=(0,_react2.injectI18n)(NodeDetailStatusUI);exports.NodeDetailStatus=NodeDetailStatus},871:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterStatus=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(292);var _status_icon=__webpack_require__(673);var _format_number=__webpack_require__(45);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ClusterStatusUI(_ref){var stats=_ref.stats,intl=_ref.intl;var connections=stats.concurrent_connections,instances=stats.count,memLimit=stats.memory_limit,memSize=stats.memory_size,requests=stats.requests_total,maxResponseTime=stats.response_time_max,status=stats.status;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.kibana.clusterStatus.instancesLabel",defaultMessage:"Instances"}),value:instances,"data-test-subj":"instances"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.clusterStatus.memoryLabel",defaultMessage:"Memory"}),value:(0,_format_number.formatMetric)(memSize,"byte")+" / "+(0,_format_number.formatMetric)(memLimit,"byte"),"data-test-subj":"memory"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.clusterStatus.requestsLabel",defaultMessage:"Requests"}),value:requests,"data-test-subj":"requests"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.clusterStatus.connectionsLabel",defaultMessage:"Connections"}),value:connections,"data-test-subj":"connections"},{label:intl.formatMessage({id:"xpack.monitoring.kibana.clusterStatus.maxResponseTimeLabel",defaultMessage:"Max. Response Time"}),value:(0,_format_number.formatMetric)(maxResponseTime,"0","ms"),"data-test-subj":"maxResponseTime"}];var IconComponent=function IconComponent(_ref2){var status=_ref2.status;return _react.default.createElement(_status_icon.KibanaStatusIcon,{status:status})};return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,status:status,IconComponent:IconComponent,"data-test-subj":"kibanaClusterStatus"})}var ClusterStatus=(0,_react2.injectI18n)(ClusterStatusUI);exports.ClusterStatus=ClusterStatus},872:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.mapSeverity=mapSeverity;var _lodash=__webpack_require__(3);var _i18n=__webpack_require__(4);function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){_defineProperty(target,key,source[key])})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function mapSeverity(severity){var floor=Math.floor(severity/1e3);var mapped;switch(floor){case 0:mapped={value:_i18n.i18n.translate("xpack.monitoring.alerts.lowSeverityName",{defaultMessage:"low"}),color:"warning",iconType:"iInCircle"};break;case 1:mapped={value:_i18n.i18n.translate("xpack.monitoring.alerts.mediumSeverityName",{defaultMessage:"medium"}),color:"warning",iconType:"alert"};break;default:mapped={value:_i18n.i18n.translate("xpack.monitoring.alerts.highSeverityName",{defaultMessage:"high"}),color:"danger",iconType:"bell"};break}return _objectSpread({title:_i18n.i18n.translate("xpack.monitoring.alerts.severityTitle",{defaultMessage:"{severity} severity alert",values:{severity:(0,_lodash.capitalize)(mapped.value)}})},mapped)}},873:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ClusterStatus=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(292);var _format_number=__webpack_require__(45);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ClusterStatusUi(_ref){var stats=_ref.stats,intl=_ref.intl;var nodeCount=stats.node_count,avgMemoryUsed=stats.avg_memory_used,avgMemory=stats.avg_memory,eventsInTotal=stats.events_in_total,eventsOutTotal=stats.events_out_total;var metrics=[{label:intl.formatMessage({id:"xpack.monitoring.logstash.clusterStatus.nodesLabel",defaultMessage:"Nodes"}),value:nodeCount,"data-test-subj":"node_count"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.clusterStatus.memoryLabel",defaultMessage:"Memory"}),value:(0,_format_number.formatMetric)(avgMemoryUsed,"byte")+" / "+(0,_format_number.formatMetric)(avgMemory,"byte"),"data-test-subj":"memory_used"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.clusterStatus.eventsReceivedLabel",defaultMessage:"Events Received"}),value:(0,_format_number.formatMetric)(eventsInTotal,"0.[0]a"),"data-test-subj":"events_in_total"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.clusterStatus.eventsEmittedLabel",defaultMessage:"Events Emitted"}),value:(0,_format_number.formatMetric)(eventsOutTotal,"0.[0]a"),"data-test-subj":"events_out_total"}];return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"logstashClusterStatus"})}var ClusterStatus=(0,_react2.injectI18n)(ClusterStatusUi);exports.ClusterStatus=ClusterStatus},874:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.DetailStatus=void 0;var _react=_interopRequireDefault(__webpack_require__(0));var _summary_status=__webpack_require__(292);var _format_number=__webpack_require__(45);var _react2=__webpack_require__(5);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DetailStatusUi(_ref){var stats=_ref.stats,intl=_ref.intl;var httpAddress=stats.http_address,events=stats.events,reloads=stats.reloads,pipeline=stats.pipeline,queueType=stats.queue_type,version=stats.version,uptime=stats.uptime;var firstMetrics=[{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.transportAddressLabel",defaultMessage:"Transport Address"}),value:httpAddress,"data-test-subj":"httpAddress"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.eventsReceivedLabel",defaultMessage:"Events Received"}),value:(0,_format_number.formatMetric)(events.in,"0.[0]a"),"data-test-subj":"eventsIn"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.eventsEmittedLabel",defaultMessage:"Events Emitted"}),value:(0,_format_number.formatMetric)(events.out,"0.[0]a"),"data-test-subj":"eventsOut"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.configReloadsLabel",defaultMessage:"Config Reloads"}),value:reloads.successes,"data-test-subj":"numReloads"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.pipelineWorkersLabel",defaultMessage:"Pipeline Workers"}),value:pipeline.workers,"data-test-subj":"pipelineWorkers"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.batchSizeLabel",defaultMessage:"Batch Size"}),value:pipeline.batch_size,"data-test-subj":"pipelineBatchSize"}];var lastMetrics=[{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.versionLabel",defaultMessage:"Version"}),value:version,"data-test-subj":"version"},{label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.uptimeLabel",defaultMessage:"Uptime"}),value:(0,_format_number.formatMetric)(uptime,"time_since"),"data-test-subj":"uptime"}];var metrics=[].concat(firstMetrics);if(queueType){metrics.push({label:intl.formatMessage({id:"xpack.monitoring.logstash.detailStatus.queueTypeLabel",defaultMessage:"Queue Type"}),value:queueType,"data-test-subj":"queueType"})}metrics.push.apply(metrics,lastMetrics);return _react.default.createElement(_summary_status.SummaryStatus,{metrics:metrics,"data-test-subj":"logstashDetailStatus"})}var DetailStatus=(0,_react2.injectI18n)(DetailStatusUi);exports.DetailStatus=DetailStatus},875:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Vertex=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Vertex=function(){function Vertex(graph,json){_classCallCheck(this,Vertex);this.graph=graph;this.update(json)}_createClass(Vertex,[{key:"update",value:function update(json){this.json=json}},{key:"descendants",value:function descendants(){var vertices=[];var edges=[];var pending=[this];var seen={};while(pending.length>0){var vertex=pending.pop();vertex.outgoingEdges.forEach(function(edge){edges.push(edge);var to=edge.to;if(seen[to.id]!==true){vertices.push(to);seen[to.id]=true;pending.push(to)}})}return{vertices:vertices,edges:edges}}},{key:"name",get:function get(){return this.json.config_name}},{key:"id",get:function get(){return this.json.id}},{key:"subtitle",get:function get(){return this.id}},{key:"incomingEdges",get:function get(){return this.graph.edgesByTo[this.json.id]||[]}},{key:"incomingVertices",get:function get(){return this.incomingEdges.map(function(e){return e.from})}},{key:"outgoingEdges",get:function get(){return this.graph.edgesByFrom[this.json.id]||[]}},{key:"outgoingVertices",get:function get(){return this.outgoingEdges.map(function(e){return e.to})}},{key:"meta",get:function get(){return this.json.meta}},{key:"stats",get:function get(){return this.json.stats||{}}},{key:"hasExplicitId",get:function get(){return Boolean(this.json.explicit_id)}}]);return Vertex}();exports.Vertex=Vertex},876:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.QueueVertex=void 0;var _vertex=__webpack_require__(875);function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}var QueueVertex=function(_Vertex){_inherits(QueueVertex,_Vertex);function QueueVertex(){_classCallCheck(this,QueueVertex);return _possibleConstructorReturn(this,_getPrototypeOf(QueueVertex).apply(this,arguments))}_createClass(QueueVertex,[{key:"typeString",get:function get(){return"queue"}},{key:"title",get:function get(){return"queue"}},{key:"iconType",get:function get(){return"logstashQueue"}},{key:"next",get:function get(){return this.outgoingVertices}}]);return QueueVertex}(_vertex.Vertex);exports.QueueVertex=QueueVertex},877:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Statement=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Statement=function Statement(vertex){_classCallCheck(this,Statement);var id=vertex.id,hasExplicitId=vertex.hasExplicitId,stats=vertex.stats,meta=vertex.meta;this.id=id;this.hasExplicitId=hasExplicitId;this.stats=stats;this.meta=meta;this.vertex=vertex};exports.Statement=Statement},878:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Element=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}var Element=function Element(id,statement,depth,parentId){_classCallCheck(this,Element);this.id=id;this.statement=statement;this.depth=depth;this.parentId=parentId};exports.Element=Element}})["plugin"];